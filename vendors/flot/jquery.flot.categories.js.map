{"version":3,"sources":["build/node_modules/browser-pack/_prelude.js","build/vendors/flot/build/vendors/flot/jquery.flot.categories.js"],"names":[],"mappings":"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","file":"jquery.flot.categories.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/* Flot plugin for plotting textual data or categories.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nConsider a dataset like [[\"February\", 34], [\"March\", 20], ...]. This plugin\nallows you to plot such a dataset directly.\n\nTo enable it, you must specify mode: \"categories\" on the axis with the textual\nlabels, e.g.\n\n\t$.plot(\"#placeholder\", data, { xaxis: { mode: \"categories\" } });\n\nBy default, the labels are ordered as they are met in the data series. If you\nneed a different ordering, you can specify \"categories\" on the axis options\nand list the categories there:\n\n\txaxis: {\n\t\tmode: \"categories\",\n\t\tcategories: [\"February\", \"March\", \"April\"]\n\t}\n\nIf you need to customize the distances between the categories, you can specify\n\"categories\" as an object mapping labels to values\n\n\txaxis: {\n\t\tmode: \"categories\",\n\t\tcategories: { \"February\": 1, \"March\": 3, \"April\": 4 }\n\t}\n\nIf you don't specify all categories, the remaining categories will be numbered\nfrom the max value plus 1 (with a spacing of 1 between each).\n\nInternally, the plugin works by transforming the input data through an auto-\ngenerated mapping where the first category becomes 0, the second 1, etc.\nHence, a point like [\"February\", 34] becomes [0, 34] internally in Flot (this\nis visible in hover and click events that return numbers rather than the\ncategory labels). The plugin also overrides the tick generator to spit out the\ncategories as ticks instead of the values.\n\nIf you need to map a value back to its label, the mapping is always accessible\nas \"categories\" on the axis object, e.g. plot.getAxes().xaxis.categories.\n\n*/\n\n(function ($) {\n    var options = {\n        xaxis: {\n            categories: null\n        },\n        yaxis: {\n            categories: null\n        }\n    };\n    \n    function processRawData(plot, series, data, datapoints) {\n        // if categories are enabled, we need to disable\n        // auto-transformation to numbers so the strings are intact\n        // for later processing\n\n        var xCategories = series.xaxis.options.mode == \"categories\",\n            yCategories = series.yaxis.options.mode == \"categories\";\n        \n        if (!(xCategories || yCategories))\n            return;\n\n        var format = datapoints.format;\n\n        if (!format) {\n            // FIXME: auto-detection should really not be defined here\n            var s = series;\n            format = [];\n            format.push({ x: true, number: true, required: true });\n            format.push({ y: true, number: true, required: true });\n\n            if (s.bars.show || (s.lines.show && s.lines.fill)) {\n                var autoscale = !!((s.bars.show && s.bars.zero) || (s.lines.show && s.lines.zero));\n                format.push({ y: true, number: true, required: false, defaultValue: 0, autoscale: autoscale });\n                if (s.bars.horizontal) {\n                    delete format[format.length - 1].y;\n                    format[format.length - 1].x = true;\n                }\n            }\n            \n            datapoints.format = format;\n        }\n\n        for (var m = 0; m < format.length; ++m) {\n            if (format[m].x && xCategories)\n                format[m].number = false;\n            \n            if (format[m].y && yCategories)\n                format[m].number = false;\n        }\n    }\n\n    function getNextIndex(categories) {\n        var index = -1;\n        \n        for (var v in categories)\n            if (categories[v] > index)\n                index = categories[v];\n\n        return index + 1;\n    }\n\n    function categoriesTickGenerator(axis) {\n        var res = [];\n        for (var label in axis.categories) {\n            var v = axis.categories[label];\n            if (v >= axis.min && v <= axis.max)\n                res.push([v, label]);\n        }\n\n        res.sort(function (a, b) { return a[0] - b[0]; });\n\n        return res;\n    }\n    \n    function setupCategoriesForAxis(series, axis, datapoints) {\n        if (series[axis].options.mode != \"categories\")\n            return;\n        \n        if (!series[axis].categories) {\n            // parse options\n            var c = {}, o = series[axis].options.categories || {};\n            if ($.isArray(o)) {\n                for (var i = 0; i < o.length; ++i)\n                    c[o[i]] = i;\n            }\n            else {\n                for (var v in o)\n                    c[v] = o[v];\n            }\n            \n            series[axis].categories = c;\n        }\n\n        // fix ticks\n        if (!series[axis].options.ticks)\n            series[axis].options.ticks = categoriesTickGenerator;\n\n        transformPointsOnAxis(datapoints, axis, series[axis].categories);\n    }\n    \n    function transformPointsOnAxis(datapoints, axis, categories) {\n        // go through the points, transforming them\n        var points = datapoints.points,\n            ps = datapoints.pointsize,\n            format = datapoints.format,\n            formatColumn = axis.charAt(0),\n            index = getNextIndex(categories);\n\n        for (var i = 0; i < points.length; i += ps) {\n            if (points[i] == null)\n                continue;\n            \n            for (var m = 0; m < ps; ++m) {\n                var val = points[i + m];\n\n                if (val == null || !format[m][formatColumn])\n                    continue;\n\n                if (!(val in categories)) {\n                    categories[val] = index;\n                    ++index;\n                }\n                \n                points[i + m] = categories[val];\n            }\n        }\n    }\n\n    function processDatapoints(plot, series, datapoints) {\n        setupCategoriesForAxis(series, \"xaxis\", datapoints);\n        setupCategoriesForAxis(series, \"yaxis\", datapoints);\n    }\n\n    function init(plot) {\n        plot.hooks.processRawData.push(processRawData);\n        plot.hooks.processDatapoints.push(processDatapoints);\n    }\n    \n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'categories',\n        version: '1.0'\n    });\n})(jQuery);\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJidWlsZC92ZW5kb3JzL2Zsb3QvanF1ZXJ5LmZsb3QuY2F0ZWdvcmllcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTZDQSxDQUFDLFVBQVUsQ0FBVixFQUFhO0FBQ1YsUUFBSSxVQUFVO0FBQ1YsZUFBTztBQUNILHdCQUFZO0FBRFQsU0FERztBQUlWLGVBQU87QUFDSCx3QkFBWTtBQURUO0FBSkcsS0FBZDs7QUFTQSxhQUFTLGNBQVQsQ0FBd0IsSUFBeEIsRUFBOEIsTUFBOUIsRUFBc0MsSUFBdEMsRUFBNEMsVUFBNUMsRUFBd0Q7QUFDcEQ7QUFDQTtBQUNBOztBQUVBLFlBQUksY0FBYyxPQUFPLEtBQVAsQ0FBYSxPQUFiLENBQXFCLElBQXJCLElBQTZCLFlBQS9DO0FBQUEsWUFDSSxjQUFjLE9BQU8sS0FBUCxDQUFhLE9BQWIsQ0FBcUIsSUFBckIsSUFBNkIsWUFEL0M7O0FBR0EsWUFBSSxFQUFFLGVBQWUsV0FBakIsQ0FBSixFQUNJOztBQUVKLFlBQUksU0FBUyxXQUFXLE1BQXhCOztBQUVBLFlBQUksQ0FBQyxNQUFMLEVBQWE7QUFDVDtBQUNBLGdCQUFJLElBQUksTUFBUjtBQUNBLHFCQUFTLEVBQVQ7QUFDQSxtQkFBTyxJQUFQLENBQVksRUFBRSxHQUFHLElBQUwsRUFBVyxRQUFRLElBQW5CLEVBQXlCLFVBQVUsSUFBbkMsRUFBWjtBQUNBLG1CQUFPLElBQVAsQ0FBWSxFQUFFLEdBQUcsSUFBTCxFQUFXLFFBQVEsSUFBbkIsRUFBeUIsVUFBVSxJQUFuQyxFQUFaOztBQUVBLGdCQUFJLEVBQUUsSUFBRixDQUFPLElBQVAsSUFBZ0IsRUFBRSxLQUFGLENBQVEsSUFBUixJQUFnQixFQUFFLEtBQUYsQ0FBUSxJQUE1QyxFQUFtRDtBQUMvQyxvQkFBSSxZQUFZLENB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QWQsRUFBb0I7QUFDaEIsYUFBSyxLQUFMLENBQVcsY0FBWCxDQUEwQixJQUExQixDQUErQixjQUEvQjtBQUNBLGFBQUssS0FBTCxDQUFXLGlCQUFYLENBQTZCLElBQTdCLENBQWtDLGlCQUFsQztBQUNIOztBQUVELE1BQUUsSUFBRixDQUFPLE9BQVAsQ0FBZSxJQUFmLENBQW9CO0FBQ2hCLGNBQU0sSUFEVTtBQUVoQixpQkFBUyxPQUZPO0FBR2hCLGNBQU0sWUFIVTtBQUloQixpQkFBUztBQUpPLEtBQXBCO0FBTUgsQ0FoSkQsRUFnSkcsTUFoSkgiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLyogRmxvdCBwbHVnaW4gZm9yIHBsb3R0aW5nIHRleHR1YWwgZGF0YSBvciBjYXRlZ29yaWVzLlxuXG5Db3B5cmlnaHQgKGMpIDIwMDctMjAxNCBJT0xBIGFuZCBPbGUgTGF1cnNlbi5cbkxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuQ29uc2lkZXIgYSBkYXRhc2V0IGxpa2UgW1tcIkZlYnJ1YXJ5XCIsIDM0XSwgW1wiTWFyY2hcIiwgMjBdLCAuLi5dLiBUaGlzIHBsdWdpblxuYWxsb3dzIHlvdSB0byBwbG90IHN1Y2ggYSBkYXRhc2V0IGRpcmVjdGx5LlxuXG5UbyBlbmFibGUgaXQsIHlvdSBtdXN0IHNwZWNpZnkgbW9kZTogXCJjYXRlZ29yaWVzXCIgb24gdGhlIGF4aXMgd2l0aCB0aGUgdGV4dHVhbFxubGFiZWxzLCBlLmcuXG5cblx0JC5wbG90KFwiI3BsYWNlaG9sZGVyXCIsIGRhdGEsIHsgeGF4aXM6IHsgbW9kZTogXCJjYXRlZ29yaWVzXCIgfSB9KTtcblxuQnkgZGVmYXVsdCwgdGhlIGxhYmVscyBhcmUgb3JkZXJlZCBhcyB0aGV5IGFyZSBtZXQgaW4gdGhlIGRhdGEgc2VyaWVzLiBJZiB5b3Vcbm5lZWQgYSBkaWZmZXJlbnQgb3JkZXJpbmcsIHlvdSBjYW4gc3BlY2lmeSBcImNhdGVnb3JpZXNcIiBvbiB0aGUgYXhpcyBvcHRpb25zXG5hbmQgbGlzdCB0aGUgY2F0ZWdvcmllcyB0aGVyZTpcblxuXHR4YXhpczoge1xuXHRcdG1vZGU6IFwiY2F0ZWdvcmllc1wiLFxuXHRcdGNhdGVnb3JpZXM6IFtcIkZlYnJ1YXJ5XCIsIFwiTWFyY2hcIiwgXCJBcHJpbFwiXVxuXHR9XG5cbklmIHlvdSBuZWVkIHRvIGN1c3RvbWl6ZSB0aGUgZGlzdGFuY2VzIGJldHdlZW4gdGhlIGNhdGVnb3JpZXMsIHlvdSBjYW4gc3BlY2lmeVxuXCJjYXRlZ29yaWVzXCIgYXMgYW4gb2JqZWN0IG1hcHBpbmcgbGFiZWxzIHRvIHZhbHVlc1xuXG5cdHhheGlzOiB7XG5cdFx0bW9kZTogXCJjYXRlZ29yaWVzXCIsXG5cdFx0Y2F0ZWdvcmllczogeyBcIkZlYnJ1YXJ5XCI6IDEsIFwiTWFyY2hcIjogMywgXCJBcHJpbFwiOiA0IH1cblx0fVxuXG5JZiB5b3UgZG9uJ3Qgc3BlY2lmeSBhbGwgY2F0ZWdvcmllcywgdGhlIHJlbWFpbmluZyBjYXRlZ29yaWVzIHdpbGwgYmUgbnVtYmVyZWRcbmZyb20gdGhlIG1heCB2YWx1ZSBwbHVzIDEgKHdpdGggYSBzcGFjaW5nIG9mIDEgYmV0d2VlbiBlYWNoKS5cblxuSW50ZXJuYWxseSwgdGhlIHBsdWdpbiB3b3JrcyBieSB0cmFuc2Zvcm1pbmcgdGhlIGlucHV0IGRhdGEgdGhyb3VnaCBhbiBhdXRvLVxuZ2VuZXJhdGVkIG1hcHBpbmcgd2hlcmUgdGhlIGZpcnN0IGNhdGVnb3J5IGJlY29tZXMgMCwgdGhlIHNlY29uZCAxLCBldGMuXG5IZW5jZSwgYSBwb2ludCBsaWtlIFtcIkZlYnJ1YXJ5XCIsIDM0XSBiZWNvbWVzIFswLCAzNF0gaW50ZXJuYWxseSBpbiBGbG90ICh0aGlzXG5pcyB2aXNpYmxlIGluIGhvdmVyIGFuZCBjbGljayBldmVudHMgdGhhdCByZXR1cm4gbnVtYmVycyByYXRoZXIgdGhhbiB0aGVcbmNhdGVnb3J5IGxhYmVscykuIFRoZSBwbHVnaW4gYWxzbyBvdmVycmlkZXMgdGhlIHRpY2sgZ2VuZXJhdG9yIHRvIHNwaXQgb3V0IHRoZVxuY2F0ZWdvcmllcyBhcyB0aWNrcyBpbnN0ZWFkIG9mIHRoZSB2YWx1ZXMuXG5cbklmIHlvdSBuZWVkIHRvIG1hcCBhIHZhbHVlIGJhY2sgdG8gaXRzIGxhYmVsLCB0aGUgbWFwcGluZyBpcyBhbHdheXMgYWNjZXNzaWJsZVxuYXMgXCJjYXRlZ29yaWVzXCIgb24gdGhlIGF4aXMgb2JqZWN0LCBlLmcuIHBsb3QuZ2V0QXhlcygpLnhheGlzLmNhdGVnb3JpZXMuXG5cbiovXG5cbihmdW5jdGlvbiAoJCkge1xuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICB4YXhpczoge1xuICAgICAgICAgICAgY2F0ZWdvcmllczogbnVsbFxuICAgICAgICB9LFxuICAgICAgICB5YXhpczoge1xuICAgICAgICAgICAgY2F0ZWdvcmllczogbnVsbFxuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBmdW5jdGlvbiBwcm9jZXNzUmF3RGF0YShwbG90LCBzZXJpZXMsIGRhdGEsIGRhdGFwb2ludHMpIHtcbiAgICAgICAgLy8gaWYgY2F0ZWdvcmllcyBhcmUgZW5hYmxlZCwgd2UgbmVlZCB0byBkaXNhYmxlXG4gICAgICAgIC8vIGF1dG8tdHJhbnNmb3JtYXRpb24gdG8gbnVtYmVycyBzbyB0aGUgc3RyaW5ncyBhcmUgaW50YWN0XG4gICAgICAgIC8vIGZvciBsYXRlciBwcm9jZXNzaW5nXG5cbiAgICAgICAgdmFyIHhDYXRlZ29yaWVzID0gc2VyaWVzLnhheGlzLm9wdGlvbnMubW9kZSA9PSBcImNhdGVnb3JpZXNcIixcbiAgICAgICAgICAgIHlDYXRlZ29yaWVzID0gc2VyaWVzLnlheGlzLm9wdGlvbnMubW9kZSA9PSBcImNhdGVnb3JpZXNcIjtcbiAgICAgICAgXG4gICAgICAgIGlmICghKHhDYXRlZ29yaWVzIHx8IHlDYXRlZ29yaWVzKSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgZm9ybWF0ID0gZGF0YXBvaW50cy5mb3JtYXQ7XG5cbiAgICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgICAgIC8vIEZJWE1FOiBhdXRvLWRldGVjdGlvbiBzaG91bGQgcmVhbGx5IG5vdCBiZSBkZWZpbmVkIGhlcmVcbiAgICAgICAgICAgIHZhciBzID0gc2VyaWVzO1xuICAgICAgICAgICAgZm9ybWF0ID0gW107XG4gICAgICAgICAgICBmb3JtYXQucHVzaCh7IHg6IHRydWUsIG51bWJlcjogdHJ1ZSwgcmVxdWlyZWQ6IHRydWUgfSk7XG4gICAgICAgICAgICBmb3JtYXQucHVzaCh7IHk6IHRydWUsIG51bWJlcjogdHJ1ZSwgcmVxdWlyZWQ6IHRydWUgfSk7XG5cbiAgICAgICAgICAgIGlmIChzLmJhcnMuc2hvdyB8fCAocy5saW5lcy5zaG93ICYmIHMubGluZXMuZmlsbCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXV0b3NjYWxlID0gISEoKHMuYmFycy5zaG93ICYmIHMuYmFycy56ZXJvKSB8fCAocy5saW5lcy5zaG93ICYmIHMubGluZXMuemVybykpO1xuICAgICAgICAgICAgICAgIGZvcm1hdC5wdXNoKHsgeTogdHJ1ZSwgbnVtYmVyOiB0cnVlLCByZXF1aXJlZDogZmFsc2UsIGRlZmF1bHRWYWx1ZTogMCwgYXV0b3NjYWxlOiBhdXRvc2NhbGUgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHMuYmFycy5ob3Jpem9udGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmb3JtYXRbZm9ybWF0Lmxlbmd0aCAtIDFdLnk7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdFtmb3JtYXQubGVuZ3RoIC0gMV0ueCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBkYXRhcG9pbnRzLmZvcm1hdCA9IGZvcm1hdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIG0gPSAwOyBtIDwgZm9ybWF0Lmxlbmd0aDsgKyttKSB7XG4gICAgICAgICAgICBpZiAoZm9ybWF0W21dLnggJiYgeENhdGVnb3JpZXMpXG4gICAgICAgICAgICAgICAgZm9ybWF0W21dLm51bWJlciA9IGZhbHNlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZm9ybWF0W21dLnkgJiYgeUNhdGVnb3JpZXMpXG4gICAgICAgICAgICAgICAgZm9ybWF0W21dLm51bWJlciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0TmV4dEluZGV4KGNhdGVnb3JpZXMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciB2IGluIGNhdGVnb3JpZXMpXG4gICAgICAgICAgICBpZiAoY2F0ZWdvcmllc1t2XSA+IGluZGV4KVxuICAgICAgICAgICAgICAgIGluZGV4ID0gY2F0ZWdvcmllc1t2XTtcblxuICAgICAgICByZXR1cm4gaW5kZXggKyAxO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhdGVnb3JpZXNUaWNrR2VuZXJhdG9yKGF4aXMpIHtcbiAgICAgICAgdmFyIHJlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBsYWJlbCBpbiBheGlzLmNhdGVnb3JpZXMpIHtcbiAgICAgICAgICAgIHZhciB2ID0gYXhpcy5jYXRlZ29yaWVzW2xhYmVsXTtcbiAgICAgICAgICAgIGlmICh2ID49IGF4aXMubWluICYmIHYgPD0gYXhpcy5tYXgpXG4gICAgICAgICAgICAgICAgcmVzLnB1c2goW3YsIGxhYmVsXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXMuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYVswXSAtIGJbMF07IH0pO1xuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIHNldHVwQ2F0ZWdvcmllc0ZvckF4aXMoc2VyaWVzLCBheGlzLCBkYXRhcG9pbnRzKSB7XG4gICAgICAgIGlmIChzZXJpZXNbYXhpc10ub3B0aW9ucy5tb2RlICE9IFwiY2F0ZWdvcmllc1wiKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFzZXJpZXNbYXhpc10uY2F0ZWdvcmllcykge1xuICAgICAgICAgICAgLy8gcGFyc2Ugb3B0aW9uc1xuICAgICAgICAgICAgdmFyIGMgPSB7fSwgbyA9IHNlcmllc1theGlzXS5vcHRpb25zLmNhdGVnb3JpZXMgfHwge307XG4gICAgICAgICAgICBpZiAoJC5pc0FycmF5KG8pKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICBjW29baV1dID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHYgaW4gbylcbiAgICAgICAgICAgICAgICAgICAgY1t2XSA9IG9bdl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNlcmllc1theGlzXS5jYXRlZ29yaWVzID0gYztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpeCB0aWNrc1xuICAgICAgICBpZiAoIXNlcmllc1theGlzXS5vcHRpb25zLnRpY2tzKVxuICAgICAgICAgICAgc2VyaWVzW2F4aXNdLm9wdGlvbnMudGlja3MgPSBjYXRlZ29yaWVzVGlja0dlbmVyYXRvcjtcblxuICAgICAgICB0cmFuc2Zvcm1Qb2ludHNPbkF4aXMoZGF0YXBvaW50cywgYXhpcywgc2VyaWVzW2F4aXNdLmNhdGVnb3JpZXMpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm1Qb2ludHNPbkF4aXMoZGF0YXBvaW50cywgYXhpcywgY2F0ZWdvcmllcykge1xuICAgICAgICAvLyBnbyB0aHJvdWdoIHRoZSBwb2ludHMsIHRyYW5zZm9ybWluZyB0aGVtXG4gICAgICAgIHZhciBwb2ludHMgPSBkYXRhcG9pbnRzLnBvaW50cyxcbiAgICAgICAgICAgIHBzID0gZGF0YXBvaW50cy5wb2ludHNpemUsXG4gICAgICAgICAgICBmb3JtYXQgPSBkYXRhcG9pbnRzLmZvcm1hdCxcbiAgICAgICAgICAgIGZvcm1hdENvbHVtbiA9IGF4aXMuY2hhckF0KDApLFxuICAgICAgICAgICAgaW5kZXggPSBnZXROZXh0SW5kZXgoY2F0ZWdvcmllcyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpICs9IHBzKSB7XG4gICAgICAgICAgICBpZiAocG9pbnRzW2ldID09IG51bGwpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAodmFyIG0gPSAwOyBtIDwgcHM7ICsrbSkge1xuICAgICAgICAgICAgICAgIHZhciB2YWwgPSBwb2ludHNbaSArIG1dO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZhbCA9PSBudWxsIHx8ICFmb3JtYXRbbV1bZm9ybWF0Q29sdW1uXSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoISh2YWwgaW4gY2F0ZWdvcmllcykpIHtcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllc1t2YWxdID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICsraW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHBvaW50c1tpICsgbV0gPSBjYXRlZ29yaWVzW3ZhbF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzRGF0YXBvaW50cyhwbG90LCBzZXJpZXMsIGRhdGFwb2ludHMpIHtcbiAgICAgICAgc2V0dXBDYXRlZ29yaWVzRm9yQXhpcyhzZXJpZXMsIFwieGF4aXNcIiwgZGF0YXBvaW50cyk7XG4gICAgICAgIHNldHVwQ2F0ZWdvcmllc0ZvckF4aXMoc2VyaWVzLCBcInlheGlzXCIsIGRhdGFwb2ludHMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXQocGxvdCkge1xuICAgICAgICBwbG90Lmhvb2tzLnByb2Nlc3NSYXdEYXRhLnB1c2gocHJvY2Vzc1Jhd0RhdGEpO1xuICAgICAgICBwbG90Lmhvb2tzLnByb2Nlc3NEYXRhcG9pbnRzLnB1c2gocHJvY2Vzc0RhdGFwb2ludHMpO1xuICAgIH1cbiAgICBcbiAgICAkLnBsb3QucGx1Z2lucy5wdXNoKHtcbiAgICAgICAgaW5pdDogaW5pdCxcbiAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgbmFtZTogJ2NhdGVnb3JpZXMnLFxuICAgICAgICB2ZXJzaW9uOiAnMS4wJ1xuICAgIH0pO1xufSkoalF1ZXJ5KTtcbiJdfQ=="}