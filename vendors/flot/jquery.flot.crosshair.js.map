{"version":3,"sources":["build/node_modules/browser-pack/_prelude.js","build/vendors/flot/build/vendors/flot/jquery.flot.crosshair.js"],"names":[],"mappings":"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","file":"jquery.flot.crosshair.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/* Flot plugin for showing crosshairs when the mouse hovers over the plot.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nThe plugin supports these options:\n\n\tcrosshair: {\n\t\tmode: null or \"x\" or \"y\" or \"xy\"\n\t\tcolor: color\n\t\tlineWidth: number\n\t}\n\nSet the mode to one of \"x\", \"y\" or \"xy\". The \"x\" mode enables a vertical\ncrosshair that lets you trace the values on the x axis, \"y\" enables a\nhorizontal crosshair and \"xy\" enables them both. \"color\" is the color of the\ncrosshair (default is \"rgba(170, 0, 0, 0.80)\"), \"lineWidth\" is the width of\nthe drawn lines (default is 1).\n\nThe plugin also adds four public methods:\n\n  - setCrosshair( pos )\n\n    Set the position of the crosshair. Note that this is cleared if the user\n    moves the mouse. \"pos\" is in coordinates of the plot and should be on the\n    form { x: xpos, y: ypos } (you can use x2/x3/... if you're using multiple\n    axes), which is coincidentally the same format as what you get from a\n    \"plothover\" event. If \"pos\" is null, the crosshair is cleared.\n\n  - clearCrosshair()\n\n    Clear the crosshair.\n\n  - lockCrosshair(pos)\n\n    Cause the crosshair to lock to the current location, no longer updating if\n    the user moves the mouse. Optionally supply a position (passed on to\n    setCrosshair()) to move it to.\n\n    Example usage:\n\n\tvar myFlot = $.plot( $(\"#graph\"), ..., { crosshair: { mode: \"x\" } } };\n\t$(\"#graph\").bind( \"plothover\", function ( evt, position, item ) {\n\t\tif ( item ) {\n\t\t\t// Lock the crosshair to the data point being hovered\n\t\t\tmyFlot.lockCrosshair({\n\t\t\t\tx: item.datapoint[ 0 ],\n\t\t\t\ty: item.datapoint[ 1 ]\n\t\t\t});\n\t\t} else {\n\t\t\t// Return normal crosshair operation\n\t\t\tmyFlot.unlockCrosshair();\n\t\t}\n\t});\n\n  - unlockCrosshair()\n\n    Free the crosshair to move again after locking it.\n*/\n\n(function ($) {\n    var options = {\n        crosshair: {\n            mode: null, // one of null, \"x\", \"y\" or \"xy\",\n            color: \"rgba(170, 0, 0, 0.80)\",\n            lineWidth: 1\n        }\n    };\n    \n    function init(plot) {\n        // position of crosshair in pixels\n        var crosshair = { x: -1, y: -1, locked: false };\n\n        plot.setCrosshair = function setCrosshair(pos) {\n            if (!pos)\n                crosshair.x = -1;\n            else {\n                var o = plot.p2c(pos);\n                crosshair.x = Math.max(0, Math.min(o.left, plot.width()));\n                crosshair.y = Math.max(0, Math.min(o.top, plot.height()));\n            }\n            \n            plot.triggerRedrawOverlay();\n        };\n        \n        plot.clearCrosshair = plot.setCrosshair; // passes null for pos\n        \n        plot.lockCrosshair = function lockCrosshair(pos) {\n            if (pos)\n                plot.setCrosshair(pos);\n            crosshair.locked = true;\n        };\n\n        plot.unlockCrosshair = function unlockCrosshair() {\n            crosshair.locked = false;\n        };\n\n        function onMouseOut(e) {\n            if (crosshair.locked)\n                return;\n\n            if (crosshair.x != -1) {\n                crosshair.x = -1;\n                plot.triggerRedrawOverlay();\n            }\n        }\n\n        function onMouseMove(e) {\n            if (crosshair.locked)\n                return;\n                \n            if (plot.getSelection && plot.getSelection()) {\n                crosshair.x = -1; // hide the crosshair while selecting\n                return;\n            }\n                \n            var offset = plot.offset();\n            crosshair.x = Math.max(0, Math.min(e.pageX - offset.left, plot.width()));\n            crosshair.y = Math.max(0, Math.min(e.pageY - offset.top, plot.height()));\n            plot.triggerRedrawOverlay();\n        }\n        \n        plot.hooks.bindEvents.push(function (plot, eventHolder) {\n            if (!plot.getOptions().crosshair.mode)\n                return;\n\n            eventHolder.mouseout(onMouseOut);\n            eventHolder.mousemove(onMouseMove);\n        });\n\n        plot.hooks.drawOverlay.push(function (plot, ctx) {\n            var c = plot.getOptions().crosshair;\n            if (!c.mode)\n                return;\n\n            var plotOffset = plot.getPlotOffset();\n            \n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            if (crosshair.x != -1) {\n                var adj = plot.getOptions().crosshair.lineWidth % 2 ? 0.5 : 0;\n\n                ctx.strokeStyle = c.color;\n                ctx.lineWidth = c.lineWidth;\n                ctx.lineJoin = \"round\";\n\n                ctx.beginPath();\n                if (c.mode.indexOf(\"x\") != -1) {\n                    var drawX = Math.floor(crosshair.x) + adj;\n                    ctx.moveTo(drawX, 0);\n                    ctx.lineTo(drawX, plot.height());\n                }\n                if (c.mode.indexOf(\"y\") != -1) {\n                    var drawY = Math.floor(crosshair.y) + adj;\n                    ctx.moveTo(0, drawY);\n                    ctx.lineTo(plot.width(), drawY);\n                }\n                ctx.stroke();\n            }\n            ctx.restore();\n        });\n\n        plot.hooks.shutdown.push(function (plot, eventHolder) {\n            eventHolder.unbind(\"mouseout\", onMouseOut);\n            eventHolder.unbind(\"mousemove\", onMouseMove);\n        });\n    }\n    \n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'crosshair',\n        version: '1.0'\n    });\n})(jQuery);\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJidWlsZC92ZW5kb3JzL2Zsb3QvanF1ZXJ5LmZsb3QuY3Jvc3NoYWlyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBNERBLENBQUMsVUFBVSxDQUFWLEVBQWE7QUFDVixRQUFJLFVBQVU7QUFDVixtQkFBVztBQUNQLGtCQUFNLElBREMsRUFDSztBQUNaLG1CQUFPLHVCQUZBO0FBR1AsdUJBQVc7QUFISjtBQURELEtBQWQ7O0FBUUEsYUFBUyxJQUFULENBQWMsSUFBZCxFQUFvQjtBQUNoQjtBQUNBLFlBQUksWUFBWSxFQUFFLEdBQUcsQ0FBQyxDQUFOLEVBQVMsR0FBRyxDQUFDLENBQWIsRUFBZ0IsUUFBUSxLQUF4QixFQUFoQjs7QUFFQSxhQUFLLFlBQUwsR0FBb0IsU0FBUyxZQUFULENBQXNCLEdBQXRCLEVBQTJCO0FBQzNDLGdCQUFJLENBQUMsR0FBTCxFQUNJLFVBQVUsQ0FBVixHQUFjLENBQUMsQ0FBZixDQURKLEtBRUs7QUFDRCxvQkFBSSxJQUFJLEtBQUssR0FBTCxDQUFTLEdBQVQsQ0FBUjtBQUNBLDBCQUFVLENBQVYsR0FBYyxLQUFLLEdBQUwsQ0FBUyxDQUFULEVBQVksS0FBSyxHQUFMLENBQVMsRUFBRSxJQUFYLEVBQWlCLEtBQUssS0FBTCxFQUFqQixDQUFaLENBQWQ7QUFDQSwwQkFBVSxDQUFWLEdBQWMsS0FBSyxHQUFMLENBQVMsQ0FBVCxFQUFZLEtBQUssR0FBTCxDQUFTLEVBQUUsR0FBWCxFQUFnQixLQUFLLE1BQUwsRUFBaEIsQ0FBWixDQUFkO0FBQ0g7O0FBRUQsaUJBQUssb0JBQUw7QUFDSCxTQVZEOztBQVlBLGFBQUssY0FBTCxHQUFzQixLQUFLLFlBQTNCLENBaEJnQixDQWdCeUI7O0FBRXpDLGFBQUssYUFBTCxH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QUFVLENBQXJCLElBQTBCLEdBQXRDO0FBQ0Esd0JBQUksTUFBSixDQUFXLENBQVgsRUFBYyxLQUFkO0FBQ0Esd0JBQUksTUFBSixDQUFXLEtBQUssS0FBTCxFQUFYLEVBQXlCLEtBQXpCO0FBQ0g7QUFDRCxvQkFBSSxNQUFKO0FBQ0g7QUFDRCxnQkFBSSxPQUFKO0FBQ0gsU0EvQkQ7O0FBaUNBLGFBQUssS0FBTCxDQUFXLFFBQVgsQ0FBb0IsSUFBcEIsQ0FBeUIsVUFBVSxJQUFWLEVBQWdCLFdBQWhCLEVBQTZCO0FBQ2xELHdCQUFZLE1BQVosQ0FBbUIsVUFBbkIsRUFBK0IsVUFBL0I7QUFDQSx3QkFBWSxNQUFaLENBQW1CLFdBQW5CLEVBQWdDLFdBQWhDO0FBQ0gsU0FIRDtBQUlIOztBQUVELE1BQUUsSUFBRixDQUFPLE9BQVAsQ0FBZSxJQUFmLENBQW9CO0FBQ2hCLGNBQU0sSUFEVTtBQUVoQixpQkFBUyxPQUZPO0FBR2hCLGNBQU0sV0FIVTtBQUloQixpQkFBUztBQUpPLEtBQXBCO0FBTUgsQ0FuSEQsRUFtSEcsTUFuSEgiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLyogRmxvdCBwbHVnaW4gZm9yIHNob3dpbmcgY3Jvc3NoYWlycyB3aGVuIHRoZSBtb3VzZSBob3ZlcnMgb3ZlciB0aGUgcGxvdC5cblxuQ29weXJpZ2h0IChjKSAyMDA3LTIwMTQgSU9MQSBhbmQgT2xlIExhdXJzZW4uXG5MaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cblRoZSBwbHVnaW4gc3VwcG9ydHMgdGhlc2Ugb3B0aW9uczpcblxuXHRjcm9zc2hhaXI6IHtcblx0XHRtb2RlOiBudWxsIG9yIFwieFwiIG9yIFwieVwiIG9yIFwieHlcIlxuXHRcdGNvbG9yOiBjb2xvclxuXHRcdGxpbmVXaWR0aDogbnVtYmVyXG5cdH1cblxuU2V0IHRoZSBtb2RlIHRvIG9uZSBvZiBcInhcIiwgXCJ5XCIgb3IgXCJ4eVwiLiBUaGUgXCJ4XCIgbW9kZSBlbmFibGVzIGEgdmVydGljYWxcbmNyb3NzaGFpciB0aGF0IGxldHMgeW91IHRyYWNlIHRoZSB2YWx1ZXMgb24gdGhlIHggYXhpcywgXCJ5XCIgZW5hYmxlcyBhXG5ob3Jpem9udGFsIGNyb3NzaGFpciBhbmQgXCJ4eVwiIGVuYWJsZXMgdGhlbSBib3RoLiBcImNvbG9yXCIgaXMgdGhlIGNvbG9yIG9mIHRoZVxuY3Jvc3NoYWlyIChkZWZhdWx0IGlzIFwicmdiYSgxNzAsIDAsIDAsIDAuODApXCIpLCBcImxpbmVXaWR0aFwiIGlzIHRoZSB3aWR0aCBvZlxudGhlIGRyYXduIGxpbmVzIChkZWZhdWx0IGlzIDEpLlxuXG5UaGUgcGx1Z2luIGFsc28gYWRkcyBmb3VyIHB1YmxpYyBtZXRob2RzOlxuXG4gIC0gc2V0Q3Jvc3NoYWlyKCBwb3MgKVxuXG4gICAgU2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgY3Jvc3NoYWlyLiBOb3RlIHRoYXQgdGhpcyBpcyBjbGVhcmVkIGlmIHRoZSB1c2VyXG4gICAgbW92ZXMgdGhlIG1vdXNlLiBcInBvc1wiIGlzIGluIGNvb3JkaW5hdGVzIG9mIHRoZSBwbG90IGFuZCBzaG91bGQgYmUgb24gdGhlXG4gICAgZm9ybSB7IHg6IHhwb3MsIHk6IHlwb3MgfSAoeW91IGNhbiB1c2UgeDIveDMvLi4uIGlmIHlvdSdyZSB1c2luZyBtdWx0aXBsZVxuICAgIGF4ZXMpLCB3aGljaCBpcyBjb2luY2lkZW50YWxseSB0aGUgc2FtZSBmb3JtYXQgYXMgd2hhdCB5b3UgZ2V0IGZyb20gYVxuICAgIFwicGxvdGhvdmVyXCIgZXZlbnQuIElmIFwicG9zXCIgaXMgbnVsbCwgdGhlIGNyb3NzaGFpciBpcyBjbGVhcmVkLlxuXG4gIC0gY2xlYXJDcm9zc2hhaXIoKVxuXG4gICAgQ2xlYXIgdGhlIGNyb3NzaGFpci5cblxuICAtIGxvY2tDcm9zc2hhaXIocG9zKVxuXG4gICAgQ2F1c2UgdGhlIGNyb3NzaGFpciB0byBsb2NrIHRvIHRoZSBjdXJyZW50IGxvY2F0aW9uLCBubyBsb25nZXIgdXBkYXRpbmcgaWZcbiAgICB0aGUgdXNlciBtb3ZlcyB0aGUgbW91c2UuIE9wdGlvbmFsbHkgc3VwcGx5IGEgcG9zaXRpb24gKHBhc3NlZCBvbiB0b1xuICAgIHNldENyb3NzaGFpcigpKSB0byBtb3ZlIGl0IHRvLlxuXG4gICAgRXhhbXBsZSB1c2FnZTpcblxuXHR2YXIgbXlGbG90ID0gJC5wbG90KCAkKFwiI2dyYXBoXCIpLCAuLi4sIHsgY3Jvc3NoYWlyOiB7IG1vZGU6IFwieFwiIH0gfSB9O1xuXHQkKFwiI2dyYXBoXCIpLmJpbmQoIFwicGxvdGhvdmVyXCIsIGZ1bmN0aW9uICggZXZ0LCBwb3NpdGlvbiwgaXRlbSApIHtcblx0XHRpZiAoIGl0ZW0gKSB7XG5cdFx0XHQvLyBMb2NrIHRoZSBjcm9zc2hhaXIgdG8gdGhlIGRhdGEgcG9pbnQgYmVpbmcgaG92ZXJlZFxuXHRcdFx0bXlGbG90LmxvY2tDcm9zc2hhaXIoe1xuXHRcdFx0XHR4OiBpdGVtLmRhdGFwb2ludFsgMCBdLFxuXHRcdFx0XHR5OiBpdGVtLmRhdGFwb2ludFsgMSBdXG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gUmV0dXJuIG5vcm1hbCBjcm9zc2hhaXIgb3BlcmF0aW9uXG5cdFx0XHRteUZsb3QudW5sb2NrQ3Jvc3NoYWlyKCk7XG5cdFx0fVxuXHR9KTtcblxuICAtIHVubG9ja0Nyb3NzaGFpcigpXG5cbiAgICBGcmVlIHRoZSBjcm9zc2hhaXIgdG8gbW92ZSBhZ2FpbiBhZnRlciBsb2NraW5nIGl0LlxuKi9cblxuKGZ1bmN0aW9uICgkKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIGNyb3NzaGFpcjoge1xuICAgICAgICAgICAgbW9kZTogbnVsbCwgLy8gb25lIG9mIG51bGwsIFwieFwiLCBcInlcIiBvciBcInh5XCIsXG4gICAgICAgICAgICBjb2xvcjogXCJyZ2JhKDE3MCwgMCwgMCwgMC44MClcIixcbiAgICAgICAgICAgIGxpbmVXaWR0aDogMVxuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBmdW5jdGlvbiBpbml0KHBsb3QpIHtcbiAgICAgICAgLy8gcG9zaXRpb24gb2YgY3Jvc3NoYWlyIGluIHBpeGVsc1xuICAgICAgICB2YXIgY3Jvc3NoYWlyID0geyB4OiAtMSwgeTogLTEsIGxvY2tlZDogZmFsc2UgfTtcblxuICAgICAgICBwbG90LnNldENyb3NzaGFpciA9IGZ1bmN0aW9uIHNldENyb3NzaGFpcihwb3MpIHtcbiAgICAgICAgICAgIGlmICghcG9zKVxuICAgICAgICAgICAgICAgIGNyb3NzaGFpci54ID0gLTE7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgbyA9IHBsb3QucDJjKHBvcyk7XG4gICAgICAgICAgICAgICAgY3Jvc3NoYWlyLnggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihvLmxlZnQsIHBsb3Qud2lkdGgoKSkpO1xuICAgICAgICAgICAgICAgIGNyb3NzaGFpci55ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oby50b3AsIHBsb3QuaGVpZ2h0KCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcGxvdC50cmlnZ2VyUmVkcmF3T3ZlcmxheSgpO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgcGxvdC5jbGVhckNyb3NzaGFpciA9IHBsb3Quc2V0Q3Jvc3NoYWlyOyAvLyBwYXNzZXMgbnVsbCBmb3IgcG9zXG4gICAgICAgIFxuICAgICAgICBwbG90LmxvY2tDcm9zc2hhaXIgPSBmdW5jdGlvbiBsb2NrQ3Jvc3NoYWlyKHBvcykge1xuICAgICAgICAgICAgaWYgKHBvcylcbiAgICAgICAgICAgICAgICBwbG90LnNldENyb3NzaGFpcihwb3MpO1xuICAgICAgICAgICAgY3Jvc3NoYWlyLmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgcGxvdC51bmxvY2tDcm9zc2hhaXIgPSBmdW5jdGlvbiB1bmxvY2tDcm9zc2hhaXIoKSB7XG4gICAgICAgICAgICBjcm9zc2hhaXIubG9ja2VkID0gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gb25Nb3VzZU91dChlKSB7XG4gICAgICAgICAgICBpZiAoY3Jvc3NoYWlyLmxvY2tlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIGlmIChjcm9zc2hhaXIueCAhPSAtMSkge1xuICAgICAgICAgICAgICAgIGNyb3NzaGFpci54ID0gLTE7XG4gICAgICAgICAgICAgICAgcGxvdC50cmlnZ2VyUmVkcmF3T3ZlcmxheSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb25Nb3VzZU1vdmUoZSkge1xuICAgICAgICAgICAgaWYgKGNyb3NzaGFpci5sb2NrZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHBsb3QuZ2V0U2VsZWN0aW9uICYmIHBsb3QuZ2V0U2VsZWN0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICBjcm9zc2hhaXIueCA9IC0xOyAvLyBoaWRlIHRoZSBjcm9zc2hhaXIgd2hpbGUgc2VsZWN0aW5nXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIG9mZnNldCA9IHBsb3Qub2Zmc2V0KCk7XG4gICAgICAgICAgICBjcm9zc2hhaXIueCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGUucGFnZVggLSBvZmZzZXQubGVmdCwgcGxvdC53aWR0aCgpKSk7XG4gICAgICAgICAgICBjcm9zc2hhaXIueSA9IE1hdGgubWF4KDAsIE1hdGgubWluKGUucGFnZVkgLSBvZmZzZXQudG9wLCBwbG90LmhlaWdodCgpKSk7XG4gICAgICAgICAgICBwbG90LnRyaWdnZXJSZWRyYXdPdmVybGF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHBsb3QuaG9va3MuYmluZEV2ZW50cy5wdXNoKGZ1bmN0aW9uIChwbG90LCBldmVudEhvbGRlcikge1xuICAgICAgICAgICAgaWYgKCFwbG90LmdldE9wdGlvbnMoKS5jcm9zc2hhaXIubW9kZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIGV2ZW50SG9sZGVyLm1vdXNlb3V0KG9uTW91c2VPdXQpO1xuICAgICAgICAgICAgZXZlbnRIb2xkZXIubW91c2Vtb3ZlKG9uTW91c2VNb3ZlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcGxvdC5ob29rcy5kcmF3T3ZlcmxheS5wdXNoKGZ1bmN0aW9uIChwbG90LCBjdHgpIHtcbiAgICAgICAgICAgIHZhciBjID0gcGxvdC5nZXRPcHRpb25zKCkuY3Jvc3NoYWlyO1xuICAgICAgICAgICAgaWYgKCFjLm1vZGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICB2YXIgcGxvdE9mZnNldCA9IHBsb3QuZ2V0UGxvdE9mZnNldCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShwbG90T2Zmc2V0LmxlZnQsIHBsb3RPZmZzZXQudG9wKTtcblxuICAgICAgICAgICAgaWYgKGNyb3NzaGFpci54ICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFkaiA9IHBsb3QuZ2V0T3B0aW9ucygpLmNyb3NzaGFpci5saW5lV2lkdGggJSAyID8gMC41IDogMDtcblxuICAgICAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGMuY29sb3I7XG4gICAgICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IGMubGluZVdpZHRoO1xuICAgICAgICAgICAgICAgIGN0eC5saW5lSm9pbiA9IFwicm91bmRcIjtcblxuICAgICAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICBpZiAoYy5tb2RlLmluZGV4T2YoXCJ4XCIpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkcmF3WCA9IE1hdGguZmxvb3IoY3Jvc3NoYWlyLngpICsgYWRqO1xuICAgICAgICAgICAgICAgICAgICBjdHgubW92ZVRvKGRyYXdYLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmxpbmVUbyhkcmF3WCwgcGxvdC5oZWlnaHQoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjLm1vZGUuaW5kZXhPZihcInlcIikgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRyYXdZID0gTWF0aC5mbG9vcihjcm9zc2hhaXIueSkgKyBhZGo7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5tb3ZlVG8oMCwgZHJhd1kpO1xuICAgICAgICAgICAgICAgICAgICBjdHgubGluZVRvKHBsb3Qud2lkdGgoKSwgZHJhd1kpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwbG90Lmhvb2tzLnNodXRkb3duLnB1c2goZnVuY3Rpb24gKHBsb3QsIGV2ZW50SG9sZGVyKSB7XG4gICAgICAgICAgICBldmVudEhvbGRlci51bmJpbmQoXCJtb3VzZW91dFwiLCBvbk1vdXNlT3V0KTtcbiAgICAgICAgICAgIGV2ZW50SG9sZGVyLnVuYmluZChcIm1vdXNlbW92ZVwiLCBvbk1vdXNlTW92ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICAkLnBsb3QucGx1Z2lucy5wdXNoKHtcbiAgICAgICAgaW5pdDogaW5pdCxcbiAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgbmFtZTogJ2Nyb3NzaGFpcicsXG4gICAgICAgIHZlcnNpb246ICcxLjAnXG4gICAgfSk7XG59KShqUXVlcnkpO1xuIl19"}