{"version":3,"sources":["build/node_modules/browser-pack/_prelude.js","build/vendors/flot/build/vendors/flot/jquery.flot.errorbars.js"],"names":[],"mappings":"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","file":"jquery.flot.errorbars.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/* Flot plugin for plotting error bars.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nError bars are used to show standard deviation and other statistical\nproperties in a plot.\n\n* Created by Rui Pereira  -  rui (dot) pereira (at) gmail (dot) com\n\nThis plugin allows you to plot error-bars over points. Set \"errorbars\" inside\nthe points series to the axis name over which there will be error values in\nyour data array (*even* if you do not intend to plot them later, by setting\n\"show: null\" on xerr/yerr).\n\nThe plugin supports these options:\n\n\tseries: {\n\t\tpoints: {\n\t\t\terrorbars: \"x\" or \"y\" or \"xy\",\n\t\t\txerr: {\n\t\t\t\tshow: null/false or true,\n\t\t\t\tasymmetric: null/false or true,\n\t\t\t\tupperCap: null or \"-\" or function,\n\t\t\t\tlowerCap: null or \"-\" or function,\n\t\t\t\tcolor: null or color,\n\t\t\t\tradius: null or number\n\t\t\t},\n\t\t\tyerr: { same options as xerr }\n\t\t}\n\t}\n\nEach data point array is expected to be of the type:\n\n\t\"x\"  [ x, y, xerr ]\n\t\"y\"  [ x, y, yerr ]\n\t\"xy\" [ x, y, xerr, yerr ]\n\nWhere xerr becomes xerr_lower,xerr_upper for the asymmetric error case, and\nequivalently for yerr. Eg., a datapoint for the \"xy\" case with symmetric\nerror-bars on X and asymmetric on Y would be:\n\n\t[ x, y, xerr, yerr_lower, yerr_upper ]\n\nBy default no end caps are drawn. Setting upperCap and/or lowerCap to \"-\" will\ndraw a small cap perpendicular to the error bar. They can also be set to a\nuser-defined drawing function, with (ctx, x, y, radius) as parameters, as eg.\n\n\tfunction drawSemiCircle( ctx, x, y, radius ) {\n\t\tctx.beginPath();\n\t\tctx.arc( x, y, radius, 0, Math.PI, false );\n\t\tctx.moveTo( x - radius, y );\n\t\tctx.lineTo( x + radius, y );\n\t\tctx.stroke();\n\t}\n\nColor and radius both default to the same ones of the points series if not\nset. The independent radius parameter on xerr/yerr is useful for the case when\nwe may want to add error-bars to a line, without showing the interconnecting\npoints (with radius: 0), and still showing end caps on the error-bars.\nshadowSize and lineWidth are derived as well from the points series.\n\n*/\n\n(function ($) {\n    var options = {\n        series: {\n            points: {\n                errorbars: null, //should be 'x', 'y' or 'xy'\n                xerr: { err: 'x', show: null, asymmetric: null, upperCap: null, lowerCap: null, color: null, radius: null},\n                yerr: { err: 'y', show: null, asymmetric: null, upperCap: null, lowerCap: null, color: null, radius: null}\n            }\n        }\n    };\n\n    function processRawData(plot, series, data, datapoints){\n        if (!series.points.errorbars)\n            return;\n\n        // x,y values\n        var format = [\n            { x: true, number: true, required: true },\n            { y: true, number: true, required: true }\n        ];\n\n        var errors = series.points.errorbars;\n        // error bars - first X then Y\n        if (errors == 'x' || errors == 'xy') {\n            // lower / upper error\n            if (series.points.xerr.asymmetric) {\n                format.push({ x: true, number: true, required: true });\n                format.push({ x: true, number: true, required: true });\n            } else\n                format.push({ x: true, number: true, required: true });\n        }\n        if (errors == 'y' || errors == 'xy') {\n            // lower / upper error\n            if (series.points.yerr.asymmetric) {\n                format.push({ y: true, number: true, required: true });\n                format.push({ y: true, number: true, required: true });\n            } else\n                format.push({ y: true, number: true, required: true });\n        }\n        datapoints.format = format;\n    }\n\n    function parseErrors(series, i){\n\n        var points = series.datapoints.points;\n\n        // read errors from points array\n        var exl = null,\n                exu = null,\n                eyl = null,\n                eyu = null;\n        var xerr = series.points.xerr,\n                yerr = series.points.yerr;\n\n        var eb = series.points.errorbars;\n        // error bars - first X\n        if (eb == 'x' || eb == 'xy') {\n            if (xerr.asymmetric) {\n                exl = points[i + 2];\n                exu = points[i + 3];\n                if (eb == 'xy')\n                    if (yerr.asymmetric){\n                        eyl = points[i + 4];\n                        eyu = points[i + 5];\n                    } else eyl = points[i + 4];\n            } else {\n                exl = points[i + 2];\n                if (eb == 'xy')\n                    if (yerr.asymmetric) {\n                        eyl = points[i + 3];\n                        eyu = points[i + 4];\n                    } else eyl = points[i + 3];\n            }\n        // only Y\n        } else if (eb == 'y')\n            if (yerr.asymmetric) {\n                eyl = points[i + 2];\n                eyu = points[i + 3];\n            } else eyl = points[i + 2];\n\n        // symmetric errors?\n        if (exu == null) exu = exl;\n        if (eyu == null) eyu = eyl;\n\n        var errRanges = [exl, exu, eyl, eyu];\n        // nullify if not showing\n        if (!xerr.show){\n            errRanges[0] = null;\n            errRanges[1] = null;\n        }\n        if (!yerr.show){\n            errRanges[2] = null;\n            errRanges[3] = null;\n        }\n        return errRanges;\n    }\n\n    function drawSeriesErrors(plot, ctx, s){\n\n        var points = s.datapoints.points,\n                ps = s.datapoints.pointsize,\n                ax = [s.xaxis, s.yaxis],\n                radius = s.points.radius,\n                err = [s.points.xerr, s.points.yerr];\n\n        //sanity check, in case some inverted axis hack is applied to flot\n        var invertX = false;\n        if (ax[0].p2c(ax[0].max) < ax[0].p2c(ax[0].min)) {\n            invertX = true;\n            var tmp = err[0].lowerCap;\n            err[0].lowerCap = err[0].upperCap;\n            err[0].upperCap = tmp;\n        }\n\n        var invertY = false;\n        if (ax[1].p2c(ax[1].min) < ax[1].p2c(ax[1].max)) {\n            invertY = true;\n            var tmp = err[1].lowerCap;\n            err[1].lowerCap = err[1].upperCap;\n            err[1].upperCap = tmp;\n        }\n\n        for (var i = 0; i < s.datapoints.points.length; i += ps) {\n\n            //parse\n            var errRanges = parseErrors(s, i);\n\n            //cycle xerr & yerr\n            for (var e = 0; e < err.length; e++){\n\n                var minmax = [ax[e].min, ax[e].max];\n\n                //draw this error?\n                if (errRanges[e * err.length]){\n\n                    //data coordinates\n                    var x = points[i],\n                        y = points[i + 1];\n\n                    //errorbar ranges\n                    var upper = [x, y][e] + errRanges[e * err.length + 1],\n                        lower = [x, y][e] - errRanges[e * err.length];\n\n                    //points outside of the canvas\n                    if (err[e].err == 'x')\n                        if (y > ax[1].max || y < ax[1].min || upper < ax[0].min || lower > ax[0].max)\n                            continue;\n                    if (err[e].err == 'y')\n                        if (x > ax[0].max || x < ax[0].min || upper < ax[1].min || lower > ax[1].max)\n                            continue;\n\n                    // prevent errorbars getting out of the canvas\n                    var drawUpper = true,\n                        drawLower = true;\n\n                    if (upper > minmax[1]) {\n                        drawUpper = false;\n                        upper = minmax[1];\n                    }\n                    if (lower < minmax[0]) {\n                        drawLower = false;\n                        lower = minmax[0];\n                    }\n\n                    //sanity check, in case some inverted axis hack is applied to flot\n                    if ((err[e].err == 'x' && invertX) || (err[e].err == 'y' && invertY)) {\n                        //swap coordinates\n                        var tmp = lower;\n                        lower = upper;\n                        upper = tmp;\n                        tmp = drawLower;\n                        drawLower = drawUpper;\n                        drawUpper = tmp;\n                        tmp = minmax[0];\n                        minmax[0] = minmax[1];\n                        minmax[1] = tmp;\n                    }\n\n                    // convert to pixels\n                    x = ax[0].p2c(x),\n                        y = ax[1].p2c(y),\n                        upper = ax[e].p2c(upper);\n                    lower = ax[e].p2c(lower);\n                    minmax[0] = ax[e].p2c(minmax[0]);\n                    minmax[1] = ax[e].p2c(minmax[1]);\n\n                    //same style as points by default\n                    var lw = err[e].lineWidth ? err[e].lineWidth : s.points.lineWidth,\n                        sw = s.points.shadowSize != null ? s.points.shadowSize : s.shadowSize;\n\n                    //shadow as for points\n                    if (lw > 0 && sw > 0) {\n                        var w = sw / 2;\n                        ctx.lineWidth = w;\n                        ctx.strokeStyle = \"rgba(0,0,0,0.1)\";\n                        drawError(ctx, err[e], x, y, upper, lower, drawUpper, drawLower, radius, w + w/2, minmax);\n\n                        ctx.strokeStyle = \"rgba(0,0,0,0.2)\";\n                        drawError(ctx, err[e], x, y, upper, lower, drawUpper, drawLower, radius, w/2, minmax);\n                    }\n\n                    ctx.strokeStyle = err[e].color? err[e].color: s.color;\n                    ctx.lineWidth = lw;\n                    //draw it\n                    drawError(ctx, err[e], x, y, upper, lower, drawUpper, drawLower, radius, 0, minmax);\n                }\n            }\n        }\n    }\n\n    function drawError(ctx,err,x,y,upper,lower,drawUpper,drawLower,radius,offset,minmax){\n\n        //shadow offset\n        y += offset;\n        upper += offset;\n        lower += offset;\n\n        // error bar - avoid plotting over circles\n        if (err.err == 'x'){\n            if (upper > x + radius) drawPath(ctx, [[upper,y],[Math.max(x + radius,minmax[0]),y]]);\n            else drawUpper = false;\n            if (lower < x - radius) drawPath(ctx, [[Math.min(x - radius,minmax[1]),y],[lower,y]] );\n            else drawLower = false;\n        }\n        else {\n            if (upper < y - radius) drawPath(ctx, [[x,upper],[x,Math.min(y - radius,minmax[0])]] );\n            else drawUpper = false;\n            if (lower > y + radius) drawPath(ctx, [[x,Math.max(y + radius,minmax[1])],[x,lower]] );\n            else drawLower = false;\n        }\n\n        //internal radius value in errorbar, allows to plot radius 0 points and still keep proper sized caps\n        //this is a way to get errorbars on lines without visible connecting dots\n        radius = err.radius != null? err.radius: radius;\n\n        // upper cap\n        if (drawUpper) {\n            if (err.upperCap == '-'){\n                if (err.err=='x') drawPath(ctx, [[upper,y - radius],[upper,y + radius]] );\n                else drawPath(ctx, [[x - radius,upper],[x + radius,upper]] );\n            } else if ($.isFunction(err.upperCap)){\n                if (err.err=='x') err.upperCap(ctx, upper, y, radius);\n                else err.upperCap(ctx, x, upper, radius);\n            }\n        }\n        // lower cap\n        if (drawLower) {\n            if (err.lowerCap == '-'){\n                if (err.err=='x') drawPath(ctx, [[lower,y - radius],[lower,y + radius]] );\n                else drawPath(ctx, [[x - radius,lower],[x + radius,lower]] );\n            } else if ($.isFunction(err.lowerCap)){\n                if (err.err=='x') err.lowerCap(ctx, lower, y, radius);\n                else err.lowerCap(ctx, x, lower, radius);\n            }\n        }\n    }\n\n    function drawPath(ctx, pts){\n        ctx.beginPath();\n        ctx.moveTo(pts[0][0], pts[0][1]);\n        for (var p=1; p < pts.length; p++)\n            ctx.lineTo(pts[p][0], pts[p][1]);\n        ctx.stroke();\n    }\n\n    function draw(plot, ctx){\n        var plotOffset = plot.getPlotOffset();\n\n        ctx.save();\n        ctx.translate(plotOffset.left, plotOffset.top);\n        $.each(plot.getData(), function (i, s) {\n            if (s.points.errorbars && (s.points.xerr.show || s.points.yerr.show))\n                drawSeriesErrors(plot, ctx, s);\n        });\n        ctx.restore();\n    }\n\n    function init(plot) {\n        plot.hooks.processRawData.push(processRawData);\n        plot.hooks.draw.push(draw);\n    }\n\n    $.plot.plugins.push({\n                init: init,\n                options: options,\n                name: 'errorbars',\n                version: '1.0'\n            });\n})(jQuery);\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJidWlsZC92ZW5kb3JzL2Zsb3QvanF1ZXJ5LmZsb3QuZXJyb3JiYXJzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWdFQSxDQUFDLFVBQVUsQ0FBVixFQUFhO0FBQ1YsUUFBSSxVQUFVO0FBQ1YsZ0JBQVE7QUFDSixvQkFBUTtBQUNKLDJCQUFXLElBRFAsRUFDYTtBQUNqQixzQkFBTSxFQUFFLEtBQUssR0FBUCxFQUFZLE1BQU0sSUFBbEIsRUFBd0IsWUFBWSxJQUFwQyxFQUEwQyxVQUFVLElBQXBELEVBQTBELFVBQVUsSUFBcEUsRUFBMEUsT0FBTyxJQUFqRixFQUF1RixRQUFRLElBQS9GLEVBRkY7QUFHSixzQkFBTSxFQUFFLEtBQUssR0FBUCxFQUFZLE1BQU0sSUFBbEIsRUFBd0IsWUFBWSxJQUFwQyxFQUEwQyxVQUFVLElBQXBELEVBQTBELFVBQVUsSUFBcEUsRUFBMEUsT0FBTyxJQUFqRixFQUF1RixRQUFRLElBQS9GO0FBSEY7QUFESjtBQURFLEtBQWQ7O0FBVUEsYUFBUyxjQUFULENBQXdCLElBQXhCLEVBQThCLE1BQTlCLEVBQXNDLElBQXRDLEVBQTRDLFVBQTVDLEVBQXVEO0FBQ25ELFlBQUksQ0FBQyxPQUFPLE1BQVAsQ0FBYyxTQUFuQixFQUNJOztBQUVKO0FBQ0EsWUFBSSxTQUFTLENBQ1QsRUFBRSxHQUFHLElBQUwsRUFBVyxRQUFRLElBQW5CLEVBQXlCLFVBQVUsSUFBbkMsRUFEUyxFQUVULEVBQUUsR0FBRyxJQUFMLEVBQVcsUUFBUSxJQUFuQixFQUF5QixVQUFVLElBQW5DLEVBRlMsQ0FBYjs7QUFLQSxZQUFJLFNBQVMsT0FBTyxNQUFQLENBQWMsU0FBM0I7QUFDQTtBQUNBLFlBQUksVUFBVSxHQUFWLElBQWlC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Q0EsWUFBSSxTQUFKLENBQWMsV0FBVyxJQUF6QixFQUErQixXQUFXLEdBQTFDO0FBQ0EsVUFBRSxJQUFGLENBQU8sS0FBSyxPQUFMLEVBQVAsRUFBdUIsVUFBVSxDQUFWLEVBQWEsQ0FBYixFQUFnQjtBQUNuQyxnQkFBSSxFQUFFLE1BQUYsQ0FBUyxTQUFULEtBQXVCLEVBQUUsTUFBRixDQUFTLElBQVQsQ0FBYyxJQUFkLElBQXNCLEVBQUUsTUFBRixDQUFTLElBQVQsQ0FBYyxJQUEzRCxDQUFKLEVBQ0ksaUJBQWlCLElBQWpCLEVBQXVCLEdBQXZCLEVBQTRCLENBQTVCO0FBQ1AsU0FIRDtBQUlBLFlBQUksT0FBSjtBQUNIOztBQUVELGFBQVMsSUFBVCxDQUFjLElBQWQsRUFBb0I7QUFDaEIsYUFBSyxLQUFMLENBQVcsY0FBWCxDQUEwQixJQUExQixDQUErQixjQUEvQjtBQUNBLGFBQUssS0FBTCxDQUFXLElBQVgsQ0FBZ0IsSUFBaEIsQ0FBcUIsSUFBckI7QUFDSDs7QUFFRCxNQUFFLElBQUYsQ0FBTyxPQUFQLENBQWUsSUFBZixDQUFvQjtBQUNSLGNBQU0sSUFERTtBQUVSLGlCQUFTLE9BRkQ7QUFHUixjQUFNLFdBSEU7QUFJUixpQkFBUztBQUpELEtBQXBCO0FBTUgsQ0FoU0QsRUFnU0csTUFoU0giLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLyogRmxvdCBwbHVnaW4gZm9yIHBsb3R0aW5nIGVycm9yIGJhcnMuXG5cbkNvcHlyaWdodCAoYykgMjAwNy0yMDE0IElPTEEgYW5kIE9sZSBMYXVyc2VuLlxuTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG5FcnJvciBiYXJzIGFyZSB1c2VkIHRvIHNob3cgc3RhbmRhcmQgZGV2aWF0aW9uIGFuZCBvdGhlciBzdGF0aXN0aWNhbFxucHJvcGVydGllcyBpbiBhIHBsb3QuXG5cbiogQ3JlYXRlZCBieSBSdWkgUGVyZWlyYSAgLSAgcnVpIChkb3QpIHBlcmVpcmEgKGF0KSBnbWFpbCAoZG90KSBjb21cblxuVGhpcyBwbHVnaW4gYWxsb3dzIHlvdSB0byBwbG90IGVycm9yLWJhcnMgb3ZlciBwb2ludHMuIFNldCBcImVycm9yYmFyc1wiIGluc2lkZVxudGhlIHBvaW50cyBzZXJpZXMgdG8gdGhlIGF4aXMgbmFtZSBvdmVyIHdoaWNoIHRoZXJlIHdpbGwgYmUgZXJyb3IgdmFsdWVzIGluXG55b3VyIGRhdGEgYXJyYXkgKCpldmVuKiBpZiB5b3UgZG8gbm90IGludGVuZCB0byBwbG90IHRoZW0gbGF0ZXIsIGJ5IHNldHRpbmdcblwic2hvdzogbnVsbFwiIG9uIHhlcnIveWVycikuXG5cblRoZSBwbHVnaW4gc3VwcG9ydHMgdGhlc2Ugb3B0aW9uczpcblxuXHRzZXJpZXM6IHtcblx0XHRwb2ludHM6IHtcblx0XHRcdGVycm9yYmFyczogXCJ4XCIgb3IgXCJ5XCIgb3IgXCJ4eVwiLFxuXHRcdFx0eGVycjoge1xuXHRcdFx0XHRzaG93OiBudWxsL2ZhbHNlIG9yIHRydWUsXG5cdFx0XHRcdGFzeW1tZXRyaWM6IG51bGwvZmFsc2Ugb3IgdHJ1ZSxcblx0XHRcdFx0dXBwZXJDYXA6IG51bGwgb3IgXCItXCIgb3IgZnVuY3Rpb24sXG5cdFx0XHRcdGxvd2VyQ2FwOiBudWxsIG9yIFwiLVwiIG9yIGZ1bmN0aW9uLFxuXHRcdFx0XHRjb2xvcjogbnVsbCBvciBjb2xvcixcblx0XHRcdFx0cmFkaXVzOiBudWxsIG9yIG51bWJlclxuXHRcdFx0fSxcblx0XHRcdHllcnI6IHsgc2FtZSBvcHRpb25zIGFzIHhlcnIgfVxuXHRcdH1cblx0fVxuXG5FYWNoIGRhdGEgcG9pbnQgYXJyYXkgaXMgZXhwZWN0ZWQgdG8gYmUgb2YgdGhlIHR5cGU6XG5cblx0XCJ4XCIgIFsgeCwgeSwgeGVyciBdXG5cdFwieVwiICBbIHgsIHksIHllcnIgXVxuXHRcInh5XCIgWyB4LCB5LCB4ZXJyLCB5ZXJyIF1cblxuV2hlcmUgeGVyciBiZWNvbWVzIHhlcnJfbG93ZXIseGVycl91cHBlciBmb3IgdGhlIGFzeW1tZXRyaWMgZXJyb3IgY2FzZSwgYW5kXG5lcXVpdmFsZW50bHkgZm9yIHllcnIuIEVnLiwgYSBkYXRhcG9pbnQgZm9yIHRoZSBcInh5XCIgY2FzZSB3aXRoIHN5bW1ldHJpY1xuZXJyb3ItYmFycyBvbiBYIGFuZCBhc3ltbWV0cmljIG9uIFkgd291bGQgYmU6XG5cblx0WyB4LCB5LCB4ZXJyLCB5ZXJyX2xvd2VyLCB5ZXJyX3VwcGVyIF1cblxuQnkgZGVmYXVsdCBubyBlbmQgY2FwcyBhcmUgZHJhd24uIFNldHRpbmcgdXBwZXJDYXAgYW5kL29yIGxvd2VyQ2FwIHRvIFwiLVwiIHdpbGxcbmRyYXcgYSBzbWFsbCBjYXAgcGVycGVuZGljdWxhciB0byB0aGUgZXJyb3IgYmFyLiBUaGV5IGNhbiBhbHNvIGJlIHNldCB0byBhXG51c2VyLWRlZmluZWQgZHJhd2luZyBmdW5jdGlvbiwgd2l0aCAoY3R4LCB4LCB5LCByYWRpdXMpIGFzIHBhcmFtZXRlcnMsIGFzIGVnLlxuXG5cdGZ1bmN0aW9uIGRyYXdTZW1pQ2lyY2xlKCBjdHgsIHgsIHksIHJhZGl1cyApIHtcblx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0Y3R4LmFyYyggeCwgeSwgcmFkaXVzLCAwLCBNYXRoLlBJLCBmYWxzZSApO1xuXHRcdGN0eC5tb3ZlVG8oIHggLSByYWRpdXMsIHkgKTtcblx0XHRjdHgubGluZVRvKCB4ICsgcmFkaXVzLCB5ICk7XG5cdFx0Y3R4LnN0cm9rZSgpO1xuXHR9XG5cbkNvbG9yIGFuZCByYWRpdXMgYm90aCBkZWZhdWx0IHRvIHRoZSBzYW1lIG9uZXMgb2YgdGhlIHBvaW50cyBzZXJpZXMgaWYgbm90XG5zZXQuIFRoZSBpbmRlcGVuZGVudCByYWRpdXMgcGFyYW1ldGVyIG9uIHhlcnIveWVyciBpcyB1c2VmdWwgZm9yIHRoZSBjYXNlIHdoZW5cbndlIG1heSB3YW50IHRvIGFkZCBlcnJvci1iYXJzIHRvIGEgbGluZSwgd2l0aG91dCBzaG93aW5nIHRoZSBpbnRlcmNvbm5lY3RpbmdcbnBvaW50cyAod2l0aCByYWRpdXM6IDApLCBhbmQgc3RpbGwgc2hvd2luZyBlbmQgY2FwcyBvbiB0aGUgZXJyb3ItYmFycy5cbnNoYWRvd1NpemUgYW5kIGxpbmVXaWR0aCBhcmUgZGVyaXZlZCBhcyB3ZWxsIGZyb20gdGhlIHBvaW50cyBzZXJpZXMuXG5cbiovXG5cbihmdW5jdGlvbiAoJCkge1xuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICBzZXJpZXM6IHtcbiAgICAgICAgICAgIHBvaW50czoge1xuICAgICAgICAgICAgICAgIGVycm9yYmFyczogbnVsbCwgLy9zaG91bGQgYmUgJ3gnLCAneScgb3IgJ3h5J1xuICAgICAgICAgICAgICAgIHhlcnI6IHsgZXJyOiAneCcsIHNob3c6IG51bGwsIGFzeW1tZXRyaWM6IG51bGwsIHVwcGVyQ2FwOiBudWxsLCBsb3dlckNhcDogbnVsbCwgY29sb3I6IG51bGwsIHJhZGl1czogbnVsbH0sXG4gICAgICAgICAgICAgICAgeWVycjogeyBlcnI6ICd5Jywgc2hvdzogbnVsbCwgYXN5bW1ldHJpYzogbnVsbCwgdXBwZXJDYXA6IG51bGwsIGxvd2VyQ2FwOiBudWxsLCBjb2xvcjogbnVsbCwgcmFkaXVzOiBudWxsfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NSYXdEYXRhKHBsb3QsIHNlcmllcywgZGF0YSwgZGF0YXBvaW50cyl7XG4gICAgICAgIGlmICghc2VyaWVzLnBvaW50cy5lcnJvcmJhcnMpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgLy8geCx5IHZhbHVlc1xuICAgICAgICB2YXIgZm9ybWF0ID0gW1xuICAgICAgICAgICAgeyB4OiB0cnVlLCBudW1iZXI6IHRydWUsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IHk6IHRydWUsIG51bWJlcjogdHJ1ZSwgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuXG4gICAgICAgIHZhciBlcnJvcnMgPSBzZXJpZXMucG9pbnRzLmVycm9yYmFycztcbiAgICAgICAgLy8gZXJyb3IgYmFycyAtIGZpcnN0IFggdGhlbiBZXG4gICAgICAgIGlmIChlcnJvcnMgPT0gJ3gnIHx8IGVycm9ycyA9PSAneHknKSB7XG4gICAgICAgICAgICAvLyBsb3dlciAvIHVwcGVyIGVycm9yXG4gICAgICAgICAgICBpZiAoc2VyaWVzLnBvaW50cy54ZXJyLmFzeW1tZXRyaWMpIHtcbiAgICAgICAgICAgICAgICBmb3JtYXQucHVzaCh7IHg6IHRydWUsIG51bWJlcjogdHJ1ZSwgcmVxdWlyZWQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgZm9ybWF0LnB1c2goeyB4OiB0cnVlLCBudW1iZXI6IHRydWUsIHJlcXVpcmVkOiB0cnVlIH0pO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgZm9ybWF0LnB1c2goeyB4OiB0cnVlLCBudW1iZXI6IHRydWUsIHJlcXVpcmVkOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvcnMgPT0gJ3knIHx8IGVycm9ycyA9PSAneHknKSB7XG4gICAgICAgICAgICAvLyBsb3dlciAvIHVwcGVyIGVycm9yXG4gICAgICAgICAgICBpZiAoc2VyaWVzLnBvaW50cy55ZXJyLmFzeW1tZXRyaWMpIHtcbiAgICAgICAgICAgICAgICBmb3JtYXQucHVzaCh7IHk6IHRydWUsIG51bWJlcjogdHJ1ZSwgcmVxdWlyZWQ6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgZm9ybWF0LnB1c2goeyB5OiB0cnVlLCBudW1iZXI6IHRydWUsIHJlcXVpcmVkOiB0cnVlIH0pO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgZm9ybWF0LnB1c2goeyB5OiB0cnVlLCBudW1iZXI6IHRydWUsIHJlcXVpcmVkOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGRhdGFwb2ludHMuZm9ybWF0ID0gZm9ybWF0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlRXJyb3JzKHNlcmllcywgaSl7XG5cbiAgICAgICAgdmFyIHBvaW50cyA9IHNlcmllcy5kYXRhcG9pbnRzLnBvaW50cztcblxuICAgICAgICAvLyByZWFkIGVycm9ycyBmcm9tIHBvaW50cyBhcnJheVxuICAgICAgICB2YXIgZXhsID0gbnVsbCxcbiAgICAgICAgICAgICAgICBleHUgPSBudWxsLFxuICAgICAgICAgICAgICAgIGV5bCA9IG51bGwsXG4gICAgICAgICAgICAgICAgZXl1ID0gbnVsbDtcbiAgICAgICAgdmFyIHhlcnIgPSBzZXJpZXMucG9pbnRzLnhlcnIsXG4gICAgICAgICAgICAgICAgeWVyciA9IHNlcmllcy5wb2ludHMueWVycjtcblxuICAgICAgICB2YXIgZWIgPSBzZXJpZXMucG9pbnRzLmVycm9yYmFycztcbiAgICAgICAgLy8gZXJyb3IgYmFycyAtIGZpcnN0IFhcbiAgICAgICAgaWYgKGViID09ICd4JyB8fCBlYiA9PSAneHknKSB7XG4gICAgICAgICAgICBpZiAoeGVyci5hc3ltbWV0cmljKSB7XG4gICAgICAgICAgICAgICAgZXhsID0gcG9pbnRzW2kgKyAyXTtcbiAgICAgICAgICAgICAgICBleHUgPSBwb2ludHNbaSArIDNdO1xuICAgICAgICAgICAgICAgIGlmIChlYiA9PSAneHknKVxuICAgICAgICAgICAgICAgICAgICBpZiAoeWVyci5hc3ltbWV0cmljKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV5bCA9IHBvaW50c1tpICsgNF07XG4gICAgICAgICAgICAgICAgICAgICAgICBleXUgPSBwb2ludHNbaSArIDVdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgZXlsID0gcG9pbnRzW2kgKyA0XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZXhsID0gcG9pbnRzW2kgKyAyXTtcbiAgICAgICAgICAgICAgICBpZiAoZWIgPT0gJ3h5JylcbiAgICAgICAgICAgICAgICAgICAgaWYgKHllcnIuYXN5bW1ldHJpYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXlsID0gcG9pbnRzW2kgKyAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV5dSA9IHBvaW50c1tpICsgNF07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBleWwgPSBwb2ludHNbaSArIDNdO1xuICAgICAgICAgICAgfVxuICAgICAgICAvLyBvbmx5IFlcbiAgICAgICAgfSBlbHNlIGlmIChlYiA9PSAneScpXG4gICAgICAgICAgICBpZiAoeWVyci5hc3ltbWV0cmljKSB7XG4gICAgICAgICAgICAgICAgZXlsID0gcG9pbnRzW2kgKyAyXTtcbiAgICAgICAgICAgICAgICBleXUgPSBwb2ludHNbaSArIDNdO1xuICAgICAgICAgICAgfSBlbHNlIGV5bCA9IHBvaW50c1tpICsgMl07XG5cbiAgICAgICAgLy8gc3ltbWV0cmljIGVycm9ycz9cbiAgICAgICAgaWYgKGV4dSA9PSBudWxsKSBleHUgPSBleGw7XG4gICAgICAgIGlmIChleXUgPT0gbnVsbCkgZXl1ID0gZXlsO1xuXG4gICAgICAgIHZhciBlcnJSYW5nZXMgPSBbZXhsLCBleHUsIGV5bCwgZXl1XTtcbiAgICAgICAgLy8gbnVsbGlmeSBpZiBub3Qgc2hvd2luZ1xuICAgICAgICBpZiAoIXhlcnIuc2hvdyl7XG4gICAgICAgICAgICBlcnJSYW5nZXNbMF0gPSBudWxsO1xuICAgICAgICAgICAgZXJyUmFuZ2VzWzFdID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXllcnIuc2hvdyl7XG4gICAgICAgICAgICBlcnJSYW5nZXNbMl0gPSBudWxsO1xuICAgICAgICAgICAgZXJyUmFuZ2VzWzNdID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXJyUmFuZ2VzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYXdTZXJpZXNFcnJvcnMocGxvdCwgY3R4LCBzKXtcblxuICAgICAgICB2YXIgcG9pbnRzID0gcy5kYXRhcG9pbnRzLnBvaW50cyxcbiAgICAgICAgICAgICAgICBwcyA9IHMuZGF0YXBvaW50cy5wb2ludHNpemUsXG4gICAgICAgICAgICAgICAgYXggPSBbcy54YXhpcywgcy55YXhpc10sXG4gICAgICAgICAgICAgICAgcmFkaXVzID0gcy5wb2ludHMucmFkaXVzLFxuICAgICAgICAgICAgICAgIGVyciA9IFtzLnBvaW50cy54ZXJyLCBzLnBvaW50cy55ZXJyXTtcblxuICAgICAgICAvL3Nhbml0eSBjaGVjaywgaW4gY2FzZSBzb21lIGludmVydGVkIGF4aXMgaGFjayBpcyBhcHBsaWVkIHRvIGZsb3RcbiAgICAgICAgdmFyIGludmVydFggPSBmYWxzZTtcbiAgICAgICAgaWYgKGF4WzBdLnAyYyhheFswXS5tYXgpIDwgYXhbMF0ucDJjKGF4WzBdLm1pbikpIHtcbiAgICAgICAgICAgIGludmVydFggPSB0cnVlO1xuICAgICAgICAgICAgdmFyIHRtcCA9IGVyclswXS5sb3dlckNhcDtcbiAgICAgICAgICAgIGVyclswXS5sb3dlckNhcCA9IGVyclswXS51cHBlckNhcDtcbiAgICAgICAgICAgIGVyclswXS51cHBlckNhcCA9IHRtcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbnZlcnRZID0gZmFsc2U7XG4gICAgICAgIGlmIChheFsxXS5wMmMoYXhbMV0ubWluKSA8IGF4WzFdLnAyYyhheFsxXS5tYXgpKSB7XG4gICAgICAgICAgICBpbnZlcnRZID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciB0bXAgPSBlcnJbMV0ubG93ZXJDYXA7XG4gICAgICAgICAgICBlcnJbMV0ubG93ZXJDYXAgPSBlcnJbMV0udXBwZXJDYXA7XG4gICAgICAgICAgICBlcnJbMV0udXBwZXJDYXAgPSB0bXA7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHMuZGF0YXBvaW50cy5wb2ludHMubGVuZ3RoOyBpICs9IHBzKSB7XG5cbiAgICAgICAgICAgIC8vcGFyc2VcbiAgICAgICAgICAgIHZhciBlcnJSYW5nZXMgPSBwYXJzZUVycm9ycyhzLCBpKTtcblxuICAgICAgICAgICAgLy9jeWNsZSB4ZXJyICYgeWVyclxuICAgICAgICAgICAgZm9yICh2YXIgZSA9IDA7IGUgPCBlcnIubGVuZ3RoOyBlKyspe1xuXG4gICAgICAgICAgICAgICAgdmFyIG1pbm1heCA9IFtheFtlXS5taW4sIGF4W2VdLm1heF07XG5cbiAgICAgICAgICAgICAgICAvL2RyYXcgdGhpcyBlcnJvcj9cbiAgICAgICAgICAgICAgICBpZiAoZXJyUmFuZ2VzW2UgKiBlcnIubGVuZ3RoXSl7XG5cbiAgICAgICAgICAgICAgICAgICAgLy9kYXRhIGNvb3JkaW5hdGVzXG4gICAgICAgICAgICAgICAgICAgIHZhciB4ID0gcG9pbnRzW2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHBvaW50c1tpICsgMV07XG5cbiAgICAgICAgICAgICAgICAgICAgLy9lcnJvcmJhciByYW5nZXNcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVwcGVyID0gW3gsIHldW2VdICsgZXJyUmFuZ2VzW2UgKiBlcnIubGVuZ3RoICsgMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBsb3dlciA9IFt4LCB5XVtlXSAtIGVyclJhbmdlc1tlICogZXJyLmxlbmd0aF07XG5cbiAgICAgICAgICAgICAgICAgICAgLy9wb2ludHMgb3V0c2lkZSBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJbZV0uZXJyID09ICd4JylcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5ID4gYXhbMV0ubWF4IHx8IHkgPCBheFsxXS5taW4gfHwgdXBwZXIgPCBheFswXS5taW4gfHwgbG93ZXIgPiBheFswXS5tYXgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJbZV0uZXJyID09ICd5JylcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4ID4gYXhbMF0ubWF4IHx8IHggPCBheFswXS5taW4gfHwgdXBwZXIgPCBheFsxXS5taW4gfHwgbG93ZXIgPiBheFsxXS5tYXgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcHJldmVudCBlcnJvcmJhcnMgZ2V0dGluZyBvdXQgb2YgdGhlIGNhbnZhc1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHJhd1VwcGVyID0gdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdMb3dlciA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHVwcGVyID4gbWlubWF4WzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcmF3VXBwZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwcGVyID0gbWlubWF4WzFdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChsb3dlciA8IG1pbm1heFswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd0xvd2VyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb3dlciA9IG1pbm1heFswXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vc2FuaXR5IGNoZWNrLCBpbiBjYXNlIHNvbWUgaW52ZXJ0ZWQgYXhpcyBoYWNrIGlzIGFwcGxpZWQgdG8gZmxvdFxuICAgICAgICAgICAgICAgICAgICBpZiAoKGVycltlXS5lcnIgPT0gJ3gnICYmIGludmVydFgpIHx8IChlcnJbZV0uZXJyID09ICd5JyAmJiBpbnZlcnRZKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9zd2FwIGNvb3JkaW5hdGVzXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gbG93ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb3dlciA9IHVwcGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXIgPSB0bXA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSBkcmF3TG93ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcmF3TG93ZXIgPSBkcmF3VXBwZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcmF3VXBwZXIgPSB0bXA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSBtaW5tYXhbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5tYXhbMF0gPSBtaW5tYXhbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5tYXhbMV0gPSB0bXA7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IHRvIHBpeGVsc1xuICAgICAgICAgICAgICAgICAgICB4ID0gYXhbMF0ucDJjKHgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IGF4WzFdLnAyYyh5KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwcGVyID0gYXhbZV0ucDJjKHVwcGVyKTtcbiAgICAgICAgICAgICAgICAgICAgbG93ZXIgPSBheFtlXS5wMmMobG93ZXIpO1xuICAgICAgICAgICAgICAgICAgICBtaW5tYXhbMF0gPSBheFtlXS5wMmMobWlubWF4WzBdKTtcbiAgICAgICAgICAgICAgICAgICAgbWlubWF4WzFdID0gYXhbZV0ucDJjKG1pbm1heFsxXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy9zYW1lIHN0eWxlIGFzIHBvaW50cyBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIHZhciBsdyA9IGVycltlXS5saW5lV2lkdGggPyBlcnJbZV0ubGluZVdpZHRoIDogcy5wb2ludHMubGluZVdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3cgPSBzLnBvaW50cy5zaGFkb3dTaXplICE9IG51bGwgPyBzLnBvaW50cy5zaGFkb3dTaXplIDogcy5zaGFkb3dTaXplO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vc2hhZG93IGFzIGZvciBwb2ludHNcbiAgICAgICAgICAgICAgICAgICAgaWYgKGx3ID4gMCAmJiBzdyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3ID0gc3cgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcInJnYmEoMCwwLDAsMC4xKVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd0Vycm9yKGN0eCwgZXJyW2VdLCB4LCB5LCB1cHBlciwgbG93ZXIsIGRyYXdVcHBlciwgZHJhd0xvd2VyLCByYWRpdXMsIHcgKyB3LzIsIG1pbm1heCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwicmdiYSgwLDAsMCwwLjIpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcmF3RXJyb3IoY3R4LCBlcnJbZV0sIHgsIHksIHVwcGVyLCBsb3dlciwgZHJhd1VwcGVyLCBkcmF3TG93ZXIsIHJhZGl1cywgdy8yLCBtaW5tYXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gZXJyW2VdLmNvbG9yPyBlcnJbZV0uY29sb3I6IHMuY29sb3I7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSBsdztcbiAgICAgICAgICAgICAgICAgICAgLy9kcmF3IGl0XG4gICAgICAgICAgICAgICAgICAgIGRyYXdFcnJvcihjdHgsIGVycltlXSwgeCwgeSwgdXBwZXIsIGxvd2VyLCBkcmF3VXBwZXIsIGRyYXdMb3dlciwgcmFkaXVzLCAwLCBtaW5tYXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYXdFcnJvcihjdHgsZXJyLHgseSx1cHBlcixsb3dlcixkcmF3VXBwZXIsZHJhd0xvd2VyLHJhZGl1cyxvZmZzZXQsbWlubWF4KXtcblxuICAgICAgICAvL3NoYWRvdyBvZmZzZXRcbiAgICAgICAgeSArPSBvZmZzZXQ7XG4gICAgICAgIHVwcGVyICs9IG9mZnNldDtcbiAgICAgICAgbG93ZXIgKz0gb2Zmc2V0O1xuXG4gICAgICAgIC8vIGVycm9yIGJhciAtIGF2b2lkIHBsb3R0aW5nIG92ZXIgY2lyY2xlc1xuICAgICAgICBpZiAoZXJyLmVyciA9PSAneCcpe1xuICAgICAgICAgICAgaWYgKHVwcGVyID4geCArIHJhZGl1cykgZHJhd1BhdGgoY3R4LCBbW3VwcGVyLHldLFtNYXRoLm1heCh4ICsgcmFkaXVzLG1pbm1heFswXSkseV1dKTtcbiAgICAgICAgICAgIGVsc2UgZHJhd1VwcGVyID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAobG93ZXIgPCB4IC0gcmFkaXVzKSBkcmF3UGF0aChjdHgsIFtbTWF0aC5taW4oeCAtIHJhZGl1cyxtaW5tYXhbMV0pLHldLFtsb3dlcix5XV0gKTtcbiAgICAgICAgICAgIGVsc2UgZHJhd0xvd2VyID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodXBwZXIgPCB5IC0gcmFkaXVzKSBkcmF3UGF0aChjdHgsIFtbeCx1cHBlcl0sW3gsTWF0aC5taW4oeSAtIHJhZGl1cyxtaW5tYXhbMF0pXV0gKTtcbiAgICAgICAgICAgIGVsc2UgZHJhd1VwcGVyID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAobG93ZXIgPiB5ICsgcmFkaXVzKSBkcmF3UGF0aChjdHgsIFtbeCxNYXRoLm1heCh5ICsgcmFkaXVzLG1pbm1heFsxXSldLFt4LGxvd2VyXV0gKTtcbiAgICAgICAgICAgIGVsc2UgZHJhd0xvd2VyID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvL2ludGVybmFsIHJhZGl1cyB2YWx1ZSBpbiBlcnJvcmJhciwgYWxsb3dzIHRvIHBsb3QgcmFkaXVzIDAgcG9pbnRzIGFuZCBzdGlsbCBrZWVwIHByb3BlciBzaXplZCBjYXBzXG4gICAgICAgIC8vdGhpcyBpcyBhIHdheSB0byBnZXQgZXJyb3JiYXJzIG9uIGxpbmVzIHdpdGhvdXQgdmlzaWJsZSBjb25uZWN0aW5nIGRvdHNcbiAgICAgICAgcmFkaXVzID0gZXJyLnJhZGl1cyAhPSBudWxsPyBlcnIucmFkaXVzOiByYWRpdXM7XG5cbiAgICAgICAgLy8gdXBwZXIgY2FwXG4gICAgICAgIGlmIChkcmF3VXBwZXIpIHtcbiAgICAgICAgICAgIGlmIChlcnIudXBwZXJDYXAgPT0gJy0nKXtcbiAgICAgICAgICAgICAgICBpZiAoZXJyLmVycj09J3gnKSBkcmF3UGF0aChjdHgsIFtbdXBwZXIseSAtIHJhZGl1c10sW3VwcGVyLHkgKyByYWRpdXNdXSApO1xuICAgICAgICAgICAgICAgIGVsc2UgZHJhd1BhdGgoY3R4LCBbW3ggLSByYWRpdXMsdXBwZXJdLFt4ICsgcmFkaXVzLHVwcGVyXV0gKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJC5pc0Z1bmN0aW9uKGVyci51cHBlckNhcCkpe1xuICAgICAgICAgICAgICAgIGlmIChlcnIuZXJyPT0neCcpIGVyci51cHBlckNhcChjdHgsIHVwcGVyLCB5LCByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGVsc2UgZXJyLnVwcGVyQ2FwKGN0eCwgeCwgdXBwZXIsIHJhZGl1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbG93ZXIgY2FwXG4gICAgICAgIGlmIChkcmF3TG93ZXIpIHtcbiAgICAgICAgICAgIGlmIChlcnIubG93ZXJDYXAgPT0gJy0nKXtcbiAgICAgICAgICAgICAgICBpZiAoZXJyLmVycj09J3gnKSBkcmF3UGF0aChjdHgsIFtbbG93ZXIseSAtIHJhZGl1c10sW2xvd2VyLHkgKyByYWRpdXNdXSApO1xuICAgICAgICAgICAgICAgIGVsc2UgZHJhd1BhdGgoY3R4LCBbW3ggLSByYWRpdXMsbG93ZXJdLFt4ICsgcmFkaXVzLGxvd2VyXV0gKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJC5pc0Z1bmN0aW9uKGVyci5sb3dlckNhcCkpe1xuICAgICAgICAgICAgICAgIGlmIChlcnIuZXJyPT0neCcpIGVyci5sb3dlckNhcChjdHgsIGxvd2VyLCB5LCByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGVsc2UgZXJyLmxvd2VyQ2FwKGN0eCwgeCwgbG93ZXIsIHJhZGl1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkcmF3UGF0aChjdHgsIHB0cyl7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4Lm1vdmVUbyhwdHNbMF1bMF0sIHB0c1swXVsxXSk7XG4gICAgICAgIGZvciAodmFyIHA9MTsgcCA8IHB0cy5sZW5ndGg7IHArKylcbiAgICAgICAgICAgIGN0eC5saW5lVG8ocHRzW3BdWzBdLCBwdHNbcF1bMV0pO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZHJhdyhwbG90LCBjdHgpe1xuICAgICAgICB2YXIgcGxvdE9mZnNldCA9IHBsb3QuZ2V0UGxvdE9mZnNldCgpO1xuXG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGN0eC50cmFuc2xhdGUocGxvdE9mZnNldC5sZWZ0LCBwbG90T2Zmc2V0LnRvcCk7XG4gICAgICAgICQuZWFjaChwbG90LmdldERhdGEoKSwgZnVuY3Rpb24gKGksIHMpIHtcbiAgICAgICAgICAgIGlmIChzLnBvaW50cy5lcnJvcmJhcnMgJiYgKHMucG9pbnRzLnhlcnIuc2hvdyB8fCBzLnBvaW50cy55ZXJyLnNob3cpKVxuICAgICAgICAgICAgICAgIGRyYXdTZXJpZXNFcnJvcnMocGxvdCwgY3R4LCBzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdChwbG90KSB7XG4gICAgICAgIHBsb3QuaG9va3MucHJvY2Vzc1Jhd0RhdGEucHVzaChwcm9jZXNzUmF3RGF0YSk7XG4gICAgICAgIHBsb3QuaG9va3MuZHJhdy5wdXNoKGRyYXcpO1xuICAgIH1cblxuICAgICQucGxvdC5wbHVnaW5zLnB1c2goe1xuICAgICAgICAgICAgICAgIGluaXQ6IGluaXQsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnZXJyb3JiYXJzJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiAnMS4wJ1xuICAgICAgICAgICAgfSk7XG59KShqUXVlcnkpO1xuIl19"}