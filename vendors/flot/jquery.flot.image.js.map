{"version":3,"sources":["build/node_modules/browser-pack/_prelude.js","build/vendors/flot/build/vendors/flot/jquery.flot.image.js"],"names":[],"mappings":"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","file":"jquery.flot.image.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/* Flot plugin for plotting images.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nThe data syntax is [ [ image, x1, y1, x2, y2 ], ... ] where (x1, y1) and\n(x2, y2) are where you intend the two opposite corners of the image to end up\nin the plot. Image must be a fully loaded Javascript image (you can make one\nwith new Image()). If the image is not complete, it's skipped when plotting.\n\nThere are two helpers included for retrieving images. The easiest work the way\nthat you put in URLs instead of images in the data, like this:\n\n\t[ \"myimage.png\", 0, 0, 10, 10 ]\n\nThen call $.plot.image.loadData( data, options, callback ) where data and\noptions are the same as you pass in to $.plot. This loads the images, replaces\nthe URLs in the data with the corresponding images and calls \"callback\" when\nall images are loaded (or failed loading). In the callback, you can then call\n$.plot with the data set. See the included example.\n\nA more low-level helper, $.plot.image.load(urls, callback) is also included.\nGiven a list of URLs, it calls callback with an object mapping from URL to\nImage object when all images are loaded or have failed loading.\n\nThe plugin supports these options:\n\n\tseries: {\n\t\timages: {\n\t\t\tshow: boolean\n\t\t\tanchor: \"corner\" or \"center\"\n\t\t\talpha: [ 0, 1 ]\n\t\t}\n\t}\n\nThey can be specified for a specific series:\n\n\t$.plot( $(\"#placeholder\"), [{\n\t\tdata: [ ... ],\n\t\timages: { ... }\n\t])\n\nNote that because the data format is different from usual data points, you\ncan't use images with anything else in a specific data series.\n\nSetting \"anchor\" to \"center\" causes the pixels in the image to be anchored at\nthe corner pixel centers inside of at the pixel corners, effectively letting\nhalf a pixel stick out to each side in the plot.\n\nA possible future direction could be support for tiling for large images (like\nGoogle Maps).\n\n*/\n\n(function ($) {\n    var options = {\n        series: {\n            images: {\n                show: false,\n                alpha: 1,\n                anchor: \"corner\" // or \"center\"\n            }\n        }\n    };\n\n    $.plot.image = {};\n\n    $.plot.image.loadDataImages = function (series, options, callback) {\n        var urls = [], points = [];\n\n        var defaultShow = options.series.images.show;\n        \n        $.each(series, function (i, s) {\n            if (!(defaultShow || s.images.show))\n                return;\n            \n            if (s.data)\n                s = s.data;\n\n            $.each(s, function (i, p) {\n                if (typeof p[0] == \"string\") {\n                    urls.push(p[0]);\n                    points.push(p);\n                }\n            });\n        });\n\n        $.plot.image.load(urls, function (loadedImages) {\n            $.each(points, function (i, p) {\n                var url = p[0];\n                if (loadedImages[url])\n                    p[0] = loadedImages[url];\n            });\n\n            callback();\n        });\n    }\n    \n    $.plot.image.load = function (urls, callback) {\n        var missing = urls.length, loaded = {};\n        if (missing == 0)\n            callback({});\n\n        $.each(urls, function (i, url) {\n            var handler = function () {\n                --missing;\n                \n                loaded[url] = this;\n                \n                if (missing == 0)\n                    callback(loaded);\n            };\n\n            $('<img />').load(handler).error(handler).attr('src', url);\n        });\n    };\n    \n    function drawSeries(plot, ctx, series) {\n        var plotOffset = plot.getPlotOffset();\n        \n        if (!series.images || !series.images.show)\n            return;\n        \n        var points = series.datapoints.points,\n            ps = series.datapoints.pointsize;\n        \n        for (var i = 0; i < points.length; i += ps) {\n            var img = points[i],\n                x1 = points[i + 1], y1 = points[i + 2],\n                x2 = points[i + 3], y2 = points[i + 4],\n                xaxis = series.xaxis, yaxis = series.yaxis,\n                tmp;\n\n            // actually we should check img.complete, but it\n            // appears to be a somewhat unreliable indicator in\n            // IE6 (false even after load event)\n            if (!img || img.width <= 0 || img.height <= 0)\n                continue;\n\n            if (x1 > x2) {\n                tmp = x2;\n                x2 = x1;\n                x1 = tmp;\n            }\n            if (y1 > y2) {\n                tmp = y2;\n                y2 = y1;\n                y1 = tmp;\n            }\n            \n            // if the anchor is at the center of the pixel, expand the \n            // image by 1/2 pixel in each direction\n            if (series.images.anchor == \"center\") {\n                tmp = 0.5 * (x2-x1) / (img.width - 1);\n                x1 -= tmp;\n                x2 += tmp;\n                tmp = 0.5 * (y2-y1) / (img.height - 1);\n                y1 -= tmp;\n                y2 += tmp;\n            }\n            \n            // clip\n            if (x1 == x2 || y1 == y2 ||\n                x1 >= xaxis.max || x2 <= xaxis.min ||\n                y1 >= yaxis.max || y2 <= yaxis.min)\n                continue;\n\n            var sx1 = 0, sy1 = 0, sx2 = img.width, sy2 = img.height;\n            if (x1 < xaxis.min) {\n                sx1 += (sx2 - sx1) * (xaxis.min - x1) / (x2 - x1);\n                x1 = xaxis.min;\n            }\n\n            if (x2 > xaxis.max) {\n                sx2 += (sx2 - sx1) * (xaxis.max - x2) / (x2 - x1);\n                x2 = xaxis.max;\n            }\n\n            if (y1 < yaxis.min) {\n                sy2 += (sy1 - sy2) * (yaxis.min - y1) / (y2 - y1);\n                y1 = yaxis.min;\n            }\n\n            if (y2 > yaxis.max) {\n                sy1 += (sy1 - sy2) * (yaxis.max - y2) / (y2 - y1);\n                y2 = yaxis.max;\n            }\n            \n            x1 = xaxis.p2c(x1);\n            x2 = xaxis.p2c(x2);\n            y1 = yaxis.p2c(y1);\n            y2 = yaxis.p2c(y2);\n            \n            // the transformation may have swapped us\n            if (x1 > x2) {\n                tmp = x2;\n                x2 = x1;\n                x1 = tmp;\n            }\n            if (y1 > y2) {\n                tmp = y2;\n                y2 = y1;\n                y1 = tmp;\n            }\n\n            tmp = ctx.globalAlpha;\n            ctx.globalAlpha *= series.images.alpha;\n            ctx.drawImage(img,\n                          sx1, sy1, sx2 - sx1, sy2 - sy1,\n                          x1 + plotOffset.left, y1 + plotOffset.top,\n                          x2 - x1, y2 - y1);\n            ctx.globalAlpha = tmp;\n        }\n    }\n\n    function processRawData(plot, series, data, datapoints) {\n        if (!series.images.show)\n            return;\n\n        // format is Image, x1, y1, x2, y2 (opposite corners)\n        datapoints.format = [\n            { required: true },\n            { x: true, number: true, required: true },\n            { y: true, number: true, required: true },\n            { x: true, number: true, required: true },\n            { y: true, number: true, required: true }\n        ];\n    }\n    \n    function init(plot) {\n        plot.hooks.processRawData.push(processRawData);\n        plot.hooks.drawSeries.push(drawSeries);\n    }\n    \n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'image',\n        version: '1.1'\n    });\n})(jQuery);\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJidWlsZC92ZW5kb3JzL2Zsb3QvanF1ZXJ5LmZsb3QuaW1hZ2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFzREEsQ0FBQyxVQUFVLENBQVYsRUFBYTtBQUNWLFFBQUksVUFBVTtBQUNWLGdCQUFRO0FBQ0osb0JBQVE7QUFDSixzQkFBTSxLQURGO0FBRUosdUJBQU8sQ0FGSDtBQUdKLHdCQUFRLFFBSEosQ0FHYTtBQUhiO0FBREo7QUFERSxLQUFkOztBQVVBLE1BQUUsSUFBRixDQUFPLEtBQVAsR0FBZSxFQUFmOztBQUVBLE1BQUUsSUFBRixDQUFPLEtBQVAsQ0FBYSxjQUFiLEdBQThCLFVBQVUsTUFBVixFQUFrQixPQUFsQixFQUEyQixRQUEzQixFQUFxQztBQUMvRCxZQUFJLE9BQU8sRUFBWDtBQUFBLFlBQWUsU0FBUyxFQUF4Qjs7QUFFQSxZQUFJLGNBQWMsUUFBUSxNQUFSLENBQWUsTUFBZixDQUFzQixJQUF4Qzs7QUFFQSxVQUFFLElBQUYsQ0FBTyxNQUFQLEVBQWUsVUFBVSxDQUFWLEVBQWEsQ0FBYixFQUFnQjtBQUMzQixnQkFBSSxFQUFFLGVBQWUsRUFBRSxNQUFGLENBQVMsSUFBMUIsQ0FBSixFQUNJOztBQUVKLGdCQUFJLEVBQUUsSUFBTixFQUNJLElBQUksRUFBRSxJQUFOOztBQUVKLGNBQUUsSUFBRixDQUFPLENBQVAsRUFBVSxVQUFVLENBQVYsRUFBYSxDQUFiLEVBQWdCO0FBQ3RCLG9CQUFJLE9BQU8sRUFBRSxDQUFGLENBQVAsSUFBZSxRQUFuQixFQUE2QjtBQUN6Qix5QkFBSyxJQUFMLENBQVUsRUFBRSxDQUFGLENBQVY7QUFDQSwyQkFBTyxJQUFQLENBQVksQ0FBWjtBQUNIO0FBQ0osYUFMRDtBQU1ILFNBYkQ7O0FBZUEsVUFB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S0FBTCxDQUFXLFVBQVgsQ0FBc0IsSUFBdEIsQ0FBMkIsVUFBM0I7QUFDSDs7QUFFRCxNQUFFLElBQUYsQ0FBTyxPQUFQLENBQWUsSUFBZixDQUFvQjtBQUNoQixjQUFNLElBRFU7QUFFaEIsaUJBQVMsT0FGTztBQUdoQixjQUFNLE9BSFU7QUFJaEIsaUJBQVM7QUFKTyxLQUFwQjtBQU1ILENBMUxELEVBMExHLE1BMUxIIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qIEZsb3QgcGx1Z2luIGZvciBwbG90dGluZyBpbWFnZXMuXG5cbkNvcHlyaWdodCAoYykgMjAwNy0yMDE0IElPTEEgYW5kIE9sZSBMYXVyc2VuLlxuTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG5UaGUgZGF0YSBzeW50YXggaXMgWyBbIGltYWdlLCB4MSwgeTEsIHgyLCB5MiBdLCAuLi4gXSB3aGVyZSAoeDEsIHkxKSBhbmRcbih4MiwgeTIpIGFyZSB3aGVyZSB5b3UgaW50ZW5kIHRoZSB0d28gb3Bwb3NpdGUgY29ybmVycyBvZiB0aGUgaW1hZ2UgdG8gZW5kIHVwXG5pbiB0aGUgcGxvdC4gSW1hZ2UgbXVzdCBiZSBhIGZ1bGx5IGxvYWRlZCBKYXZhc2NyaXB0IGltYWdlICh5b3UgY2FuIG1ha2Ugb25lXG53aXRoIG5ldyBJbWFnZSgpKS4gSWYgdGhlIGltYWdlIGlzIG5vdCBjb21wbGV0ZSwgaXQncyBza2lwcGVkIHdoZW4gcGxvdHRpbmcuXG5cblRoZXJlIGFyZSB0d28gaGVscGVycyBpbmNsdWRlZCBmb3IgcmV0cmlldmluZyBpbWFnZXMuIFRoZSBlYXNpZXN0IHdvcmsgdGhlIHdheVxudGhhdCB5b3UgcHV0IGluIFVSTHMgaW5zdGVhZCBvZiBpbWFnZXMgaW4gdGhlIGRhdGEsIGxpa2UgdGhpczpcblxuXHRbIFwibXlpbWFnZS5wbmdcIiwgMCwgMCwgMTAsIDEwIF1cblxuVGhlbiBjYWxsICQucGxvdC5pbWFnZS5sb2FkRGF0YSggZGF0YSwgb3B0aW9ucywgY2FsbGJhY2sgKSB3aGVyZSBkYXRhIGFuZFxub3B0aW9ucyBhcmUgdGhlIHNhbWUgYXMgeW91IHBhc3MgaW4gdG8gJC5wbG90LiBUaGlzIGxvYWRzIHRoZSBpbWFnZXMsIHJlcGxhY2VzXG50aGUgVVJMcyBpbiB0aGUgZGF0YSB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIGltYWdlcyBhbmQgY2FsbHMgXCJjYWxsYmFja1wiIHdoZW5cbmFsbCBpbWFnZXMgYXJlIGxvYWRlZCAob3IgZmFpbGVkIGxvYWRpbmcpLiBJbiB0aGUgY2FsbGJhY2ssIHlvdSBjYW4gdGhlbiBjYWxsXG4kLnBsb3Qgd2l0aCB0aGUgZGF0YSBzZXQuIFNlZSB0aGUgaW5jbHVkZWQgZXhhbXBsZS5cblxuQSBtb3JlIGxvdy1sZXZlbCBoZWxwZXIsICQucGxvdC5pbWFnZS5sb2FkKHVybHMsIGNhbGxiYWNrKSBpcyBhbHNvIGluY2x1ZGVkLlxuR2l2ZW4gYSBsaXN0IG9mIFVSTHMsIGl0IGNhbGxzIGNhbGxiYWNrIHdpdGggYW4gb2JqZWN0IG1hcHBpbmcgZnJvbSBVUkwgdG9cbkltYWdlIG9iamVjdCB3aGVuIGFsbCBpbWFnZXMgYXJlIGxvYWRlZCBvciBoYXZlIGZhaWxlZCBsb2FkaW5nLlxuXG5UaGUgcGx1Z2luIHN1cHBvcnRzIHRoZXNlIG9wdGlvbnM6XG5cblx0c2VyaWVzOiB7XG5cdFx0aW1hZ2VzOiB7XG5cdFx0XHRzaG93OiBib29sZWFuXG5cdFx0XHRhbmNob3I6IFwiY29ybmVyXCIgb3IgXCJjZW50ZXJcIlxuXHRcdFx0YWxwaGE6IFsgMCwgMSBdXG5cdFx0fVxuXHR9XG5cblRoZXkgY2FuIGJlIHNwZWNpZmllZCBmb3IgYSBzcGVjaWZpYyBzZXJpZXM6XG5cblx0JC5wbG90KCAkKFwiI3BsYWNlaG9sZGVyXCIpLCBbe1xuXHRcdGRhdGE6IFsgLi4uIF0sXG5cdFx0aW1hZ2VzOiB7IC4uLiB9XG5cdF0pXG5cbk5vdGUgdGhhdCBiZWNhdXNlIHRoZSBkYXRhIGZvcm1hdCBpcyBkaWZmZXJlbnQgZnJvbSB1c3VhbCBkYXRhIHBvaW50cywgeW91XG5jYW4ndCB1c2UgaW1hZ2VzIHdpdGggYW55dGhpbmcgZWxzZSBpbiBhIHNwZWNpZmljIGRhdGEgc2VyaWVzLlxuXG5TZXR0aW5nIFwiYW5jaG9yXCIgdG8gXCJjZW50ZXJcIiBjYXVzZXMgdGhlIHBpeGVscyBpbiB0aGUgaW1hZ2UgdG8gYmUgYW5jaG9yZWQgYXRcbnRoZSBjb3JuZXIgcGl4ZWwgY2VudGVycyBpbnNpZGUgb2YgYXQgdGhlIHBpeGVsIGNvcm5lcnMsIGVmZmVjdGl2ZWx5IGxldHRpbmdcbmhhbGYgYSBwaXhlbCBzdGljayBvdXQgdG8gZWFjaCBzaWRlIGluIHRoZSBwbG90LlxuXG5BIHBvc3NpYmxlIGZ1dHVyZSBkaXJlY3Rpb24gY291bGQgYmUgc3VwcG9ydCBmb3IgdGlsaW5nIGZvciBsYXJnZSBpbWFnZXMgKGxpa2Vcbkdvb2dsZSBNYXBzKS5cblxuKi9cblxuKGZ1bmN0aW9uICgkKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIHNlcmllczoge1xuICAgICAgICAgICAgaW1hZ2VzOiB7XG4gICAgICAgICAgICAgICAgc2hvdzogZmFsc2UsXG4gICAgICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICAgICAgYW5jaG9yOiBcImNvcm5lclwiIC8vIG9yIFwiY2VudGVyXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAkLnBsb3QuaW1hZ2UgPSB7fTtcblxuICAgICQucGxvdC5pbWFnZS5sb2FkRGF0YUltYWdlcyA9IGZ1bmN0aW9uIChzZXJpZXMsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciB1cmxzID0gW10sIHBvaW50cyA9IFtdO1xuXG4gICAgICAgIHZhciBkZWZhdWx0U2hvdyA9IG9wdGlvbnMuc2VyaWVzLmltYWdlcy5zaG93O1xuICAgICAgICBcbiAgICAgICAgJC5lYWNoKHNlcmllcywgZnVuY3Rpb24gKGksIHMpIHtcbiAgICAgICAgICAgIGlmICghKGRlZmF1bHRTaG93IHx8IHMuaW1hZ2VzLnNob3cpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHMuZGF0YSlcbiAgICAgICAgICAgICAgICBzID0gcy5kYXRhO1xuXG4gICAgICAgICAgICAkLmVhY2gocywgZnVuY3Rpb24gKGksIHApIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBbMF0gPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICB1cmxzLnB1c2gocFswXSk7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAkLnBsb3QuaW1hZ2UubG9hZCh1cmxzLCBmdW5jdGlvbiAobG9hZGVkSW1hZ2VzKSB7XG4gICAgICAgICAgICAkLmVhY2gocG9pbnRzLCBmdW5jdGlvbiAoaSwgcCkge1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBwWzBdO1xuICAgICAgICAgICAgICAgIGlmIChsb2FkZWRJbWFnZXNbdXJsXSlcbiAgICAgICAgICAgICAgICAgICAgcFswXSA9IGxvYWRlZEltYWdlc1t1cmxdO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICAkLnBsb3QuaW1hZ2UubG9hZCA9IGZ1bmN0aW9uICh1cmxzLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgbWlzc2luZyA9IHVybHMubGVuZ3RoLCBsb2FkZWQgPSB7fTtcbiAgICAgICAgaWYgKG1pc3NpbmcgPT0gMClcbiAgICAgICAgICAgIGNhbGxiYWNrKHt9KTtcblxuICAgICAgICAkLmVhY2godXJscywgZnVuY3Rpb24gKGksIHVybCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLS1taXNzaW5nO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGxvYWRlZFt1cmxdID0gdGhpcztcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAobWlzc2luZyA9PSAwKVxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhsb2FkZWQpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJCgnPGltZyAvPicpLmxvYWQoaGFuZGxlcikuZXJyb3IoaGFuZGxlcikuYXR0cignc3JjJywgdXJsKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBcbiAgICBmdW5jdGlvbiBkcmF3U2VyaWVzKHBsb3QsIGN0eCwgc2VyaWVzKSB7XG4gICAgICAgIHZhciBwbG90T2Zmc2V0ID0gcGxvdC5nZXRQbG90T2Zmc2V0KCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXNlcmllcy5pbWFnZXMgfHwgIXNlcmllcy5pbWFnZXMuc2hvdylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIHZhciBwb2ludHMgPSBzZXJpZXMuZGF0YXBvaW50cy5wb2ludHMsXG4gICAgICAgICAgICBwcyA9IHNlcmllcy5kYXRhcG9pbnRzLnBvaW50c2l6ZTtcbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSArPSBwcykge1xuICAgICAgICAgICAgdmFyIGltZyA9IHBvaW50c1tpXSxcbiAgICAgICAgICAgICAgICB4MSA9IHBvaW50c1tpICsgMV0sIHkxID0gcG9pbnRzW2kgKyAyXSxcbiAgICAgICAgICAgICAgICB4MiA9IHBvaW50c1tpICsgM10sIHkyID0gcG9pbnRzW2kgKyA0XSxcbiAgICAgICAgICAgICAgICB4YXhpcyA9IHNlcmllcy54YXhpcywgeWF4aXMgPSBzZXJpZXMueWF4aXMsXG4gICAgICAgICAgICAgICAgdG1wO1xuXG4gICAgICAgICAgICAvLyBhY3R1YWxseSB3ZSBzaG91bGQgY2hlY2sgaW1nLmNvbXBsZXRlLCBidXQgaXRcbiAgICAgICAgICAgIC8vIGFwcGVhcnMgdG8gYmUgYSBzb21ld2hhdCB1bnJlbGlhYmxlIGluZGljYXRvciBpblxuICAgICAgICAgICAgLy8gSUU2IChmYWxzZSBldmVuIGFmdGVyIGxvYWQgZXZlbnQpXG4gICAgICAgICAgICBpZiAoIWltZyB8fCBpbWcud2lkdGggPD0gMCB8fCBpbWcuaGVpZ2h0IDw9IDApXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmICh4MSA+IHgyKSB7XG4gICAgICAgICAgICAgICAgdG1wID0geDI7XG4gICAgICAgICAgICAgICAgeDIgPSB4MTtcbiAgICAgICAgICAgICAgICB4MSA9IHRtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh5MSA+IHkyKSB7XG4gICAgICAgICAgICAgICAgdG1wID0geTI7XG4gICAgICAgICAgICAgICAgeTIgPSB5MTtcbiAgICAgICAgICAgICAgICB5MSA9IHRtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gaWYgdGhlIGFuY2hvciBpcyBhdCB0aGUgY2VudGVyIG9mIHRoZSBwaXhlbCwgZXhwYW5kIHRoZSBcbiAgICAgICAgICAgIC8vIGltYWdlIGJ5IDEvMiBwaXhlbCBpbiBlYWNoIGRpcmVjdGlvblxuICAgICAgICAgICAgaWYgKHNlcmllcy5pbWFnZXMuYW5jaG9yID09IFwiY2VudGVyXCIpIHtcbiAgICAgICAgICAgICAgICB0bXAgPSAwLjUgKiAoeDIteDEpIC8gKGltZy53aWR0aCAtIDEpO1xuICAgICAgICAgICAgICAgIHgxIC09IHRtcDtcbiAgICAgICAgICAgICAgICB4MiArPSB0bXA7XG4gICAgICAgICAgICAgICAgdG1wID0gMC41ICogKHkyLXkxKSAvIChpbWcuaGVpZ2h0IC0gMSk7XG4gICAgICAgICAgICAgICAgeTEgLT0gdG1wO1xuICAgICAgICAgICAgICAgIHkyICs9IHRtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gY2xpcFxuICAgICAgICAgICAgaWYgKHgxID09IHgyIHx8IHkxID09IHkyIHx8XG4gICAgICAgICAgICAgICAgeDEgPj0geGF4aXMubWF4IHx8IHgyIDw9IHhheGlzLm1pbiB8fFxuICAgICAgICAgICAgICAgIHkxID49IHlheGlzLm1heCB8fCB5MiA8PSB5YXhpcy5taW4pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIHZhciBzeDEgPSAwLCBzeTEgPSAwLCBzeDIgPSBpbWcud2lkdGgsIHN5MiA9IGltZy5oZWlnaHQ7XG4gICAgICAgICAgICBpZiAoeDEgPCB4YXhpcy5taW4pIHtcbiAgICAgICAgICAgICAgICBzeDEgKz0gKHN4MiAtIHN4MSkgKiAoeGF4aXMubWluIC0geDEpIC8gKHgyIC0geDEpO1xuICAgICAgICAgICAgICAgIHgxID0geGF4aXMubWluO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoeDIgPiB4YXhpcy5tYXgpIHtcbiAgICAgICAgICAgICAgICBzeDIgKz0gKHN4MiAtIHN4MSkgKiAoeGF4aXMubWF4IC0geDIpIC8gKHgyIC0geDEpO1xuICAgICAgICAgICAgICAgIHgyID0geGF4aXMubWF4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoeTEgPCB5YXhpcy5taW4pIHtcbiAgICAgICAgICAgICAgICBzeTIgKz0gKHN5MSAtIHN5MikgKiAoeWF4aXMubWluIC0geTEpIC8gKHkyIC0geTEpO1xuICAgICAgICAgICAgICAgIHkxID0geWF4aXMubWluO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoeTIgPiB5YXhpcy5tYXgpIHtcbiAgICAgICAgICAgICAgICBzeTEgKz0gKHN5MSAtIHN5MikgKiAoeWF4aXMubWF4IC0geTIpIC8gKHkyIC0geTEpO1xuICAgICAgICAgICAgICAgIHkyID0geWF4aXMubWF4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB4MSA9IHhheGlzLnAyYyh4MSk7XG4gICAgICAgICAgICB4MiA9IHhheGlzLnAyYyh4Mik7XG4gICAgICAgICAgICB5MSA9IHlheGlzLnAyYyh5MSk7XG4gICAgICAgICAgICB5MiA9IHlheGlzLnAyYyh5Mik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXkgaGF2ZSBzd2FwcGVkIHVzXG4gICAgICAgICAgICBpZiAoeDEgPiB4Mikge1xuICAgICAgICAgICAgICAgIHRtcCA9IHgyO1xuICAgICAgICAgICAgICAgIHgyID0geDE7XG4gICAgICAgICAgICAgICAgeDEgPSB0bXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoeTEgPiB5Mikge1xuICAgICAgICAgICAgICAgIHRtcCA9IHkyO1xuICAgICAgICAgICAgICAgIHkyID0geTE7XG4gICAgICAgICAgICAgICAgeTEgPSB0bXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRtcCA9IGN0eC5nbG9iYWxBbHBoYTtcbiAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSAqPSBzZXJpZXMuaW1hZ2VzLmFscGhhO1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN4MSwgc3kxLCBzeDIgLSBzeDEsIHN5MiAtIHN5MSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeDEgKyBwbG90T2Zmc2V0LmxlZnQsIHkxICsgcGxvdE9mZnNldC50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHgyIC0geDEsIHkyIC0geTEpO1xuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gdG1wO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc1Jhd0RhdGEocGxvdCwgc2VyaWVzLCBkYXRhLCBkYXRhcG9pbnRzKSB7XG4gICAgICAgIGlmICghc2VyaWVzLmltYWdlcy5zaG93KVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIC8vIGZvcm1hdCBpcyBJbWFnZSwgeDEsIHkxLCB4MiwgeTIgKG9wcG9zaXRlIGNvcm5lcnMpXG4gICAgICAgIGRhdGFwb2ludHMuZm9ybWF0ID0gW1xuICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyB4OiB0cnVlLCBudW1iZXI6IHRydWUsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IHk6IHRydWUsIG51bWJlcjogdHJ1ZSwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIHsgeDogdHJ1ZSwgbnVtYmVyOiB0cnVlLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyB5OiB0cnVlLCBudW1iZXI6IHRydWUsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gaW5pdChwbG90KSB7XG4gICAgICAgIHBsb3QuaG9va3MucHJvY2Vzc1Jhd0RhdGEucHVzaChwcm9jZXNzUmF3RGF0YSk7XG4gICAgICAgIHBsb3QuaG9va3MuZHJhd1Nlcmllcy5wdXNoKGRyYXdTZXJpZXMpO1xuICAgIH1cbiAgICBcbiAgICAkLnBsb3QucGx1Z2lucy5wdXNoKHtcbiAgICAgICAgaW5pdDogaW5pdCxcbiAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgbmFtZTogJ2ltYWdlJyxcbiAgICAgICAgdmVyc2lvbjogJzEuMSdcbiAgICB9KTtcbn0pKGpRdWVyeSk7XG4iXX0="}