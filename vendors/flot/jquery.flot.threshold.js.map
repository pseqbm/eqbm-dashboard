{"version":3,"sources":["build/node_modules/browser-pack/_prelude.js","build/vendors/flot/build/vendors/flot/jquery.flot.threshold.js"],"names":[],"mappings":"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","file":"jquery.flot.threshold.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/* Flot plugin for thresholding data.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nThe plugin supports these options:\n\n\tseries: {\n\t\tthreshold: {\n\t\t\tbelow: number\n\t\t\tcolor: colorspec\n\t\t}\n\t}\n\nIt can also be applied to a single series, like this:\n\n\t$.plot( $(\"#placeholder\"), [{\n\t\tdata: [ ... ],\n\t\tthreshold: { ... }\n\t}])\n\nAn array can be passed for multiple thresholding, like this:\n\n\tthreshold: [{\n\t\tbelow: number1\n\t\tcolor: color1\n\t},{\n\t\tbelow: number2\n\t\tcolor: color2\n\t}]\n\nThese multiple threshold objects can be passed in any order since they are\nsorted by the processing function.\n\nThe data points below \"below\" are drawn with the specified color. This makes\nit easy to mark points below 0, e.g. for budget data.\n\nInternally, the plugin works by splitting the data into two series, above and\nbelow the threshold. The extra series below the threshold will have its label\ncleared and the special \"originSeries\" attribute set to the original series.\nYou may need to check for this in hover events.\n\n*/\n\n(function ($) {\n    var options = {\n        series: { threshold: null } // or { below: number, color: color spec}\n    };\n    \n    function init(plot) {\n        function thresholdData(plot, s, datapoints, below, color) {\n            var ps = datapoints.pointsize, i, x, y, p, prevp,\n                thresholded = $.extend({}, s); // note: shallow copy\n\n            thresholded.datapoints = { points: [], pointsize: ps, format: datapoints.format };\n            thresholded.label = null;\n            thresholded.color = color;\n            thresholded.threshold = null;\n            thresholded.originSeries = s;\n            thresholded.data = [];\n \n            var origpoints = datapoints.points,\n                addCrossingPoints = s.lines.show;\n\n            var threspoints = [];\n            var newpoints = [];\n            var m;\n\n            for (i = 0; i < origpoints.length; i += ps) {\n                x = origpoints[i];\n                y = origpoints[i + 1];\n\n                prevp = p;\n                if (y < below)\n                    p = threspoints;\n                else\n                    p = newpoints;\n\n                if (addCrossingPoints && prevp != p && x != null\n                    && i > 0 && origpoints[i - ps] != null) {\n                    var interx = x + (below - y) * (x - origpoints[i - ps]) / (y - origpoints[i - ps + 1]);\n                    prevp.push(interx);\n                    prevp.push(below);\n                    for (m = 2; m < ps; ++m)\n                        prevp.push(origpoints[i + m]);\n                    \n                    p.push(null); // start new segment\n                    p.push(null);\n                    for (m = 2; m < ps; ++m)\n                        p.push(origpoints[i + m]);\n                    p.push(interx);\n                    p.push(below);\n                    for (m = 2; m < ps; ++m)\n                        p.push(origpoints[i + m]);\n                }\n\n                p.push(x);\n                p.push(y);\n                for (m = 2; m < ps; ++m)\n                    p.push(origpoints[i + m]);\n            }\n\n            datapoints.points = newpoints;\n            thresholded.datapoints.points = threspoints;\n            \n            if (thresholded.datapoints.points.length > 0) {\n                var origIndex = $.inArray(s, plot.getData());\n                // Insert newly-generated series right after original one (to prevent it from becoming top-most)\n                plot.getData().splice(origIndex + 1, 0, thresholded);\n            }\n                \n            // FIXME: there are probably some edge cases left in bars\n        }\n        \n        function processThresholds(plot, s, datapoints) {\n            if (!s.threshold)\n                return;\n            \n            if (s.threshold instanceof Array) {\n                s.threshold.sort(function(a, b) {\n                    return a.below - b.below;\n                });\n                \n                $(s.threshold).each(function(i, th) {\n                    thresholdData(plot, s, datapoints, th.below, th.color);\n                });\n            }\n            else {\n                thresholdData(plot, s, datapoints, s.threshold.below, s.threshold.color);\n            }\n        }\n        \n        plot.hooks.processDatapoints.push(processThresholds);\n    }\n    \n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'threshold',\n        version: '1.2'\n    });\n})(jQuery);\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJidWlsZC92ZW5kb3JzL2Zsb3QvanF1ZXJ5LmZsb3QudGhyZXNob2xkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE0Q0EsQ0FBQyxVQUFVLENBQVYsRUFBYTtBQUNWLFFBQUksVUFBVTtBQUNWLGdCQUFRLEVBQUUsV0FBVyxJQUFiLENBQW9CO0FBQXBCLFNBREUsRUFBZDs7QUFJQSxhQUFTLElBQVQsQ0FBYyxJQUFkLEVBQW9CO0FBQ2hCLGlCQUFTLGFBQVQsQ0FBdUIsSUFBdkIsRUFBNkIsQ0FBN0IsRUFBZ0MsVUFBaEMsRUFBNEMsS0FBNUMsRUFBbUQsS0FBbkQsRUFBMEQ7QUFDdEQsZ0JBQUksS0FBSyxXQUFXLFNBQXBCO0FBQUEsZ0JBQStCLENBQS9CO0FBQUEsZ0JBQWtDLENBQWxDO0FBQUEsZ0JBQXFDLENBQXJDO0FBQUEsZ0JBQXdDLENBQXhDO0FBQUEsZ0JBQTJDLEtBQTNDO0FBQUEsZ0JBQ0ksY0FBYyxFQUFFLE1BQUYsQ0FBUyxFQUFULEVBQWEsQ0FBYixDQURsQixDQURzRCxDQUVuQjs7QUFFbkMsd0JBQVksVUFBWixHQUF5QixFQUFFLFFBQVEsRUFBVixFQUFjLFdBQVcsRUFBekIsRUFBNkIsUUFBUSxXQUFXLE1BQWhELEVBQXpCO0FBQ0Esd0JBQVksS0FBWixHQUFvQixJQUFwQjtBQUNBLHdCQUFZLEtBQVosR0FBb0IsS0FBcEI7QUFDQSx3QkFBWSxTQUFaLEdBQXdCLElBQXhCO0FBQ0Esd0JBQVksWUFBWixHQUEyQixDQUEzQjtBQUNBLHdCQUFZLElBQVosR0FBbUIsRUFBbkI7O0FBRUEsZ0JBQUksYUFBYSxXQUFXLE1BQTVCO0FBQUEsZ0JBQ0ksb0JBQW9CLEVBQUUsS0FBRixDQUFRLElBRGhDOztBQUdBLGdCQUFJLGNBQWMsRUFBbEI7QUFDQSxn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QUF2QixFQUFtQyxFQUFFLFNBQUYsQ0FBWSxLQUEvQyxFQUFzRCxFQUFFLFNBQUYsQ0FBWSxLQUFsRTtBQUNIO0FBQ0o7O0FBRUQsYUFBSyxLQUFMLENBQVcsaUJBQVgsQ0FBNkIsSUFBN0IsQ0FBa0MsaUJBQWxDO0FBQ0g7O0FBRUQsTUFBRSxJQUFGLENBQU8sT0FBUCxDQUFlLElBQWYsQ0FBb0I7QUFDaEIsY0FBTSxJQURVO0FBRWhCLGlCQUFTLE9BRk87QUFHaEIsY0FBTSxXQUhVO0FBSWhCLGlCQUFTO0FBSk8sS0FBcEI7QUFNSCxDQWpHRCxFQWlHRyxNQWpHSCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKiBGbG90IHBsdWdpbiBmb3IgdGhyZXNob2xkaW5nIGRhdGEuXG5cbkNvcHlyaWdodCAoYykgMjAwNy0yMDE0IElPTEEgYW5kIE9sZSBMYXVyc2VuLlxuTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG5UaGUgcGx1Z2luIHN1cHBvcnRzIHRoZXNlIG9wdGlvbnM6XG5cblx0c2VyaWVzOiB7XG5cdFx0dGhyZXNob2xkOiB7XG5cdFx0XHRiZWxvdzogbnVtYmVyXG5cdFx0XHRjb2xvcjogY29sb3JzcGVjXG5cdFx0fVxuXHR9XG5cbkl0IGNhbiBhbHNvIGJlIGFwcGxpZWQgdG8gYSBzaW5nbGUgc2VyaWVzLCBsaWtlIHRoaXM6XG5cblx0JC5wbG90KCAkKFwiI3BsYWNlaG9sZGVyXCIpLCBbe1xuXHRcdGRhdGE6IFsgLi4uIF0sXG5cdFx0dGhyZXNob2xkOiB7IC4uLiB9XG5cdH1dKVxuXG5BbiBhcnJheSBjYW4gYmUgcGFzc2VkIGZvciBtdWx0aXBsZSB0aHJlc2hvbGRpbmcsIGxpa2UgdGhpczpcblxuXHR0aHJlc2hvbGQ6IFt7XG5cdFx0YmVsb3c6IG51bWJlcjFcblx0XHRjb2xvcjogY29sb3IxXG5cdH0se1xuXHRcdGJlbG93OiBudW1iZXIyXG5cdFx0Y29sb3I6IGNvbG9yMlxuXHR9XVxuXG5UaGVzZSBtdWx0aXBsZSB0aHJlc2hvbGQgb2JqZWN0cyBjYW4gYmUgcGFzc2VkIGluIGFueSBvcmRlciBzaW5jZSB0aGV5IGFyZVxuc29ydGVkIGJ5IHRoZSBwcm9jZXNzaW5nIGZ1bmN0aW9uLlxuXG5UaGUgZGF0YSBwb2ludHMgYmVsb3cgXCJiZWxvd1wiIGFyZSBkcmF3biB3aXRoIHRoZSBzcGVjaWZpZWQgY29sb3IuIFRoaXMgbWFrZXNcbml0IGVhc3kgdG8gbWFyayBwb2ludHMgYmVsb3cgMCwgZS5nLiBmb3IgYnVkZ2V0IGRhdGEuXG5cbkludGVybmFsbHksIHRoZSBwbHVnaW4gd29ya3MgYnkgc3BsaXR0aW5nIHRoZSBkYXRhIGludG8gdHdvIHNlcmllcywgYWJvdmUgYW5kXG5iZWxvdyB0aGUgdGhyZXNob2xkLiBUaGUgZXh0cmEgc2VyaWVzIGJlbG93IHRoZSB0aHJlc2hvbGQgd2lsbCBoYXZlIGl0cyBsYWJlbFxuY2xlYXJlZCBhbmQgdGhlIHNwZWNpYWwgXCJvcmlnaW5TZXJpZXNcIiBhdHRyaWJ1dGUgc2V0IHRvIHRoZSBvcmlnaW5hbCBzZXJpZXMuXG5Zb3UgbWF5IG5lZWQgdG8gY2hlY2sgZm9yIHRoaXMgaW4gaG92ZXIgZXZlbnRzLlxuXG4qL1xuXG4oZnVuY3Rpb24gKCQpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgc2VyaWVzOiB7IHRocmVzaG9sZDogbnVsbCB9IC8vIG9yIHsgYmVsb3c6IG51bWJlciwgY29sb3I6IGNvbG9yIHNwZWN9XG4gICAgfTtcbiAgICBcbiAgICBmdW5jdGlvbiBpbml0KHBsb3QpIHtcbiAgICAgICAgZnVuY3Rpb24gdGhyZXNob2xkRGF0YShwbG90LCBzLCBkYXRhcG9pbnRzLCBiZWxvdywgY29sb3IpIHtcbiAgICAgICAgICAgIHZhciBwcyA9IGRhdGFwb2ludHMucG9pbnRzaXplLCBpLCB4LCB5LCBwLCBwcmV2cCxcbiAgICAgICAgICAgICAgICB0aHJlc2hvbGRlZCA9ICQuZXh0ZW5kKHt9LCBzKTsgLy8gbm90ZTogc2hhbGxvdyBjb3B5XG5cbiAgICAgICAgICAgIHRocmVzaG9sZGVkLmRhdGFwb2ludHMgPSB7IHBvaW50czogW10sIHBvaW50c2l6ZTogcHMsIGZvcm1hdDogZGF0YXBvaW50cy5mb3JtYXQgfTtcbiAgICAgICAgICAgIHRocmVzaG9sZGVkLmxhYmVsID0gbnVsbDtcbiAgICAgICAgICAgIHRocmVzaG9sZGVkLmNvbG9yID0gY29sb3I7XG4gICAgICAgICAgICB0aHJlc2hvbGRlZC50aHJlc2hvbGQgPSBudWxsO1xuICAgICAgICAgICAgdGhyZXNob2xkZWQub3JpZ2luU2VyaWVzID0gcztcbiAgICAgICAgICAgIHRocmVzaG9sZGVkLmRhdGEgPSBbXTtcbiBcbiAgICAgICAgICAgIHZhciBvcmlncG9pbnRzID0gZGF0YXBvaW50cy5wb2ludHMsXG4gICAgICAgICAgICAgICAgYWRkQ3Jvc3NpbmdQb2ludHMgPSBzLmxpbmVzLnNob3c7XG5cbiAgICAgICAgICAgIHZhciB0aHJlc3BvaW50cyA9IFtdO1xuICAgICAgICAgICAgdmFyIG5ld3BvaW50cyA9IFtdO1xuICAgICAgICAgICAgdmFyIG07XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBvcmlncG9pbnRzLmxlbmd0aDsgaSArPSBwcykge1xuICAgICAgICAgICAgICAgIHggPSBvcmlncG9pbnRzW2ldO1xuICAgICAgICAgICAgICAgIHkgPSBvcmlncG9pbnRzW2kgKyAxXTtcblxuICAgICAgICAgICAgICAgIHByZXZwID0gcDtcbiAgICAgICAgICAgICAgICBpZiAoeSA8IGJlbG93KVxuICAgICAgICAgICAgICAgICAgICBwID0gdGhyZXNwb2ludHM7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBwID0gbmV3cG9pbnRzO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFkZENyb3NzaW5nUG9pbnRzICYmIHByZXZwICE9IHAgJiYgeCAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgICYmIGkgPiAwICYmIG9yaWdwb2ludHNbaSAtIHBzXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnRlcnggPSB4ICsgKGJlbG93IC0geSkgKiAoeCAtIG9yaWdwb2ludHNbaSAtIHBzXSkgLyAoeSAtIG9yaWdwb2ludHNbaSAtIHBzICsgMV0pO1xuICAgICAgICAgICAgICAgICAgICBwcmV2cC5wdXNoKGludGVyeCk7XG4gICAgICAgICAgICAgICAgICAgIHByZXZwLnB1c2goYmVsb3cpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKG0gPSAyOyBtIDwgcHM7ICsrbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZwLnB1c2gob3JpZ3BvaW50c1tpICsgbV0pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgcC5wdXNoKG51bGwpOyAvLyBzdGFydCBuZXcgc2VnbWVudFxuICAgICAgICAgICAgICAgICAgICBwLnB1c2gobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobSA9IDI7IG0gPCBwczsgKyttKVxuICAgICAgICAgICAgICAgICAgICAgICAgcC5wdXNoKG9yaWdwb2ludHNbaSArIG1dKTtcbiAgICAgICAgICAgICAgICAgICAgcC5wdXNoKGludGVyeCk7XG4gICAgICAgICAgICAgICAgICAgIHAucHVzaChiZWxvdyk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobSA9IDI7IG0gPCBwczsgKyttKVxuICAgICAgICAgICAgICAgICAgICAgICAgcC5wdXNoKG9yaWdwb2ludHNbaSArIG1dKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwLnB1c2goeCk7XG4gICAgICAgICAgICAgICAgcC5wdXNoKHkpO1xuICAgICAgICAgICAgICAgIGZvciAobSA9IDI7IG0gPCBwczsgKyttKVxuICAgICAgICAgICAgICAgICAgICBwLnB1c2gob3JpZ3BvaW50c1tpICsgbV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRhcG9pbnRzLnBvaW50cyA9IG5ld3BvaW50cztcbiAgICAgICAgICAgIHRocmVzaG9sZGVkLmRhdGFwb2ludHMucG9pbnRzID0gdGhyZXNwb2ludHM7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0aHJlc2hvbGRlZC5kYXRhcG9pbnRzLnBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWdJbmRleCA9ICQuaW5BcnJheShzLCBwbG90LmdldERhdGEoKSk7XG4gICAgICAgICAgICAgICAgLy8gSW5zZXJ0IG5ld2x5LWdlbmVyYXRlZCBzZXJpZXMgcmlnaHQgYWZ0ZXIgb3JpZ2luYWwgb25lICh0byBwcmV2ZW50IGl0IGZyb20gYmVjb21pbmcgdG9wLW1vc3QpXG4gICAgICAgICAgICAgICAgcGxvdC5nZXREYXRhKCkuc3BsaWNlKG9yaWdJbmRleCArIDEsIDAsIHRocmVzaG9sZGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEZJWE1FOiB0aGVyZSBhcmUgcHJvYmFibHkgc29tZSBlZGdlIGNhc2VzIGxlZnQgaW4gYmFyc1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBwcm9jZXNzVGhyZXNob2xkcyhwbG90LCBzLCBkYXRhcG9pbnRzKSB7XG4gICAgICAgICAgICBpZiAoIXMudGhyZXNob2xkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHMudGhyZXNob2xkIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBzLnRocmVzaG9sZC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuYmVsb3cgLSBiLmJlbG93O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICQocy50aHJlc2hvbGQpLmVhY2goZnVuY3Rpb24oaSwgdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkRGF0YShwbG90LCBzLCBkYXRhcG9pbnRzLCB0aC5iZWxvdywgdGguY29sb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyZXNob2xkRGF0YShwbG90LCBzLCBkYXRhcG9pbnRzLCBzLnRocmVzaG9sZC5iZWxvdywgcy50aHJlc2hvbGQuY29sb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBwbG90Lmhvb2tzLnByb2Nlc3NEYXRhcG9pbnRzLnB1c2gocHJvY2Vzc1RocmVzaG9sZHMpO1xuICAgIH1cbiAgICBcbiAgICAkLnBsb3QucGx1Z2lucy5wdXNoKHtcbiAgICAgICAgaW5pdDogaW5pdCxcbiAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgbmFtZTogJ3RocmVzaG9sZCcsXG4gICAgICAgIHZlcnNpb246ICcxLjInXG4gICAgfSk7XG59KShqUXVlcnkpO1xuIl19"}