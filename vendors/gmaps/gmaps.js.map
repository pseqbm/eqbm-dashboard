{"version":3,"sources":["build/node_modules/browser-pack/_prelude.js","build/vendors/gmaps/build/vendors/gmaps/gmaps.js"],"names":[],"mappings":"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","file":"gmaps.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\"use strict\";\n(function(root, factory) {\n  window.GMaps = factory();\n}(this, function() {\n\n/*!\n * GMaps.js v0.4.24\n * http://hpneo.github.com/gmaps/\n *\n * Copyright 2016, Gustavo Leon\n * Released under the MIT License.\n */\n\nvar extend_object = function(obj, new_obj) {\n  var name;\n\n  if (obj === new_obj) {\n    return obj;\n  }\n\n  for (name in new_obj) {\n    if (new_obj[name] !== undefined) {\n      obj[name] = new_obj[name];\n    }\n  }\n\n  return obj;\n};\n\nvar replace_object = function(obj, replace) {\n  var name;\n\n  if (obj === replace) {\n    return obj;\n  }\n\n  for (name in replace) {\n    if (obj[name] != undefined) {\n      obj[name] = replace[name];\n    }\n  }\n\n  return obj;\n};\n\nvar array_map = function(array, callback) {\n  var original_callback_params = Array.prototype.slice.call(arguments, 2),\n      array_return = [],\n      array_length = array.length,\n      i;\n\n  if (Array.prototype.map && array.map === Array.prototype.map) {\n    array_return = Array.prototype.map.call(array, function(item) {\n      var callback_params = original_callback_params.slice(0);\n      callback_params.splice(0, 0, item);\n\n      return callback.apply(this, callback_params);\n    });\n  }\n  else {\n    for (i = 0; i < array_length; i++) {\n      callback_params = original_callback_params;\n      callback_params.splice(0, 0, array[i]);\n      array_return.push(callback.apply(this, callback_params));\n    }\n  }\n\n  return array_return;\n};\n\nvar array_flat = function(array) {\n  var new_array = [],\n      i;\n\n  for (i = 0; i < array.length; i++) {\n    new_array = new_array.concat(array[i]);\n  }\n\n  return new_array;\n};\n\nvar coordsToLatLngs = function(coords, useGeoJSON) {\n  var first_coord = coords[0],\n      second_coord = coords[1];\n\n  if (useGeoJSON) {\n    first_coord = coords[1];\n    second_coord = coords[0];\n  }\n\n  return new google.maps.LatLng(first_coord, second_coord);\n};\n\nvar arrayToLatLng = function(coords, useGeoJSON) {\n  var i;\n\n  for (i = 0; i < coords.length; i++) {\n    if (!(coords[i] instanceof google.maps.LatLng)) {\n      if (coords[i].length > 0 && typeof(coords[i][0]) === \"object\") {\n        coords[i] = arrayToLatLng(coords[i], useGeoJSON);\n      }\n      else {\n        coords[i] = coordsToLatLngs(coords[i], useGeoJSON);\n      }\n    }\n  }\n\n  return coords;\n};\n\nvar getElementsByClassName = function (class_name, context) {\n    var element,\n        _class = class_name.replace('.', '');\n\n    if ('jQuery' in this && context) {\n        element = $(\".\" + _class, context)[0];\n    } else {\n        element = document.getElementsByClassName(_class)[0];\n    }\n    return element;\n\n};\n\nvar getElementById = function(id, context) {\n  var element,\n  id = id.replace('#', '');\n\n  if ('jQuery' in window && context) {\n    element = $('#' + id, context)[0];\n  } else {\n    element = document.getElementById(id);\n  };\n\n  return element;\n};\n\nvar findAbsolutePosition = function(obj)  {\n  var curleft = 0,\n      curtop = 0;\n\n  if (obj.offsetParent) {\n    do {\n      curleft += obj.offsetLeft;\n      curtop += obj.offsetTop;\n    } while (obj = obj.offsetParent);\n  }\n\n  return [curleft, curtop];\n};\n\nvar GMaps = (function(global) {\n  \"use strict\";\n\n  var doc = document;\n  /**\n   * Creates a new GMaps instance, including a Google Maps map.\n   * @class GMaps\n   * @constructs\n   * @param {object} options - `options` accepts all the [MapOptions](https://developers.google.com/maps/documentation/javascript/reference#MapOptions) and [events](https://developers.google.com/maps/documentation/javascript/reference#Map) listed in the Google Maps API. Also accepts:\n   * * `lat` (number): Latitude of the map's center\n   * * `lng` (number): Longitude of the map's center\n   * * `el` (string or HTMLElement): container where the map will be rendered\n   * * `markerClusterer` (function): A function to create a marker cluster. You can use MarkerClusterer or MarkerClustererPlus.\n   */\n  var GMaps = function(options) {\n\n    if (!(typeof window.google === 'object' && window.google.maps)) {\n      if (typeof window.console === 'object' && window.console.error) {\n        console.error('Google Maps API is required. Please register the following JavaScript library https://maps.googleapis.com/maps/api/js.');\n      }\n\n      return function() {};\n    }\n\n    if (!this) return new GMaps(options);\n\n    options.zoom = options.zoom || 15;\n    options.mapType = options.mapType || 'roadmap';\n\n    var valueOrDefault = function(value, defaultValue) {\n      return value === undefined ? defaultValue : value;\n    };\n\n    var self = this,\n        i,\n        events_that_hide_context_menu = [\n          'bounds_changed', 'center_changed', 'click', 'dblclick', 'drag',\n          'dragend', 'dragstart', 'idle', 'maptypeid_changed', 'projection_changed',\n          'resize', 'tilesloaded', 'zoom_changed'\n        ],\n        events_that_doesnt_hide_context_menu = ['mousemove', 'mouseout', 'mouseover'],\n        options_to_be_deleted = ['el', 'lat', 'lng', 'mapType', 'width', 'height', 'markerClusterer', 'enableNewStyle'],\n        identifier = options.el || options.div,\n        markerClustererFunction = options.markerClusterer,\n        mapType = google.maps.MapTypeId[options.mapType.toUpperCase()],\n        map_center = new google.maps.LatLng(options.lat, options.lng),\n        zoomControl = valueOrDefault(options.zoomControl, true),\n        zoomControlOpt = options.zoomControlOpt || {\n          style: 'DEFAULT',\n          position: 'TOP_LEFT'\n        },\n        zoomControlStyle = zoomControlOpt.style || 'DEFAULT',\n        zoomControlPosition = zoomControlOpt.position || 'TOP_LEFT',\n        panControl = valueOrDefault(options.panControl, true),\n        mapTypeControl = valueOrDefault(options.mapTypeControl, true),\n        scaleControl = valueOrDefault(options.scaleControl, true),\n        streetViewControl = valueOrDefault(options.streetViewControl, true),\n        overviewMapControl = valueOrDefault(overviewMapControl, true),\n        map_options = {},\n        map_base_options = {\n          zoom: this.zoom,\n          center: map_center,\n          mapTypeId: mapType\n        },\n        map_controls_options = {\n          panControl: panControl,\n          zoomControl: zoomControl,\n          zoomControlOptions: {\n            style: google.maps.ZoomControlStyle[zoomControlStyle],\n            position: google.maps.ControlPosition[zoomControlPosition]\n          },\n          mapTypeControl: mapTypeControl,\n          scaleControl: scaleControl,\n          streetViewControl: streetViewControl,\n          overviewMapControl: overviewMapControl\n        };\n\n      if (typeof(options.el) === 'string' || typeof(options.div) === 'string') {\n        if (identifier.indexOf(\"#\") > -1) {\n            /**\n             * Container element\n             *\n             * @type {HTMLElement}\n             */\n            this.el = getElementById(identifier, options.context);\n        } else {\n            this.el = getElementsByClassName.apply(this, [identifier, options.context]);\n        }\n      } else {\n          this.el = identifier;\n      }\n\n    if (typeof(this.el) === 'undefined' || this.el === null) {\n      throw 'No element defined.';\n    }\n\n    window.context_menu = window.context_menu || {};\n    window.context_menu[self.el.id] = {};\n\n    /**\n     * Collection of custom controls in the map UI\n     *\n     * @type {array}\n     */\n    this.controls = [];\n    /**\n     * Collection of map's overlays\n     *\n     * @type {array}\n     */\n    this.overlays = [];\n    /**\n     * Collection of KML/GeoRSS and FusionTable layers\n     *\n     * @type {array}\n     */\n    this.layers = [];\n    /**\n     * Collection of data layers (See {@link GMaps#addLayer})\n     *\n     * @type {object}\n     */\n    this.singleLayers = {};\n    /**\n     * Collection of map's markers\n     *\n     * @type {array}\n     */\n    this.markers = [];\n    /**\n     * Collection of map's lines\n     *\n     * @type {array}\n     */\n    this.polylines = [];\n    /**\n     * Collection of map's routes requested by {@link GMaps#getRoutes}, {@link GMaps#renderRoute}, {@link GMaps#drawRoute}, {@link GMaps#travelRoute} or {@link GMaps#drawSteppedRoute}\n     *\n     * @type {array}\n     */\n    this.routes = [];\n    /**\n     * Collection of map's polygons\n     *\n     * @type {array}\n     */\n    this.polygons = [];\n    this.infoWindow = null;\n    this.overlay_el = null;\n    /**\n     * Current map's zoom\n     *\n     * @type {number}\n     */\n    this.zoom = options.zoom;\n    this.registered_events = {};\n\n    this.el.style.width = options.width || this.el.scrollWidth || this.el.offsetWidth;\n    this.el.style.height = options.height || this.el.scrollHeight || this.el.offsetHeight;\n\n    google.maps.visualRefresh = options.enableNewStyle;\n\n    for (i = 0; i < options_to_be_deleted.length; i++) {\n      delete options[options_to_be_deleted[i]];\n    }\n\n    if(options.disableDefaultUI != true) {\n      map_base_options = extend_object(map_base_options, map_controls_options);\n    }\n\n    map_options = extend_object(map_base_options, options);\n\n    for (i = 0; i < events_that_hide_context_menu.length; i++) {\n      delete map_options[events_that_hide_context_menu[i]];\n    }\n\n    for (i = 0; i < events_that_doesnt_hide_context_menu.length; i++) {\n      delete map_options[events_that_doesnt_hide_context_menu[i]];\n    }\n\n    /**\n     * Google Maps map instance\n     *\n     * @type {google.maps.Map}\n     */\n    this.map = new google.maps.Map(this.el, map_options);\n\n    if (markerClustererFunction) {\n      /**\n       * Marker Clusterer instance\n       *\n       * @type {object}\n       */\n      this.markerClusterer = markerClustererFunction.apply(this, [this.map]);\n    }\n\n    var buildContextMenuHTML = function(control, e) {\n      var html = '',\n          options = window.context_menu[self.el.id][control];\n\n      for (var i in options){\n        if (options.hasOwnProperty(i)) {\n          var option = options[i];\n\n          html += '<li><a id=\"' + control + '_' + i + '\" href=\"#\">' + option.title + '</a></li>';\n        }\n      }\n\n      if (!getElementById('gmaps_context_menu')) return;\n\n      var context_menu_element = getElementById('gmaps_context_menu');\n\n      context_menu_element.innerHTML = html;\n\n      var context_menu_items = context_menu_element.getElementsByTagName('a'),\n          context_menu_items_count = context_menu_items.length,\n          i;\n\n      for (i = 0; i < context_menu_items_count; i++) {\n        var context_menu_item = context_menu_items[i];\n\n        var assign_menu_item_action = function(ev){\n          ev.preventDefault();\n\n          options[this.id.replace(control + '_', '')].action.apply(self, [e]);\n          self.hideContextMenu();\n        };\n\n        google.maps.event.clearListeners(context_menu_item, 'click');\n        google.maps.event.addDomListenerOnce(context_menu_item, 'click', assign_menu_item_action, false);\n      }\n\n      var position = findAbsolutePosition.apply(this, [self.el]),\n          left = position[0] + e.pixel.x - 15,\n          top = position[1] + e.pixel.y- 15;\n\n      context_menu_element.style.left = left + \"px\";\n      context_menu_element.style.top = top + \"px\";\n\n      // context_menu_element.style.display = 'block';\n    };\n\n    this.buildContextMenu = function(control, e) {\n      if (control === 'marker') {\n        e.pixel = {};\n\n        var overlay = new google.maps.OverlayView();\n        overlay.setMap(self.map);\n\n        overlay.draw = function() {\n          var projection = overlay.getProjection(),\n              position = e.marker.getPosition();\n\n          e.pixel = projection.fromLatLngToContainerPixel(position);\n\n          buildContextMenuHTML(control, e);\n        };\n      }\n      else {\n        buildContextMenuHTML(control, e);\n      }\n\n      var context_menu_element = getElementById('gmaps_context_menu');\n\n      setTimeout(function() {\n        context_menu_element.style.display = 'block';\n      }, 0);\n    };\n\n    /**\n     * Add a context menu for a map or a marker.\n     *\n     * @param {object} options - The `options` object should contain:\n     * * `control` (string): Kind of control the context menu will be attached. Can be \"map\" or \"marker\".\n     * * `options` (array): A collection of context menu items:\n     *   * `title` (string): Item's title shown in the context menu.\n     *   * `name` (string): Item's identifier.\n     *   * `action` (function): Function triggered after selecting the context menu item.\n     */\n    this.setContextMenu = function(options) {\n      window.context_menu[self.el.id][options.control] = {};\n\n      var i,\n          ul = doc.createElement('ul');\n\n      for (i in options.options) {\n        if (options.options.hasOwnProperty(i)) {\n          var option = options.options[i];\n\n          window.context_menu[self.el.id][options.control][option.name] = {\n            title: option.title,\n            action: option.action\n          };\n        }\n      }\n\n      ul.id = 'gmaps_context_menu';\n      ul.style.display = 'none';\n      ul.style.position = 'absolute';\n      ul.style.minWidth = '100px';\n      ul.style.background = 'white';\n      ul.style.listStyle = 'none';\n      ul.style.padding = '8px';\n      ul.style.boxShadow = '2px 2px 6px #ccc';\n\n      if (!getElementById('gmaps_context_menu')) {\n        doc.body.appendChild(ul);\n      }\n\n      var context_menu_element = getElementById('gmaps_context_menu');\n\n      google.maps.event.addDomListener(context_menu_element, 'mouseout', function(ev) {\n        if (!ev.relatedTarget || !this.contains(ev.relatedTarget)) {\n          window.setTimeout(function(){\n            context_menu_element.style.display = 'none';\n          }, 400);\n        }\n      }, false);\n    };\n\n    /**\n     * Hide the current context menu\n     */\n    this.hideContextMenu = function() {\n      var context_menu_element = getElementById('gmaps_context_menu');\n\n      if (context_menu_element) {\n        context_menu_element.style.display = 'none';\n      }\n    };\n\n    var setupListener = function(object, name) {\n      google.maps.event.addListener(object, name, function(e){\n        if (e == undefined) {\n          e = this;\n        }\n\n        options[name].apply(this, [e]);\n\n        self.hideContextMenu();\n      });\n    };\n\n    //google.maps.event.addListener(this.map, 'idle', this.hideContextMenu);\n    google.maps.event.addListener(this.map, 'zoom_changed', this.hideContextMenu);\n\n    for (var ev = 0; ev < events_that_hide_context_menu.length; ev++) {\n      var name = events_that_hide_context_menu[ev];\n\n      if (name in options) {\n        setupListener(this.map, name);\n      }\n    }\n\n    for (var ev = 0; ev < events_that_doesnt_hide_context_menu.length; ev++) {\n      var name = events_that_doesnt_hide_context_menu[ev];\n\n      if (name in options) {\n        setupListener(this.map, name);\n      }\n    }\n\n    google.maps.event.addListener(this.map, 'rightclick', function(e) {\n      if (options.rightclick) {\n        options.rightclick.apply(this, [e]);\n      }\n\n      if(window.context_menu[self.el.id]['map'] != undefined) {\n        self.buildContextMenu('map', e);\n      }\n    });\n\n    /**\n     * Trigger a `resize` event, useful if you need to repaint the current map (for changes in the viewport or display / hide actions).\n     */\n    this.refresh = function() {\n      google.maps.event.trigger(this.map, 'resize');\n    };\n\n    /**\n     * Adjust the map zoom to include all the markers added in the map.\n     */\n    this.fitZoom = function() {\n      var latLngs = [],\n          markers_length = this.markers.length,\n          i;\n\n      for (i = 0; i < markers_length; i++) {\n        if(typeof(this.markers[i].visible) === 'boolean' && this.markers[i].visible) {\n          latLngs.push(this.markers[i].getPosition());\n        }\n      }\n\n      this.fitLatLngBounds(latLngs);\n    };\n\n    /**\n     * Adjust the map zoom to include all the coordinates in the `latLngs` array.\n     *\n     * @param {array} latLngs - Collection of `google.maps.LatLng` objects.\n     */\n    this.fitLatLngBounds = function(latLngs) {\n      var total = latLngs.length,\n          bounds = new google.maps.LatLngBounds(),\n          i;\n\n      for(i = 0; i < total; i++) {\n        bounds.extend(latLngs[i]);\n      }\n\n      this.map.fitBounds(bounds);\n    };\n\n    /**\n     * Center the map using the `lat` and `lng` coordinates.\n     *\n     * @param {number} lat - Latitude of the coordinate.\n     * @param {number} lng - Longitude of the coordinate.\n     * @param {function} [callback] - Callback that will be executed after the map is centered.\n     */\n    this.setCenter = function(lat, lng, callback) {\n      this.map.panTo(new google.maps.LatLng(lat, lng));\n\n      if (callback) {\n        callback();\n      }\n    };\n\n    /**\n     * Return the HTML element container of the map.\n     *\n     * @returns {HTMLElement} the element container.\n     */\n    this.getElement = function() {\n      return this.el;\n    };\n\n    /**\n     * Increase the map's zoom.\n     *\n     * @param {number} [magnitude] - The number of times the map will be zoomed in.\n     */\n    this.zoomIn = function(value) {\n      value = value || 1;\n\n      this.zoom = this.map.getZoom() + value;\n      this.map.setZoom(this.zoom);\n    };\n\n    /**\n     * Decrease the map's zoom.\n     *\n     * @param {number} [magnitude] - The number of times the map will be zoomed out.\n     */\n    this.zoomOut = function(value) {\n      value = value || 1;\n\n      this.zoom = this.map.getZoom() - value;\n      this.map.setZoom(this.zoom);\n    };\n\n    var native_methods = [],\n        method;\n\n    for (method in this.map) {\n      if (typeof(this.map[method]) == 'function' && !this[method]) {\n        native_methods.push(method);\n      }\n    }\n\n    for (i = 0; i < native_methods.length; i++) {\n      (function(gmaps, scope, method_name) {\n        gmaps[method_name] = function(){\n          return scope[method_name].apply(scope, arguments);\n        };\n      })(this, this.map, native_methods[i]);\n    }\n  };\n\n  return GMaps;\n})(this);\n\nGMaps.prototype.createControl = function(options) {\n  var control = document.createElement('div');\n\n  control.style.cursor = 'pointer';\n\n  if (options.disableDefaultStyles !== true) {\n    control.style.fontFamily = 'Roboto, Arial, sans-serif';\n    control.style.fontSize = '11px';\n    control.style.boxShadow = 'rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px';\n  }\n\n  for (var option in options.style) {\n    control.style[option] = options.style[option];\n  }\n\n  if (options.id) {\n    control.id = options.id;\n  }\n\n  if (options.title) {\n    control.title = options.title;\n  }\n\n  if (options.classes) {\n    control.className = options.classes;\n  }\n\n  if (options.content) {\n    if (typeof options.content === 'string') {\n      control.innerHTML = options.content;\n    }\n    else if (options.content instanceof HTMLElement) {\n      control.appendChild(options.content);\n    }\n  }\n\n  if (options.position) {\n    control.position = google.maps.ControlPosition[options.position.toUpperCase()];\n  }\n\n  for (var ev in options.events) {\n    (function(object, name) {\n      google.maps.event.addDomListener(object, name, function(){\n        options.events[name].apply(this, [this]);\n      });\n    })(control, ev);\n  }\n\n  control.index = 1;\n\n  return control;\n};\n\n/**\n * Add a custom control to the map UI.\n *\n * @param {object} options - The `options` object should contain:\n * * `style` (object): The keys and values of this object should be valid CSS properties and values.\n * * `id` (string): The HTML id for the custom control.\n * * `classes` (string): A string containing all the HTML classes for the custom control.\n * * `content` (string or HTML element): The content of the custom control.\n * * `position` (string): Any valid [`google.maps.ControlPosition`](https://developers.google.com/maps/documentation/javascript/controls#ControlPositioning) value, in lower or upper case.\n * * `events` (object): The keys of this object should be valid DOM events. The values should be functions.\n * * `disableDefaultStyles` (boolean): If false, removes the default styles for the controls like font (family and size), and box shadow.\n * @returns {HTMLElement}\n */\nGMaps.prototype.addControl = function(options) {\n  var control = this.createControl(options);\n\n  this.controls.push(control);\n  this.map.controls[control.position].push(control);\n\n  return control;\n};\n\n/**\n * Remove a control from the map. `control` should be a control returned by `addControl()`.\n *\n * @param {HTMLElement} control - One of the controls returned by `addControl()`.\n * @returns {HTMLElement} the removed control.\n */\nGMaps.prototype.removeControl = function(control) {\n  var position = null,\n      i;\n\n  for (i = 0; i < this.controls.length; i++) {\n    if (this.controls[i] == control) {\n      position = this.controls[i].position;\n      this.controls.splice(i, 1);\n    }\n  }\n\n  if (position) {\n    for (i = 0; i < this.map.controls.length; i++) {\n      var controlsForPosition = this.map.controls[control.position];\n\n      if (controlsForPosition.getAt(i) == control) {\n        controlsForPosition.removeAt(i);\n\n        break;\n      }\n    }\n  }\n\n  return control;\n};\n\nGMaps.prototype.createMarker = function(options) {\n  if (options.lat == undefined && options.lng == undefined && options.position == undefined) {\n    throw 'No latitude or longitude defined.';\n  }\n\n  var self = this,\n      details = options.details,\n      fences = options.fences,\n      outside = options.outside,\n      base_options = {\n        position: new google.maps.LatLng(options.lat, options.lng),\n        map: null\n      },\n      marker_options = extend_object(base_options, options);\n\n  delete marker_options.lat;\n  delete marker_options.lng;\n  delete marker_options.fences;\n  delete marker_options.outside;\n\n  var marker = new google.maps.Marker(marker_options);\n\n  marker.fences = fences;\n\n  if (options.infoWindow) {\n    marker.infoWindow = new google.maps.InfoWindow(options.infoWindow);\n\n    var info_window_events = ['closeclick', 'content_changed', 'domready', 'position_changed', 'zindex_changed'];\n\n    for (var ev = 0; ev < info_window_events.length; ev++) {\n      (function(object, name) {\n        if (options.infoWindow[name]) {\n          google.maps.event.addListener(object, name, function(e){\n            options.infoWindow[name].apply(this, [e]);\n          });\n        }\n      })(marker.infoWindow, info_window_events[ev]);\n    }\n  }\n\n  var marker_events = ['animation_changed', 'clickable_changed', 'cursor_changed', 'draggable_changed', 'flat_changed', 'icon_changed', 'position_changed', 'shadow_changed', 'shape_changed', 'title_changed', 'visible_changed', 'zindex_changed'];\n\n  var marker_events_with_mouse = ['dblclick', 'drag', 'dragend', 'dragstart', 'mousedown', 'mouseout', 'mouseover', 'mouseup'];\n\n  for (var ev = 0; ev < marker_events.length; ev++) {\n    (function(object, name) {\n      if (options[name]) {\n        google.maps.event.addListener(object, name, function(){\n          options[name].apply(this, [this]);\n        });\n      }\n    })(marker, marker_events[ev]);\n  }\n\n  for (var ev = 0; ev < marker_events_with_mouse.length; ev++) {\n    (function(map, object, name) {\n      if (options[name]) {\n        google.maps.event.addListener(object, name, function(me){\n          if(!me.pixel){\n            me.pixel = map.getProjection().fromLatLngToPoint(me.latLng)\n          }\n\n          options[name].apply(this, [me]);\n        });\n      }\n    })(this.map, marker, marker_events_with_mouse[ev]);\n  }\n\n  google.maps.event.addListener(marker, 'click', function() {\n    this.details = details;\n\n    if (options.click) {\n      options.click.apply(this, [this]);\n    }\n\n    if (marker.infoWindow) {\n      self.hideInfoWindows();\n      marker.infoWindow.open(self.map, marker);\n    }\n  });\n\n  google.maps.event.addListener(marker, 'rightclick', function(e) {\n    e.marker = this;\n\n    if (options.rightclick) {\n      options.rightclick.apply(this, [e]);\n    }\n\n    if (window.context_menu[self.el.id]['marker'] != undefined) {\n      self.buildContextMenu('marker', e);\n    }\n  });\n\n  if (marker.fences) {\n    google.maps.event.addListener(marker, 'dragend', function() {\n      self.checkMarkerGeofence(marker, function(m, f) {\n        outside(m, f);\n      });\n    });\n  }\n\n  return marker;\n};\n\nGMaps.prototype.addMarker = function(options) {\n  var marker;\n  if(options.hasOwnProperty('gm_accessors_')) {\n    // Native google.maps.Marker object\n    marker = options;\n  }\n  else {\n    if ((options.hasOwnProperty('lat') && options.hasOwnProperty('lng')) || options.position) {\n      marker = this.createMarker(options);\n    }\n    else {\n      throw 'No latitude or longitude defined.';\n    }\n  }\n\n  marker.setMap(this.map);\n\n  if(this.markerClusterer) {\n    this.markerClusterer.addMarker(marker);\n  }\n\n  this.markers.push(marker);\n\n  GMaps.fire('marker_added', marker, this);\n\n  return marker;\n};\n\nGMaps.prototype.addMarkers = function(array) {\n  for (var i = 0, marker; marker=array[i]; i++) {\n    this.addMarker(marker);\n  }\n\n  return this.markers;\n};\n\nGMaps.prototype.hideInfoWindows = function() {\n  for (var i = 0, marker; marker = this.markers[i]; i++){\n    if (marker.infoWindow) {\n      marker.infoWindow.close();\n    }\n  }\n};\n\nGMaps.prototype.removeMarker = function(marker) {\n  for (var i = 0; i < this.markers.length; i++) {\n    if (this.markers[i] === marker) {\n      this.markers[i].setMap(null);\n      this.markers.splice(i, 1);\n\n      if(this.markerClusterer) {\n        this.markerClusterer.removeMarker(marker);\n      }\n\n      GMaps.fire('marker_removed', marker, this);\n\n      break;\n    }\n  }\n\n  return marker;\n};\n\nGMaps.prototype.removeMarkers = function (collection) {\n  var new_markers = [];\n\n  if (typeof collection == 'undefined') {\n    for (var i = 0; i < this.markers.length; i++) {\n      var marker = this.markers[i];\n      marker.setMap(null);\n\n      GMaps.fire('marker_removed', marker, this);\n    }\n\n    if(this.markerClusterer && this.markerClusterer.clearMarkers) {\n      this.markerClusterer.clearMarkers();\n    }\n\n    this.markers = new_markers;\n  }\n  else {\n    for (var i = 0; i < collection.length; i++) {\n      var index = this.markers.indexOf(collection[i]);\n\n      if (index > -1) {\n        var marker = this.markers[index];\n        marker.setMap(null);\n\n        if(this.markerClusterer) {\n          this.markerClusterer.removeMarker(marker);\n        }\n\n        GMaps.fire('marker_removed', marker, this);\n      }\n    }\n\n    for (var i = 0; i < this.markers.length; i++) {\n      var marker = this.markers[i];\n      if (marker.getMap() != null) {\n        new_markers.push(marker);\n      }\n    }\n\n    this.markers = new_markers;\n  }\n};\n\nGMaps.prototype.drawOverlay = function(options) {\n  var overlay = new google.maps.OverlayView(),\n      auto_show = true;\n\n  overlay.setMap(this.map);\n\n  if (options.auto_show != null) {\n    auto_show = options.auto_show;\n  }\n\n  overlay.onAdd = function() {\n    var el = document.createElement('div');\n\n    el.style.borderStyle = \"none\";\n    el.style.borderWidth = \"0px\";\n    el.style.position = \"absolute\";\n    el.style.zIndex = 100;\n    el.innerHTML = options.content;\n\n    overlay.el = el;\n\n    if (!options.layer) {\n      options.layer = 'overlayLayer';\n    }\n\n    var panes = this.getPanes(),\n        overlayLayer = panes[options.layer],\n        stop_overlay_events = ['contextmenu', 'DOMMouseScroll', 'dblclick', 'mousedown'];\n\n    overlayLayer.appendChild(el);\n\n    for (var ev = 0; ev < stop_overlay_events.length; ev++) {\n      (function(object, name) {\n        google.maps.event.addDomListener(object, name, function(e){\n          if (navigator.userAgent.toLowerCase().indexOf('msie') != -1 && document.all) {\n            e.cancelBubble = true;\n            e.returnValue = false;\n          }\n          else {\n            e.stopPropagation();\n          }\n        });\n      })(el, stop_overlay_events[ev]);\n    }\n\n    if (options.click) {\n      panes.overlayMouseTarget.appendChild(overlay.el);\n      google.maps.event.addDomListener(overlay.el, 'click', function() {\n        options.click.apply(overlay, [overlay]);\n      });\n    }\n\n    google.maps.event.trigger(this, 'ready');\n  };\n\n  overlay.draw = function() {\n    var projection = this.getProjection(),\n        pixel = projection.fromLatLngToDivPixel(new google.maps.LatLng(options.lat, options.lng));\n\n    options.horizontalOffset = options.horizontalOffset || 0;\n    options.verticalOffset = options.verticalOffset || 0;\n\n    var el = overlay.el,\n        content = el.children[0],\n        content_height = content.clientHeight,\n        content_width = content.clientWidth;\n\n    switch (options.verticalAlign) {\n      case 'top':\n        el.style.top = (pixel.y - content_height + options.verticalOffset) + 'px';\n        break;\n      default:\n      case 'middle':\n        el.style.top = (pixel.y - (content_height / 2) + options.verticalOffset) + 'px';\n        break;\n      case 'bottom':\n        el.style.top = (pixel.y + options.verticalOffset) + 'px';\n        break;\n    }\n\n    switch (options.horizontalAlign) {\n      case 'left':\n        el.style.left = (pixel.x - content_width + options.horizontalOffset) + 'px';\n        break;\n      default:\n      case 'center':\n        el.style.left = (pixel.x - (content_width / 2) + options.horizontalOffset) + 'px';\n        break;\n      case 'right':\n        el.style.left = (pixel.x + options.horizontalOffset) + 'px';\n        break;\n    }\n\n    el.style.display = auto_show ? 'block' : 'none';\n\n    if (!auto_show) {\n      options.show.apply(this, [el]);\n    }\n  };\n\n  overlay.onRemove = function() {\n    var el = overlay.el;\n\n    if (options.remove) {\n      options.remove.apply(this, [el]);\n    }\n    else {\n      overlay.el.parentNode.removeChild(overlay.el);\n      overlay.el = null;\n    }\n  };\n\n  this.overlays.push(overlay);\n  return overlay;\n};\n\nGMaps.prototype.removeOverlay = function(overlay) {\n  for (var i = 0; i < this.overlays.length; i++) {\n    if (this.overlays[i] === overlay) {\n      this.overlays[i].setMap(null);\n      this.overlays.splice(i, 1);\n\n      break;\n    }\n  }\n};\n\nGMaps.prototype.removeOverlays = function() {\n  for (var i = 0, item; item = this.overlays[i]; i++) {\n    item.setMap(null);\n  }\n\n  this.overlays = [];\n};\n\nGMaps.prototype.drawPolyline = function(options) {\n  var path = [],\n      points = options.path;\n\n  if (points.length) {\n    if (points[0][0] === undefined) {\n      path = points;\n    }\n    else {\n      for (var i = 0, latlng; latlng = points[i]; i++) {\n        path.push(new google.maps.LatLng(latlng[0], latlng[1]));\n      }\n    }\n  }\n\n  var polyline_options = {\n    map: this.map,\n    path: path,\n    strokeColor: options.strokeColor,\n    strokeOpacity: options.strokeOpacity,\n    strokeWeight: options.strokeWeight,\n    geodesic: options.geodesic,\n    clickable: true,\n    editable: false,\n    visible: true\n  };\n\n  if (options.hasOwnProperty(\"clickable\")) {\n    polyline_options.clickable = options.clickable;\n  }\n\n  if (options.hasOwnProperty(\"editable\")) {\n    polyline_options.editable = options.editable;\n  }\n\n  if (options.hasOwnProperty(\"icons\")) {\n    polyline_options.icons = options.icons;\n  }\n\n  if (options.hasOwnProperty(\"zIndex\")) {\n    polyline_options.zIndex = options.zIndex;\n  }\n\n  var polyline = new google.maps.Polyline(polyline_options);\n\n  var polyline_events = ['click', 'dblclick', 'mousedown', 'mousemove', 'mouseout', 'mouseover', 'mouseup', 'rightclick'];\n\n  for (var ev = 0; ev < polyline_events.length; ev++) {\n    (function(object, name) {\n      if (options[name]) {\n        google.maps.event.addListener(object, name, function(e){\n          options[name].apply(this, [e]);\n        });\n      }\n    })(polyline, polyline_events[ev]);\n  }\n\n  this.polylines.push(polyline);\n\n  GMaps.fire('polyline_added', polyline, this);\n\n  return polyline;\n};\n\nGMaps.prototype.removePolyline = function(polyline) {\n  for (var i = 0; i < this.polylines.length; i++) {\n    if (this.polylines[i] === polyline) {\n      this.polylines[i].setMap(null);\n      this.polylines.splice(i, 1);\n\n      GMaps.fire('polyline_removed', polyline, this);\n\n      break;\n    }\n  }\n};\n\nGMaps.prototype.removePolylines = function() {\n  for (var i = 0, item; item = this.polylines[i]; i++) {\n    item.setMap(null);\n  }\n\n  this.polylines = [];\n};\n\nGMaps.prototype.drawCircle = function(options) {\n  options =  extend_object({\n    map: this.map,\n    center: new google.maps.LatLng(options.lat, options.lng)\n  }, options);\n\n  delete options.lat;\n  delete options.lng;\n\n  var polygon = new google.maps.Circle(options),\n      polygon_events = ['click', 'dblclick', 'mousedown', 'mousemove', 'mouseout', 'mouseover', 'mouseup', 'rightclick'];\n\n  for (var ev = 0; ev < polygon_events.length; ev++) {\n    (function(object, name) {\n      if (options[name]) {\n        google.maps.event.addListener(object, name, function(e){\n          options[name].apply(this, [e]);\n        });\n      }\n    })(polygon, polygon_events[ev]);\n  }\n\n  this.polygons.push(polygon);\n\n  return polygon;\n};\n\nGMaps.prototype.drawRectangle = function(options) {\n  options = extend_object({\n    map: this.map\n  }, options);\n\n  var latLngBounds = new google.maps.LatLngBounds(\n    new google.maps.LatLng(options.bounds[0][0], options.bounds[0][1]),\n    new google.maps.LatLng(options.bounds[1][0], options.bounds[1][1])\n  );\n\n  options.bounds = latLngBounds;\n\n  var polygon = new google.maps.Rectangle(options),\n      polygon_events = ['click', 'dblclick', 'mousedown', 'mousemove', 'mouseout', 'mouseover', 'mouseup', 'rightclick'];\n\n  for (var ev = 0; ev < polygon_events.length; ev++) {\n    (function(object, name) {\n      if (options[name]) {\n        google.maps.event.addListener(object, name, function(e){\n          options[name].apply(this, [e]);\n        });\n      }\n    })(polygon, polygon_events[ev]);\n  }\n\n  this.polygons.push(polygon);\n\n  return polygon;\n};\n\nGMaps.prototype.drawPolygon = function(options) {\n  var useGeoJSON = false;\n\n  if(options.hasOwnProperty(\"useGeoJSON\")) {\n    useGeoJSON = options.useGeoJSON;\n  }\n\n  delete options.useGeoJSON;\n\n  options = extend_object({\n    map: this.map\n  }, options);\n\n  if (useGeoJSON == false) {\n    options.paths = [options.paths.slice(0)];\n  }\n\n  if (options.paths.length > 0) {\n    if (options.paths[0].length > 0) {\n      options.paths = array_flat(array_map(options.paths, arrayToLatLng, useGeoJSON));\n    }\n  }\n\n  var polygon = new google.maps.Polygon(options),\n      polygon_events = ['click', 'dblclick', 'mousedown', 'mousemove', 'mouseout', 'mouseover', 'mouseup', 'rightclick'];\n\n  for (var ev = 0; ev < polygon_events.length; ev++) {\n    (function(object, name) {\n      if (options[name]) {\n        google.maps.event.addListener(object, name, function(e){\n          options[name].apply(this, [e]);\n        });\n      }\n    })(polygon, polygon_events[ev]);\n  }\n\n  this.polygons.push(polygon);\n\n  GMaps.fire('polygon_added', polygon, this);\n\n  return polygon;\n};\n\nGMaps.prototype.removePolygon = function(polygon) {\n  for (var i = 0; i < this.polygons.length; i++) {\n    if (this.polygons[i] === polygon) {\n      this.polygons[i].setMap(null);\n      this.polygons.splice(i, 1);\n\n      GMaps.fire('polygon_removed', polygon, this);\n\n      break;\n    }\n  }\n};\n\nGMaps.prototype.removePolygons = function() {\n  for (var i = 0, item; item = this.polygons[i]; i++) {\n    item.setMap(null);\n  }\n\n  this.polygons = [];\n};\n\nGMaps.prototype.getFromFusionTables = function(options) {\n  var events = options.events;\n\n  delete options.events;\n\n  var fusion_tables_options = options,\n      layer = new google.maps.FusionTablesLayer(fusion_tables_options);\n\n  for (var ev in events) {\n    (function(object, name) {\n      google.maps.event.addListener(object, name, function(e) {\n        events[name].apply(this, [e]);\n      });\n    })(layer, ev);\n  }\n\n  this.layers.push(layer);\n\n  return layer;\n};\n\nGMaps.prototype.loadFromFusionTables = function(options) {\n  var layer = this.getFromFusionTables(options);\n  layer.setMap(this.map);\n\n  return layer;\n};\n\nGMaps.prototype.getFromKML = function(options) {\n  var url = options.url,\n      events = options.events;\n\n  delete options.url;\n  delete options.events;\n\n  var kml_options = options,\n      layer = new google.maps.KmlLayer(url, kml_options);\n\n  for (var ev in events) {\n    (function(object, name) {\n      google.maps.event.addListener(object, name, function(e) {\n        events[name].apply(this, [e]);\n      });\n    })(layer, ev);\n  }\n\n  this.layers.push(layer);\n\n  return layer;\n};\n\nGMaps.prototype.loadFromKML = function(options) {\n  var layer = this.getFromKML(options);\n  layer.setMap(this.map);\n\n  return layer;\n};\n\nGMaps.prototype.addLayer = function(layerName, options) {\n  //var default_layers = ['weather', 'clouds', 'traffic', 'transit', 'bicycling', 'panoramio', 'places'];\n  options = options || {};\n  var layer;\n\n  switch(layerName) {\n    case 'weather': this.singleLayers.weather = layer = new google.maps.weather.WeatherLayer();\n      break;\n    case 'clouds': this.singleLayers.clouds = layer = new google.maps.weather.CloudLayer();\n      break;\n    case 'traffic': this.singleLayers.traffic = layer = new google.maps.TrafficLayer();\n      break;\n    case 'transit': this.singleLayers.transit = layer = new google.maps.TransitLayer();\n      break;\n    case 'bicycling': this.singleLayers.bicycling = layer = new google.maps.BicyclingLayer();\n      break;\n    case 'panoramio':\n        this.singleLayers.panoramio = layer = new google.maps.panoramio.PanoramioLayer();\n        layer.setTag(options.filter);\n        delete options.filter;\n\n        //click event\n        if (options.click) {\n          google.maps.event.addListener(layer, 'click', function(event) {\n            options.click(event);\n            delete options.click;\n          });\n        }\n      break;\n      case 'places':\n        this.singleLayers.places = layer = new google.maps.places.PlacesService(this.map);\n\n        //search, nearbySearch, radarSearch callback, Both are the same\n        if (options.search || options.nearbySearch || options.radarSearch) {\n          var placeSearchRequest  = {\n            bounds : options.bounds || null,\n            keyword : options.keyword || null,\n            location : options.location || null,\n            name : options.name || null,\n            radius : options.radius || null,\n            rankBy : options.rankBy || null,\n            types : options.types || null\n          };\n\n          if (options.radarSearch) {\n            layer.radarSearch(placeSearchRequest, options.radarSearch);\n          }\n\n          if (options.search) {\n            layer.search(placeSearchRequest, options.search);\n          }\n\n          if (options.nearbySearch) {\n            layer.nearbySearch(placeSearchRequest, options.nearbySearch);\n          }\n        }\n\n        //textSearch callback\n        if (options.textSearch) {\n          var textSearchRequest  = {\n            bounds : options.bounds || null,\n            location : options.location || null,\n            query : options.query || null,\n            radius : options.radius || null\n          };\n\n          layer.textSearch(textSearchRequest, options.textSearch);\n        }\n      break;\n  }\n\n  if (layer !== undefined) {\n    if (typeof layer.setOptions == 'function') {\n      layer.setOptions(options);\n    }\n    if (typeof layer.setMap == 'function') {\n      layer.setMap(this.map);\n    }\n\n    return layer;\n  }\n};\n\nGMaps.prototype.removeLayer = function(layer) {\n  if (typeof(layer) == \"string\" && this.singleLayers[layer] !== undefined) {\n     this.singleLayers[layer].setMap(null);\n\n     delete this.singleLayers[layer];\n  }\n  else {\n    for (var i = 0; i < this.layers.length; i++) {\n      if (this.layers[i] === layer) {\n        this.layers[i].setMap(null);\n        this.layers.splice(i, 1);\n\n        break;\n      }\n    }\n  }\n};\n\nvar travelMode, unitSystem;\n\nGMaps.prototype.getRoutes = function(options) {\n  switch (options.travelMode) {\n    case 'bicycling':\n      travelMode = google.maps.TravelMode.BICYCLING;\n      break;\n    case 'transit':\n      travelMode = google.maps.TravelMode.TRANSIT;\n      break;\n    case 'driving':\n      travelMode = google.maps.TravelMode.DRIVING;\n      break;\n    default:\n      travelMode = google.maps.TravelMode.WALKING;\n      break;\n  }\n\n  if (options.unitSystem === 'imperial') {\n    unitSystem = google.maps.UnitSystem.IMPERIAL;\n  }\n  else {\n    unitSystem = google.maps.UnitSystem.METRIC;\n  }\n\n  var base_options = {\n        avoidHighways: false,\n        avoidTolls: false,\n        optimizeWaypoints: false,\n        waypoints: []\n      },\n      request_options =  extend_object(base_options, options);\n\n  request_options.origin = /string/.test(typeof options.origin) ? options.origin : new google.maps.LatLng(options.origin[0], options.origin[1]);\n  request_options.destination = /string/.test(typeof options.destination) ? options.destination : new google.maps.LatLng(options.destination[0], options.destination[1]);\n  request_options.travelMode = travelMode;\n  request_options.unitSystem = unitSystem;\n\n  delete request_options.callback;\n  delete request_options.error;\n\n  var self = this,\n      routes = [],\n      service = new google.maps.DirectionsService();\n\n  service.route(request_options, function(result, status) {\n    if (status === google.maps.DirectionsStatus.OK) {\n      for (var r in result.routes) {\n        if (result.routes.hasOwnProperty(r)) {\n          routes.push(result.routes[r]);\n        }\n      }\n\n      if (options.callback) {\n        options.callback(routes, result, status);\n      }\n    }\n    else {\n      if (options.error) {\n        options.error(result, status);\n      }\n    }\n  });\n};\n\nGMaps.prototype.removeRoutes = function() {\n  this.routes.length = 0;\n};\n\nGMaps.prototype.getElevations = function(options) {\n  options = extend_object({\n    locations: [],\n    path : false,\n    samples : 256\n  }, options);\n\n  if (options.locations.length > 0) {\n    if (options.locations[0].length > 0) {\n      options.locations = array_flat(array_map([options.locations], arrayToLatLng,  false));\n    }\n  }\n\n  var callback = options.callback;\n  delete options.callback;\n\n  var service = new google.maps.ElevationService();\n\n  //location request\n  if (!options.path) {\n    delete options.path;\n    delete options.samples;\n\n    service.getElevationForLocations(options, function(result, status) {\n      if (callback && typeof(callback) === \"function\") {\n        callback(result, status);\n      }\n    });\n  //path request\n  } else {\n    var pathRequest = {\n      path : options.locations,\n      samples : options.samples\n    };\n\n    service.getElevationAlongPath(pathRequest, function(result, status) {\n     if (callback && typeof(callback) === \"function\") {\n        callback(result, status);\n      }\n    });\n  }\n};\n\nGMaps.prototype.cleanRoute = GMaps.prototype.removePolylines;\n\nGMaps.prototype.renderRoute = function(options, renderOptions) {\n  var self = this,\n      panel = ((typeof renderOptions.panel === 'string') ? document.getElementById(renderOptions.panel.replace('#', '')) : renderOptions.panel),\n      display;\n\n  renderOptions.panel = panel;\n  renderOptions = extend_object({\n    map: this.map\n  }, renderOptions);\n  display = new google.maps.DirectionsRenderer(renderOptions);\n\n  this.getRoutes({\n    origin: options.origin,\n    destination: options.destination,\n    travelMode: options.travelMode,\n    waypoints: options.waypoints,\n    unitSystem: options.unitSystem,\n    error: options.error,\n    avoidHighways: options.avoidHighways,\n    avoidTolls: options.avoidTolls,\n    optimizeWaypoints: options.optimizeWaypoints,\n    callback: function(routes, response, status) {\n      if (status === google.maps.DirectionsStatus.OK) {\n        display.setDirections(response);\n      }\n    }\n  });\n};\n\nGMaps.prototype.drawRoute = function(options) {\n  var self = this;\n\n  this.getRoutes({\n    origin: options.origin,\n    destination: options.destination,\n    travelMode: options.travelMode,\n    waypoints: options.waypoints,\n    unitSystem: options.unitSystem,\n    error: options.error,\n    avoidHighways: options.avoidHighways,\n    avoidTolls: options.avoidTolls,\n    optimizeWaypoints: options.optimizeWaypoints,\n    callback: function(routes) {\n      if (routes.length > 0) {\n        var polyline_options = {\n          path: routes[routes.length - 1].overview_path,\n          strokeColor: options.strokeColor,\n          strokeOpacity: options.strokeOpacity,\n          strokeWeight: options.strokeWeight\n        };\n\n        if (options.hasOwnProperty(\"icons\")) {\n          polyline_options.icons = options.icons;\n        }\n\n        self.drawPolyline(polyline_options);\n\n        if (options.callback) {\n          options.callback(routes[routes.length - 1]);\n        }\n      }\n    }\n  });\n};\n\nGMaps.prototype.travelRoute = function(options) {\n  if (options.origin && options.destination) {\n    this.getRoutes({\n      origin: options.origin,\n      destination: options.destination,\n      travelMode: options.travelMode,\n      waypoints : options.waypoints,\n      unitSystem: options.unitSystem,\n      error: options.error,\n      callback: function(e) {\n        //start callback\n        if (e.length > 0 && options.start) {\n          options.start(e[e.length - 1]);\n        }\n\n        //step callback\n        if (e.length > 0 && options.step) {\n          var route = e[e.length - 1];\n          if (route.legs.length > 0) {\n            var steps = route.legs[0].steps;\n            for (var i = 0, step; step = steps[i]; i++) {\n              step.step_number = i;\n              options.step(step, (route.legs[0].steps.length - 1));\n            }\n          }\n        }\n\n        //end callback\n        if (e.length > 0 && options.end) {\n           options.end(e[e.length - 1]);\n        }\n      }\n    });\n  }\n  else if (options.route) {\n    if (options.route.legs.length > 0) {\n      var steps = options.route.legs[0].steps;\n      for (var i = 0, step; step = steps[i]; i++) {\n        step.step_number = i;\n        options.step(step);\n      }\n    }\n  }\n};\n\nGMaps.prototype.drawSteppedRoute = function(options) {\n  var self = this;\n\n  if (options.origin && options.destination) {\n    this.getRoutes({\n      origin: options.origin,\n      destination: options.destination,\n      travelMode: options.travelMode,\n      waypoints : options.waypoints,\n      error: options.error,\n      callback: function(e) {\n        //start callback\n        if (e.length > 0 && options.start) {\n          options.start(e[e.length - 1]);\n        }\n\n        //step callback\n        if (e.length > 0 && options.step) {\n          var route = e[e.length - 1];\n          if (route.legs.length > 0) {\n            var steps = route.legs[0].steps;\n            for (var i = 0, step; step = steps[i]; i++) {\n              step.step_number = i;\n              var polyline_options = {\n                path: step.path,\n                strokeColor: options.strokeColor,\n                strokeOpacity: options.strokeOpacity,\n                strokeWeight: options.strokeWeight\n              };\n\n              if (options.hasOwnProperty(\"icons\")) {\n                polyline_options.icons = options.icons;\n              }\n\n              self.drawPolyline(polyline_options);\n              options.step(step, (route.legs[0].steps.length - 1));\n            }\n          }\n        }\n\n        //end callback\n        if (e.length > 0 && options.end) {\n           options.end(e[e.length - 1]);\n        }\n      }\n    });\n  }\n  else if (options.route) {\n    if (options.route.legs.length > 0) {\n      var steps = options.route.legs[0].steps;\n      for (var i = 0, step; step = steps[i]; i++) {\n        step.step_number = i;\n        var polyline_options = {\n          path: step.path,\n          strokeColor: options.strokeColor,\n          strokeOpacity: options.strokeOpacity,\n          strokeWeight: options.strokeWeight\n        };\n\n        if (options.hasOwnProperty(\"icons\")) {\n          polyline_options.icons = options.icons;\n        }\n\n        self.drawPolyline(polyline_options);\n        options.step(step);\n      }\n    }\n  }\n};\n\nGMaps.Route = function(options) {\n  this.origin = options.origin;\n  this.destination = options.destination;\n  this.waypoints = options.waypoints;\n\n  this.map = options.map;\n  this.route = options.route;\n  this.step_count = 0;\n  this.steps = this.route.legs[0].steps;\n  this.steps_length = this.steps.length;\n\n  var polyline_options = {\n    path: new google.maps.MVCArray(),\n    strokeColor: options.strokeColor,\n    strokeOpacity: options.strokeOpacity,\n    strokeWeight: options.strokeWeight\n  };\n\n  if (options.hasOwnProperty(\"icons\")) {\n    polyline_options.icons = options.icons;\n  }\n\n  this.polyline = this.map.drawPolyline(polyline_options).getPath();\n};\n\nGMaps.Route.prototype.getRoute = function(options) {\n  var self = this;\n\n  this.map.getRoutes({\n    origin : this.origin,\n    destination : this.destination,\n    travelMode : options.travelMode,\n    waypoints : this.waypoints || [],\n    error: options.error,\n    callback : function() {\n      self.route = e[0];\n\n      if (options.callback) {\n        options.callback.call(self);\n      }\n    }\n  });\n};\n\nGMaps.Route.prototype.back = function() {\n  if (this.step_count > 0) {\n    this.step_count--;\n    var path = this.route.legs[0].steps[this.step_count].path;\n\n    for (var p in path){\n      if (path.hasOwnProperty(p)){\n        this.polyline.pop();\n      }\n    }\n  }\n};\n\nGMaps.Route.prototype.forward = function() {\n  if (this.step_count < this.steps_length) {\n    var path = this.route.legs[0].steps[this.step_count].path;\n\n    for (var p in path){\n      if (path.hasOwnProperty(p)){\n        this.polyline.push(path[p]);\n      }\n    }\n    this.step_count++;\n  }\n};\n\nGMaps.prototype.checkGeofence = function(lat, lng, fence) {\n  return fence.containsLatLng(new google.maps.LatLng(lat, lng));\n};\n\nGMaps.prototype.checkMarkerGeofence = function(marker, outside_callback) {\n  if (marker.fences) {\n    for (var i = 0, fence; fence = marker.fences[i]; i++) {\n      var pos = marker.getPosition();\n      if (!this.checkGeofence(pos.lat(), pos.lng(), fence)) {\n        outside_callback(marker, fence);\n      }\n    }\n  }\n};\n\nGMaps.prototype.toImage = function(options) {\n  var options = options || {},\n      static_map_options = {};\n\n  static_map_options['size'] = options['size'] || [this.el.clientWidth, this.el.clientHeight];\n  static_map_options['lat'] = this.getCenter().lat();\n  static_map_options['lng'] = this.getCenter().lng();\n\n  if (this.markers.length > 0) {\n    static_map_options['markers'] = [];\n\n    for (var i = 0; i < this.markers.length; i++) {\n      static_map_options['markers'].push({\n        lat: this.markers[i].getPosition().lat(),\n        lng: this.markers[i].getPosition().lng()\n      });\n    }\n  }\n\n  if (this.polylines.length > 0) {\n    var polyline = this.polylines[0];\n\n    static_map_options['polyline'] = {};\n    static_map_options['polyline']['path'] = google.maps.geometry.encoding.encodePath(polyline.getPath());\n    static_map_options['polyline']['strokeColor'] = polyline.strokeColor\n    static_map_options['polyline']['strokeOpacity'] = polyline.strokeOpacity\n    static_map_options['polyline']['strokeWeight'] = polyline.strokeWeight\n  }\n\n  return GMaps.staticMapURL(static_map_options);\n};\n\nGMaps.staticMapURL = function(options){\n  var parameters = [],\n      data,\n      static_root = (location.protocol === 'file:' ? 'http:' : location.protocol ) + '//maps.googleapis.com/maps/api/staticmap';\n\n  if (options.url) {\n    static_root = options.url;\n    delete options.url;\n  }\n\n  static_root += '?';\n\n  var markers = options.markers;\n\n  delete options.markers;\n\n  if (!markers && options.marker) {\n    markers = [options.marker];\n    delete options.marker;\n  }\n\n  var styles = options.styles;\n\n  delete options.styles;\n\n  var polyline = options.polyline;\n  delete options.polyline;\n\n  /** Map options **/\n  if (options.center) {\n    parameters.push('center=' + options.center);\n    delete options.center;\n  }\n  else if (options.address) {\n    parameters.push('center=' + options.address);\n    delete options.address;\n  }\n  else if (options.lat) {\n    parameters.push(['center=', options.lat, ',', options.lng].join(''));\n    delete options.lat;\n    delete options.lng;\n  }\n  else if (options.visible) {\n    var visible = encodeURI(options.visible.join('|'));\n    parameters.push('visible=' + visible);\n  }\n\n  var size = options.size;\n  if (size) {\n    if (size.join) {\n      size = size.join('x');\n    }\n    delete options.size;\n  }\n  else {\n    size = '630x300';\n  }\n  parameters.push('size=' + size);\n\n  if (!options.zoom && options.zoom !== false) {\n    options.zoom = 15;\n  }\n\n  var sensor = options.hasOwnProperty('sensor') ? !!options.sensor : true;\n  delete options.sensor;\n  parameters.push('sensor=' + sensor);\n\n  for (var param in options) {\n    if (options.hasOwnProperty(param)) {\n      parameters.push(param + '=' + options[param]);\n    }\n  }\n\n  /** Markers **/\n  if (markers) {\n    var marker, loc;\n\n    for (var i = 0; data = markers[i]; i++) {\n      marker = [];\n\n      if (data.size && data.size !== 'normal') {\n        marker.push('size:' + data.size);\n        delete data.size;\n      }\n      else if (data.icon) {\n        marker.push('icon:' + encodeURI(data.icon));\n        delete data.icon;\n      }\n\n      if (data.color) {\n        marker.push('color:' + data.color.replace('#', '0x'));\n        delete data.color;\n      }\n\n      if (data.label) {\n        marker.push('label:' + data.label[0].toUpperCase());\n        delete data.label;\n      }\n\n      loc = (data.address ? data.address : data.lat + ',' + data.lng);\n      delete data.address;\n      delete data.lat;\n      delete data.lng;\n\n      for(var param in data){\n        if (data.hasOwnProperty(param)) {\n          marker.push(param + ':' + data[param]);\n        }\n      }\n\n      if (marker.length || i === 0) {\n        marker.push(loc);\n        marker = marker.join('|');\n        parameters.push('markers=' + encodeURI(marker));\n      }\n      // New marker without styles\n      else {\n        marker = parameters.pop() + encodeURI('|' + loc);\n        parameters.push(marker);\n      }\n    }\n  }\n\n  /** Map Styles **/\n  if (styles) {\n    for (var i = 0; i < styles.length; i++) {\n      var styleRule = [];\n      if (styles[i].featureType){\n        styleRule.push('feature:' + styles[i].featureType.toLowerCase());\n      }\n\n      if (styles[i].elementType) {\n        styleRule.push('element:' + styles[i].elementType.toLowerCase());\n      }\n\n      for (var j = 0; j < styles[i].stylers.length; j++) {\n        for (var p in styles[i].stylers[j]) {\n          var ruleArg = styles[i].stylers[j][p];\n          if (p == 'hue' || p == 'color') {\n            ruleArg = '0x' + ruleArg.substring(1);\n          }\n          styleRule.push(p + ':' + ruleArg);\n        }\n      }\n\n      var rule = styleRule.join('|');\n      if (rule != '') {\n        parameters.push('style=' + rule);\n      }\n    }\n  }\n\n  /** Polylines **/\n  function parseColor(color, opacity) {\n    if (color[0] === '#'){\n      color = color.replace('#', '0x');\n\n      if (opacity) {\n        opacity = parseFloat(opacity);\n        opacity = Math.min(1, Math.max(opacity, 0));\n        if (opacity === 0) {\n          return '0x00000000';\n        }\n        opacity = (opacity * 255).toString(16);\n        if (opacity.length === 1) {\n          opacity += opacity;\n        }\n\n        color = color.slice(0,8) + opacity;\n      }\n    }\n    return color;\n  }\n\n  if (polyline) {\n    data = polyline;\n    polyline = [];\n\n    if (data.strokeWeight) {\n      polyline.push('weight:' + parseInt(data.strokeWeight, 10));\n    }\n\n    if (data.strokeColor) {\n      var color = parseColor(data.strokeColor, data.strokeOpacity);\n      polyline.push('color:' + color);\n    }\n\n    if (data.fillColor) {\n      var fillcolor = parseColor(data.fillColor, data.fillOpacity);\n      polyline.push('fillcolor:' + fillcolor);\n    }\n\n    var path = data.path;\n    if (path.join) {\n      for (var j=0, pos; pos=path[j]; j++) {\n        polyline.push(pos.join(','));\n      }\n    }\n    else {\n      polyline.push('enc:' + path);\n    }\n\n    polyline = polyline.join('|');\n    parameters.push('path=' + encodeURI(polyline));\n  }\n\n  /** Retina support **/\n  var dpi = window.devicePixelRatio || 1;\n  parameters.push('scale=' + dpi);\n\n  parameters = parameters.join('&');\n  return static_root + parameters;\n};\n\nGMaps.prototype.addMapType = function(mapTypeId, options) {\n  if (options.hasOwnProperty(\"getTileUrl\") && typeof(options[\"getTileUrl\"]) == \"function\") {\n    options.tileSize = options.tileSize || new google.maps.Size(256, 256);\n\n    var mapType = new google.maps.ImageMapType(options);\n\n    this.map.mapTypes.set(mapTypeId, mapType);\n  }\n  else {\n    throw \"'getTileUrl' function required.\";\n  }\n};\n\nGMaps.prototype.addOverlayMapType = function(options) {\n  if (options.hasOwnProperty(\"getTile\") && typeof(options[\"getTile\"]) == \"function\") {\n    var overlayMapTypeIndex = options.index;\n\n    delete options.index;\n\n    this.map.overlayMapTypes.insertAt(overlayMapTypeIndex, options);\n  }\n  else {\n    throw \"'getTile' function required.\";\n  }\n};\n\nGMaps.prototype.removeOverlayMapType = function(overlayMapTypeIndex) {\n  this.map.overlayMapTypes.removeAt(overlayMapTypeIndex);\n};\n\nGMaps.prototype.addStyle = function(options) {\n  var styledMapType = new google.maps.StyledMapType(options.styles, { name: options.styledMapName });\n\n  this.map.mapTypes.set(options.mapTypeId, styledMapType);\n};\n\nGMaps.prototype.setStyle = function(mapTypeId) {\n  this.map.setMapTypeId(mapTypeId);\n};\n\nGMaps.prototype.createPanorama = function(streetview_options) {\n  if (!streetview_options.hasOwnProperty('lat') || !streetview_options.hasOwnProperty('lng')) {\n    streetview_options.lat = this.getCenter().lat();\n    streetview_options.lng = this.getCenter().lng();\n  }\n\n  this.panorama = GMaps.createPanorama(streetview_options);\n\n  this.map.setStreetView(this.panorama);\n\n  return this.panorama;\n};\n\nGMaps.createPanorama = function(options) {\n  var el = getElementById(options.el, options.context);\n\n  options.position = new google.maps.LatLng(options.lat, options.lng);\n\n  delete options.el;\n  delete options.context;\n  delete options.lat;\n  delete options.lng;\n\n  var streetview_events = ['closeclick', 'links_changed', 'pano_changed', 'position_changed', 'pov_changed', 'resize', 'visible_changed'],\n      streetview_options = extend_object({visible : true}, options);\n\n  for (var i = 0; i < streetview_events.length; i++) {\n    delete streetview_options[streetview_events[i]];\n  }\n\n  var panorama = new google.maps.StreetViewPanorama(el, streetview_options);\n\n  for (var i = 0; i < streetview_events.length; i++) {\n    (function(object, name) {\n      if (options[name]) {\n        google.maps.event.addListener(object, name, function(){\n          options[name].apply(this);\n        });\n      }\n    })(panorama, streetview_events[i]);\n  }\n\n  return panorama;\n};\n\nGMaps.prototype.on = function(event_name, handler) {\n  return GMaps.on(event_name, this, handler);\n};\n\nGMaps.prototype.off = function(event_name) {\n  GMaps.off(event_name, this);\n};\n\nGMaps.prototype.once = function(event_name, handler) {\n  return GMaps.once(event_name, this, handler);\n};\n\nGMaps.custom_events = ['marker_added', 'marker_removed', 'polyline_added', 'polyline_removed', 'polygon_added', 'polygon_removed', 'geolocated', 'geolocation_failed'];\n\nGMaps.on = function(event_name, object, handler) {\n  if (GMaps.custom_events.indexOf(event_name) == -1) {\n    if(object instanceof GMaps) object = object.map;\n    return google.maps.event.addListener(object, event_name, handler);\n  }\n  else {\n    var registered_event = {\n      handler : handler,\n      eventName : event_name\n    };\n\n    object.registered_events[event_name] = object.registered_events[event_name] || [];\n    object.registered_events[event_name].push(registered_event);\n\n    return registered_event;\n  }\n};\n\nGMaps.off = function(event_name, object) {\n  if (GMaps.custom_events.indexOf(event_name) == -1) {\n    if(object instanceof GMaps) object = object.map;\n    google.maps.event.clearListeners(object, event_name);\n  }\n  else {\n    object.registered_events[event_name] = [];\n  }\n};\n\nGMaps.once = function(event_name, object, handler) {\n  if (GMaps.custom_events.indexOf(event_name) == -1) {\n    if(object instanceof GMaps) object = object.map;\n    return google.maps.event.addListenerOnce(object, event_name, handler);\n  }\n};\n\nGMaps.fire = function(event_name, object, scope) {\n  if (GMaps.custom_events.indexOf(event_name) == -1) {\n    google.maps.event.trigger(object, event_name, Array.prototype.slice.apply(arguments).slice(2));\n  }\n  else {\n    if(event_name in scope.registered_events) {\n      var firing_events = scope.registered_events[event_name];\n\n      for(var i = 0; i < firing_events.length; i++) {\n        (function(handler, scope, object) {\n          handler.apply(scope, [object]);\n        })(firing_events[i]['handler'], scope, object);\n      }\n    }\n  }\n};\n\nGMaps.geolocate = function(options) {\n  var complete_callback = options.always || options.complete;\n\n  if (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(function(position) {\n      options.success(position);\n\n      if (complete_callback) {\n        complete_callback();\n      }\n    }, function(error) {\n      options.error(error);\n\n      if (complete_callback) {\n        complete_callback();\n      }\n    }, options.options);\n  }\n  else {\n    options.not_supported();\n\n    if (complete_callback) {\n      complete_callback();\n    }\n  }\n};\n\nGMaps.geocode = function(options) {\n  this.geocoder = new google.maps.Geocoder();\n  var callback = options.callback;\n  if (options.hasOwnProperty('lat') && options.hasOwnProperty('lng')) {\n    options.latLng = new google.maps.LatLng(options.lat, options.lng);\n  }\n\n  delete options.lat;\n  delete options.lng;\n  delete options.callback;\n\n  this.geocoder.geocode(options, function(results, status) {\n    callback(results, status);\n  });\n};\n\nif (typeof window.google === 'object' && window.google.maps) {\n  //==========================\n  // Polygon containsLatLng\n  // https://github.com/tparkin/Google-Maps-Point-in-Polygon\n  // Poygon getBounds extension - google-maps-extensions\n  // http://code.google.com/p/google-maps-extensions/source/browse/google.maps.Polygon.getBounds.js\n  if (!google.maps.Polygon.prototype.getBounds) {\n    google.maps.Polygon.prototype.getBounds = function(latLng) {\n      var bounds = new google.maps.LatLngBounds();\n      var paths = this.getPaths();\n      var path;\n\n      for (var p = 0; p < paths.getLength(); p++) {\n        path = paths.getAt(p);\n        for (var i = 0; i < path.getLength(); i++) {\n          bounds.extend(path.getAt(i));\n        }\n      }\n\n      return bounds;\n    };\n  }\n\n  if (!google.maps.Polygon.prototype.containsLatLng) {\n    // Polygon containsLatLng - method to determine if a latLng is within a polygon\n    google.maps.Polygon.prototype.containsLatLng = function(latLng) {\n      // Exclude points outside of bounds as there is no way they are in the poly\n      var bounds = this.getBounds();\n\n      if (bounds !== null && !bounds.contains(latLng)) {\n        return false;\n      }\n\n      // Raycast point in polygon method\n      var inPoly = false;\n\n      var numPaths = this.getPaths().getLength();\n      for (var p = 0; p < numPaths; p++) {\n        var path = this.getPaths().getAt(p);\n        var numPoints = path.getLength();\n        var j = numPoints - 1;\n\n        for (var i = 0; i < numPoints; i++) {\n          var vertex1 = path.getAt(i);\n          var vertex2 = path.getAt(j);\n\n          if (vertex1.lng() < latLng.lng() && vertex2.lng() >= latLng.lng() || vertex2.lng() < latLng.lng() && vertex1.lng() >= latLng.lng()) {\n            if (vertex1.lat() + (latLng.lng() - vertex1.lng()) / (vertex2.lng() - vertex1.lng()) * (vertex2.lat() - vertex1.lat()) < latLng.lat()) {\n              inPoly = !inPoly;\n            }\n          }\n\n          j = i;\n        }\n      }\n\n      return inPoly;\n    };\n  }\n\n  if (!google.maps.Circle.prototype.containsLatLng) {\n    google.maps.Circle.prototype.containsLatLng = function(latLng) {\n      if (google.maps.geometry) {\n        return google.maps.geometry.spherical.computeDistanceBetween(this.getCenter(), latLng) <= this.getRadius();\n      }\n      else {\n        return true;\n      }\n    };\n  }\n\n  google.maps.Rectangle.prototype.containsLatLng = function(latLng) {\n    return this.getBounds().contains(latLng);\n  };\n\n  google.maps.LatLngBounds.prototype.containsLatLng = function(latLng) {\n    return this.contains(latLng);\n  };\n\n  google.maps.Marker.prototype.setFences = function(fences) {\n    this.fences = fences;\n  };\n\n  google.maps.Marker.prototype.addFence = function(fence) {\n    this.fences.push(fence);\n  };\n\n  google.maps.Marker.prototype.getId = function() {\n    return this['__gm_id'];\n  };\n}\n\n//==========================\n// Array indexOf\n// https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/indexOf\nif (!Array.prototype.indexOf) {\n  Array.prototype.indexOf = function (searchElement /*, fromIndex */ ) {\n      \"use strict\";\n      if (this == null) {\n          throw new TypeError();\n      }\n      var t = Object(this);\n      var len = t.length >>> 0;\n      if (len === 0) {\n          return -1;\n      }\n      var n = 0;\n      if (arguments.length > 1) {\n          n = Number(arguments[1]);\n          if (n != n) { // shortcut for verifying if it's NaN\n              n = 0;\n          } else if (n != 0 && n != Infinity && n != -Infinity) {\n              n = (n > 0 || -1) * Math.floor(Math.abs(n));\n          }\n      }\n      if (n >= len) {\n          return -1;\n      }\n      var k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);\n      for (; k < len; k++) {\n          if (k in t && t[k] === searchElement) {\n              return k;\n          }\n      }\n      return -1;\n  }\n}\n\nreturn GMaps;\n}));\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJidWlsZC92ZW5kb3JzL2dtYXBzL2dtYXBzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7Ozs7QUFDQyxXQUFTLElBQVQsRUFBZSxPQUFmLEVBQXdCO0FBQ3ZCLFNBQU8sS0FBUCxHQUFlLFNBQWY7QUFDRCxDQUZBLGFBRU8sWUFBVzs7QUFFbkI7Ozs7Ozs7O0FBUUEsTUFBSSxnQkFBZ0IsU0FBaEIsYUFBZ0IsQ0FBUyxHQUFULEVBQWMsT0FBZCxFQUF1QjtBQUN6QyxRQUFJLElBQUo7O0FBRUEsUUFBSSxRQUFRLE9BQVosRUFBcUI7QUFDbkIsYUFBTyxHQUFQO0FBQ0Q7O0FBRUQsU0FBSyxJQUFMLElBQWEsT0FBYixFQUFzQjtBQUNwQixVQUFJLFFBQVEsSUFBUixNQUFrQixTQUF0QixFQUFpQztBQUMvQixZQUFJLElBQUosSUFBWSxRQUFRLElBQVIsQ0FBWjtBQUNEO0FBQ0Y7O0FBRUQsV0FBTyxHQUFQO0FBQ0QsR0FkRDs7QUFnQkEsTUFBSSxpQkFBaUIsU0FBakIsY0FBaUIsQ0FBUyxHQUFULEVBQWMsT0FBZCxFQUF1QjtBQUMxQyxRQUFJLElBQUo7O0FBRUEsUUFBSSxRQUFRLE9BQVosRUFBcUI7QUFDbkIsYUFBTyxHQUFQO0FBQ0Q7O0FBRUQsU0FBSyxJQUFMLElBQWEsT0FBYixFQUFzQjtBQUNwQixVQUFJLElBQUksSUFBSixLQUFhLFNBQWpCLEVBQTRCO0FBQzFCLFlBQUksSUFBSixJQUFZLFFBQVEsSUFBUixDQUFaO0FBQ0Q7QUFDRjs7QUFFRCxXQUFPLEdBQVA7QUFDRCxHQWREOztBQWdCQSxNQUFJLFlBQVksU0FBWixTQUFZLENBQVMsS0FBVCxFQUFnQixRQUFoQixFQUEwQjtBQUN4QyxRQUFJLDJCQUEyQixNQUFNLFNBQU4sQ0FBZ0IsS0FBaEIsQ0FBc0IsSUFBdEIsQ0FBMkIsU0FBM0IsRUFBc0MsQ0FBdEMsQ0FBL0I7QUFBQSxRQUNJ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dCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiXCJ1c2Ugc3RyaWN0XCI7XG4oZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICB3aW5kb3cuR01hcHMgPSBmYWN0b3J5KCk7XG59KHRoaXMsIGZ1bmN0aW9uKCkge1xuXG4vKiFcbiAqIEdNYXBzLmpzIHYwLjQuMjRcbiAqIGh0dHA6Ly9ocG5lby5naXRodWIuY29tL2dtYXBzL1xuICpcbiAqIENvcHlyaWdodCAyMDE2LCBHdXN0YXZvIExlb25cbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqL1xuXG52YXIgZXh0ZW5kX29iamVjdCA9IGZ1bmN0aW9uKG9iaiwgbmV3X29iaikge1xuICB2YXIgbmFtZTtcblxuICBpZiAob2JqID09PSBuZXdfb2JqKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGZvciAobmFtZSBpbiBuZXdfb2JqKSB7XG4gICAgaWYgKG5ld19vYmpbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgb2JqW25hbWVdID0gbmV3X29ialtuYW1lXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcblxudmFyIHJlcGxhY2Vfb2JqZWN0ID0gZnVuY3Rpb24ob2JqLCByZXBsYWNlKSB7XG4gIHZhciBuYW1lO1xuXG4gIGlmIChvYmogPT09IHJlcGxhY2UpIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgZm9yIChuYW1lIGluIHJlcGxhY2UpIHtcbiAgICBpZiAob2JqW25hbWVdICE9IHVuZGVmaW5lZCkge1xuICAgICAgb2JqW25hbWVdID0gcmVwbGFjZVtuYW1lXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcblxudmFyIGFycmF5X21hcCA9IGZ1bmN0aW9uKGFycmF5LCBjYWxsYmFjaykge1xuICB2YXIgb3JpZ2luYWxfY2FsbGJhY2tfcGFyYW1zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSxcbiAgICAgIGFycmF5X3JldHVybiA9IFtdLFxuICAgICAgYXJyYXlfbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgaTtcblxuICBpZiAoQXJyYXkucHJvdG90eXBlLm1hcCAmJiBhcnJheS5tYXAgPT09IEFycmF5LnByb3RvdHlwZS5tYXApIHtcbiAgICBhcnJheV9yZXR1cm4gPSBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYXJyYXksIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIHZhciBjYWxsYmFja19wYXJhbXMgPSBvcmlnaW5hbF9jYWxsYmFja19wYXJhbXMuc2xpY2UoMCk7XG4gICAgICBjYWxsYmFja19wYXJhbXMuc3BsaWNlKDAsIDAsIGl0ZW0pO1xuXG4gICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodGhpcywgY2FsbGJhY2tfcGFyYW1zKTtcbiAgICB9KTtcbiAgfVxuICBlbHNlIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYXJyYXlfbGVuZ3RoOyBpKyspIHtcbiAgICAgIGNhbGxiYWNrX3BhcmFtcyA9IG9yaWdpbmFsX2NhbGxiYWNrX3BhcmFtcztcbiAgICAgIGNhbGxiYWNrX3BhcmFtcy5zcGxpY2UoMCwgMCwgYXJyYXlbaV0pO1xuICAgICAgYXJyYXlfcmV0dXJuLnB1c2goY2FsbGJhY2suYXBwbHkodGhpcywgY2FsbGJhY2tfcGFyYW1zKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFycmF5X3JldHVybjtcbn07XG5cbnZhciBhcnJheV9mbGF0ID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgdmFyIG5ld19hcnJheSA9IFtdLFxuICAgICAgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBuZXdfYXJyYXkgPSBuZXdfYXJyYXkuY29uY2F0KGFycmF5W2ldKTtcbiAgfVxuXG4gIHJldHVybiBuZXdfYXJyYXk7XG59O1xuXG52YXIgY29vcmRzVG9MYXRMbmdzID0gZnVuY3Rpb24oY29vcmRzLCB1c2VHZW9KU09OKSB7XG4gIHZhciBmaXJzdF9jb29yZCA9IGNvb3Jkc1swXSxcbiAgICAgIHNlY29uZF9jb29yZCA9IGNvb3Jkc1sxXTtcblxuICBpZiAodXNlR2VvSlNPTikge1xuICAgIGZpcnN0X2Nvb3JkID0gY29vcmRzWzFdO1xuICAgIHNlY29uZF9jb29yZCA9IGNvb3Jkc1swXTtcbiAgfVxuXG4gIHJldHVybiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGZpcnN0X2Nvb3JkLCBzZWNvbmRfY29vcmQpO1xufTtcblxudmFyIGFycmF5VG9MYXRMbmcgPSBmdW5jdGlvbihjb29yZHMsIHVzZUdlb0pTT04pIHtcbiAgdmFyIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgIGlmICghKGNvb3Jkc1tpXSBpbnN0YW5jZW9mIGdvb2dsZS5tYXBzLkxhdExuZykpIHtcbiAgICAgIGlmIChjb29yZHNbaV0ubGVuZ3RoID4gMCAmJiB0eXBlb2YoY29vcmRzW2ldWzBdKSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBjb29yZHNbaV0gPSBhcnJheVRvTGF0TG5nKGNvb3Jkc1tpXSwgdXNlR2VvSlNPTik7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29vcmRzW2ldID0gY29vcmRzVG9MYXRMbmdzKGNvb3Jkc1tpXSwgdXNlR2VvSlNPTik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvb3Jkcztcbn07XG5cbnZhciBnZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gZnVuY3Rpb24gKGNsYXNzX25hbWUsIGNvbnRleHQpIHtcbiAgICB2YXIgZWxlbWVudCxcbiAgICAgICAgX2NsYXNzID0gY2xhc3NfbmFtZS5yZXBsYWNlKCcuJywgJycpO1xuXG4gICAgaWYgKCdqUXVlcnknIGluIHRoaXMgJiYgY29udGV4dCkge1xuICAgICAgICBlbGVtZW50ID0gJChcIi5cIiArIF9jbGFzcywgY29udGV4dClbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoX2NsYXNzKVswXTtcbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG5cbn07XG5cbnZhciBnZXRFbGVtZW50QnlJZCA9IGZ1bmN0aW9uKGlkLCBjb250ZXh0KSB7XG4gIHZhciBlbGVtZW50LFxuICBpZCA9IGlkLnJlcGxhY2UoJyMnLCAnJyk7XG5cbiAgaWYgKCdqUXVlcnknIGluIHdpbmRvdyAmJiBjb250ZXh0KSB7XG4gICAgZWxlbWVudCA9ICQoJyMnICsgaWQsIGNvbnRleHQpWzBdO1xuICB9IGVsc2Uge1xuICAgIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gIH07XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuXG52YXIgZmluZEFic29sdXRlUG9zaXRpb24gPSBmdW5jdGlvbihvYmopICB7XG4gIHZhciBjdXJsZWZ0ID0gMCxcbiAgICAgIGN1cnRvcCA9IDA7XG5cbiAgaWYgKG9iai5vZmZzZXRQYXJlbnQpIHtcbiAgICBkbyB7XG4gICAgICBjdXJsZWZ0ICs9IG9iai5vZmZzZXRMZWZ0O1xuICAgICAgY3VydG9wICs9IG9iai5vZmZzZXRUb3A7XG4gICAgfSB3aGlsZSAob2JqID0gb2JqLm9mZnNldFBhcmVudCk7XG4gIH1cblxuICByZXR1cm4gW2N1cmxlZnQsIGN1cnRvcF07XG59O1xuXG52YXIgR01hcHMgPSAoZnVuY3Rpb24oZ2xvYmFsKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBkb2MgPSBkb2N1bWVudDtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgR01hcHMgaW5zdGFuY2UsIGluY2x1ZGluZyBhIEdvb2dsZSBNYXBzIG1hcC5cbiAgICogQGNsYXNzIEdNYXBzXG4gICAqIEBjb25zdHJ1Y3RzXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gYG9wdGlvbnNgIGFjY2VwdHMgYWxsIHRoZSBbTWFwT3B0aW9uc10oaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vbWFwcy9kb2N1bWVudGF0aW9uL2phdmFzY3JpcHQvcmVmZXJlbmNlI01hcE9wdGlvbnMpIGFuZCBbZXZlbnRzXShodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9tYXBzL2RvY3VtZW50YXRpb24vamF2YXNjcmlwdC9yZWZlcmVuY2UjTWFwKSBsaXN0ZWQgaW4gdGhlIEdvb2dsZSBNYXBzIEFQSS4gQWxzbyBhY2NlcHRzOlxuICAgKiAqIGBsYXRgIChudW1iZXIpOiBMYXRpdHVkZSBvZiB0aGUgbWFwJ3MgY2VudGVyXG4gICAqICogYGxuZ2AgKG51bWJlcik6IExvbmdpdHVkZSBvZiB0aGUgbWFwJ3MgY2VudGVyXG4gICAqICogYGVsYCAoc3RyaW5nIG9yIEhUTUxFbGVtZW50KTogY29udGFpbmVyIHdoZXJlIHRoZSBtYXAgd2lsbCBiZSByZW5kZXJlZFxuICAgKiAqIGBtYXJrZXJDbHVzdGVyZXJgIChmdW5jdGlvbik6IEEgZnVuY3Rpb24gdG8gY3JlYXRlIGEgbWFya2VyIGNsdXN0ZXIuIFlvdSBjYW4gdXNlIE1hcmtlckNsdXN0ZXJlciBvciBNYXJrZXJDbHVzdGVyZXJQbHVzLlxuICAgKi9cbiAgdmFyIEdNYXBzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXG4gICAgaWYgKCEodHlwZW9mIHdpbmRvdy5nb29nbGUgPT09ICdvYmplY3QnICYmIHdpbmRvdy5nb29nbGUubWFwcykpIHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93LmNvbnNvbGUgPT09ICdvYmplY3QnICYmIHdpbmRvdy5jb25zb2xlLmVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0dvb2dsZSBNYXBzIEFQSSBpcyByZXF1aXJlZC4gUGxlYXNlIHJlZ2lzdGVyIHRoZSBmb2xsb3dpbmcgSmF2YVNjcmlwdCBsaWJyYXJ5IGh0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9qcy4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge307XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzKSByZXR1cm4gbmV3IEdNYXBzKG9wdGlvbnMpO1xuXG4gICAgb3B0aW9ucy56b29tID0gb3B0aW9ucy56b29tIHx8IDE1O1xuICAgIG9wdGlvbnMubWFwVHlwZSA9IG9wdGlvbnMubWFwVHlwZSB8fCAncm9hZG1hcCc7XG5cbiAgICB2YXIgdmFsdWVPckRlZmF1bHQgPSBmdW5jdGlvbih2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IHZhbHVlO1xuICAgIH07XG5cbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGksXG4gICAgICAgIGV2ZW50c190aGF0X2hpZGVfY29udGV4dF9tZW51ID0gW1xuICAgICAgICAgICdib3VuZHNfY2hhbmdlZCcsICdjZW50ZXJfY2hhbmdlZCcsICdjbGljaycsICdkYmxjbGljaycsICdkcmFnJyxcbiAgICAgICAgICAnZHJhZ2VuZCcsICdkcmFnc3RhcnQnLCAnaWRsZScsICdtYXB0eXBlaWRfY2hhbmdlZCcsICdwcm9qZWN0aW9uX2NoYW5nZWQnLFxuICAgICAgICAgICdyZXNpemUnLCAndGlsZXNsb2FkZWQnLCAnem9vbV9jaGFuZ2VkJ1xuICAgICAgICBdLFxuICAgICAgICBldmVudHNfdGhhdF9kb2VzbnRfaGlkZV9jb250ZXh0X21lbnUgPSBbJ21vdXNlbW92ZScsICdtb3VzZW91dCcsICdtb3VzZW92ZXInXSxcbiAgICAgICAgb3B0aW9uc190b19iZV9kZWxldGVkID0gWydlbCcsICdsYXQnLCAnbG5nJywgJ21hcFR5cGUnLCAnd2lkdGgnLCAnaGVpZ2h0JywgJ21hcmtlckNsdXN0ZXJlcicsICdlbmFibGVOZXdTdHlsZSddLFxuICAgICAgICBpZGVudGlmaWVyID0gb3B0aW9ucy5lbCB8fCBvcHRpb25zLmRpdixcbiAgICAgICAgbWFya2VyQ2x1c3RlcmVyRnVuY3Rpb24gPSBvcHRpb25zLm1hcmtlckNsdXN0ZXJlcixcbiAgICAgICAgbWFwVHlwZSA9IGdvb2dsZS5tYXBzLk1hcFR5cGVJZFtvcHRpb25zLm1hcFR5cGUudG9VcHBlckNhc2UoKV0sXG4gICAgICAgIG1hcF9jZW50ZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKG9wdGlvbnMubGF0LCBvcHRpb25zLmxuZyksXG4gICAgICAgIHpvb21Db250cm9sID0gdmFsdWVPckRlZmF1bHQob3B0aW9ucy56b29tQ29udHJvbCwgdHJ1ZSksXG4gICAgICAgIHpvb21Db250cm9sT3B0ID0gb3B0aW9ucy56b29tQ29udHJvbE9wdCB8fCB7XG4gICAgICAgICAgc3R5bGU6ICdERUZBVUxUJyxcbiAgICAgICAgICBwb3NpdGlvbjogJ1RPUF9MRUZUJ1xuICAgICAgICB9LFxuICAgICAgICB6b29tQ29udHJvbFN0eWxlID0gem9vbUNvbnRyb2xPcHQuc3R5bGUgfHwgJ0RFRkFVTFQnLFxuICAgICAgICB6b29tQ29udHJvbFBvc2l0aW9uID0gem9vbUNvbnRyb2xPcHQucG9zaXRpb24gfHwgJ1RPUF9MRUZUJyxcbiAgICAgICAgcGFuQ29udHJvbCA9IHZhbHVlT3JEZWZhdWx0KG9wdGlvbnMucGFuQ29udHJvbCwgdHJ1ZSksXG4gICAgICAgIG1hcFR5cGVDb250cm9sID0gdmFsdWVPckRlZmF1bHQob3B0aW9ucy5tYXBUeXBlQ29udHJvbCwgdHJ1ZSksXG4gICAgICAgIHNjYWxlQ29udHJvbCA9IHZhbHVlT3JEZWZhdWx0KG9wdGlvbnMuc2NhbGVDb250cm9sLCB0cnVlKSxcbiAgICAgICAgc3RyZWV0Vmlld0NvbnRyb2wgPSB2YWx1ZU9yRGVmYXVsdChvcHRpb25zLnN0cmVldFZpZXdDb250cm9sLCB0cnVlKSxcbiAgICAgICAgb3ZlcnZpZXdNYXBDb250cm9sID0gdmFsdWVPckRlZmF1bHQob3ZlcnZpZXdNYXBDb250cm9sLCB0cnVlKSxcbiAgICAgICAgbWFwX29wdGlvbnMgPSB7fSxcbiAgICAgICAgbWFwX2Jhc2Vfb3B0aW9ucyA9IHtcbiAgICAgICAgICB6b29tOiB0aGlzLnpvb20sXG4gICAgICAgICAgY2VudGVyOiBtYXBfY2VudGVyLFxuICAgICAgICAgIG1hcFR5cGVJZDogbWFwVHlwZVxuICAgICAgICB9LFxuICAgICAgICBtYXBfY29udHJvbHNfb3B0aW9ucyA9IHtcbiAgICAgICAgICBwYW5Db250cm9sOiBwYW5Db250cm9sLFxuICAgICAgICAgIHpvb21Db250cm9sOiB6b29tQ29udHJvbCxcbiAgICAgICAgICB6b29tQ29udHJvbE9wdGlvbnM6IHtcbiAgICAgICAgICAgIHN0eWxlOiBnb29nbGUubWFwcy5ab29tQ29udHJvbFN0eWxlW3pvb21Db250cm9sU3R5bGVdLFxuICAgICAgICAgICAgcG9zaXRpb246IGdvb2dsZS5tYXBzLkNvbnRyb2xQb3NpdGlvblt6b29tQ29udHJvbFBvc2l0aW9uXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbWFwVHlwZUNvbnRyb2w6IG1hcFR5cGVDb250cm9sLFxuICAgICAgICAgIHNjYWxlQ29udHJvbDogc2NhbGVDb250cm9sLFxuICAgICAgICAgIHN0cmVldFZpZXdDb250cm9sOiBzdHJlZXRWaWV3Q29udHJvbCxcbiAgICAgICAgICBvdmVydmlld01hcENvbnRyb2w6IG92ZXJ2aWV3TWFwQ29udHJvbFxuICAgICAgICB9O1xuXG4gICAgICBpZiAodHlwZW9mKG9wdGlvbnMuZWwpID09PSAnc3RyaW5nJyB8fCB0eXBlb2Yob3B0aW9ucy5kaXYpID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoaWRlbnRpZmllci5pbmRleE9mKFwiI1wiKSA+IC0xKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENvbnRhaW5lciBlbGVtZW50XG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmVsID0gZ2V0RWxlbWVudEJ5SWQoaWRlbnRpZmllciwgb3B0aW9ucy5jb250ZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZWwgPSBnZXRFbGVtZW50c0J5Q2xhc3NOYW1lLmFwcGx5KHRoaXMsIFtpZGVudGlmaWVyLCBvcHRpb25zLmNvbnRleHRdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmVsID0gaWRlbnRpZmllcjtcbiAgICAgIH1cblxuICAgIGlmICh0eXBlb2YodGhpcy5lbCkgPT09ICd1bmRlZmluZWQnIHx8IHRoaXMuZWwgPT09IG51bGwpIHtcbiAgICAgIHRocm93ICdObyBlbGVtZW50IGRlZmluZWQuJztcbiAgICB9XG5cbiAgICB3aW5kb3cuY29udGV4dF9tZW51ID0gd2luZG93LmNvbnRleHRfbWVudSB8fCB7fTtcbiAgICB3aW5kb3cuY29udGV4dF9tZW51W3NlbGYuZWwuaWRdID0ge307XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGN1c3RvbSBjb250cm9scyBpbiB0aGUgbWFwIFVJXG4gICAgICpcbiAgICAgKiBAdHlwZSB7YXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5jb250cm9scyA9IFtdO1xuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgbWFwJ3Mgb3ZlcmxheXNcbiAgICAgKlxuICAgICAqIEB0eXBlIHthcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLm92ZXJsYXlzID0gW107XG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvbiBvZiBLTUwvR2VvUlNTIGFuZCBGdXNpb25UYWJsZSBsYXllcnNcbiAgICAgKlxuICAgICAqIEB0eXBlIHthcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmxheWVycyA9IFtdO1xuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgZGF0YSBsYXllcnMgKFNlZSB7QGxpbmsgR01hcHMjYWRkTGF5ZXJ9KVxuICAgICAqXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnNpbmdsZUxheWVycyA9IHt9O1xuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgbWFwJ3MgbWFya2Vyc1xuICAgICAqXG4gICAgICogQHR5cGUge2FycmF5fVxuICAgICAqL1xuICAgIHRoaXMubWFya2VycyA9IFtdO1xuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgbWFwJ3MgbGluZXNcbiAgICAgKlxuICAgICAqIEB0eXBlIHthcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLnBvbHlsaW5lcyA9IFtdO1xuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgbWFwJ3Mgcm91dGVzIHJlcXVlc3RlZCBieSB7QGxpbmsgR01hcHMjZ2V0Um91dGVzfSwge0BsaW5rIEdNYXBzI3JlbmRlclJvdXRlfSwge0BsaW5rIEdNYXBzI2RyYXdSb3V0ZX0sIHtAbGluayBHTWFwcyN0cmF2ZWxSb3V0ZX0gb3Ige0BsaW5rIEdNYXBzI2RyYXdTdGVwcGVkUm91dGV9XG4gICAgICpcbiAgICAgKiBAdHlwZSB7YXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5yb3V0ZXMgPSBbXTtcbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIG1hcCdzIHBvbHlnb25zXG4gICAgICpcbiAgICAgKiBAdHlwZSB7YXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5wb2x5Z29ucyA9IFtdO1xuICAgIHRoaXMuaW5mb1dpbmRvdyA9IG51bGw7XG4gICAgdGhpcy5vdmVybGF5X2VsID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBDdXJyZW50IG1hcCdzIHpvb21cbiAgICAgKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy56b29tID0gb3B0aW9ucy56b29tO1xuICAgIHRoaXMucmVnaXN0ZXJlZF9ldmVudHMgPSB7fTtcblxuICAgIHRoaXMuZWwuc3R5bGUud2lkdGggPSBvcHRpb25zLndpZHRoIHx8IHRoaXMuZWwuc2Nyb2xsV2lkdGggfHwgdGhpcy5lbC5vZmZzZXRXaWR0aDtcbiAgICB0aGlzLmVsLnN0eWxlLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0IHx8IHRoaXMuZWwuc2Nyb2xsSGVpZ2h0IHx8IHRoaXMuZWwub2Zmc2V0SGVpZ2h0O1xuXG4gICAgZ29vZ2xlLm1hcHMudmlzdWFsUmVmcmVzaCA9IG9wdGlvbnMuZW5hYmxlTmV3U3R5bGU7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgb3B0aW9uc190b19iZV9kZWxldGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkZWxldGUgb3B0aW9uc1tvcHRpb25zX3RvX2JlX2RlbGV0ZWRbaV1dO1xuICAgIH1cblxuICAgIGlmKG9wdGlvbnMuZGlzYWJsZURlZmF1bHRVSSAhPSB0cnVlKSB7XG4gICAgICBtYXBfYmFzZV9vcHRpb25zID0gZXh0ZW5kX29iamVjdChtYXBfYmFzZV9vcHRpb25zLCBtYXBfY29udHJvbHNfb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgbWFwX29wdGlvbnMgPSBleHRlbmRfb2JqZWN0KG1hcF9iYXNlX29wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGV2ZW50c190aGF0X2hpZGVfY29udGV4dF9tZW51Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBkZWxldGUgbWFwX29wdGlvbnNbZXZlbnRzX3RoYXRfaGlkZV9jb250ZXh0X21lbnVbaV1dO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBldmVudHNfdGhhdF9kb2VzbnRfaGlkZV9jb250ZXh0X21lbnUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRlbGV0ZSBtYXBfb3B0aW9uc1tldmVudHNfdGhhdF9kb2VzbnRfaGlkZV9jb250ZXh0X21lbnVbaV1dO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdvb2dsZSBNYXBzIG1hcCBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHR5cGUge2dvb2dsZS5tYXBzLk1hcH1cbiAgICAgKi9cbiAgICB0aGlzLm1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAodGhpcy5lbCwgbWFwX29wdGlvbnMpO1xuXG4gICAgaWYgKG1hcmtlckNsdXN0ZXJlckZ1bmN0aW9uKSB7XG4gICAgICAvKipcbiAgICAgICAqIE1hcmtlciBDbHVzdGVyZXIgaW5zdGFuY2VcbiAgICAgICAqXG4gICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICovXG4gICAgICB0aGlzLm1hcmtlckNsdXN0ZXJlciA9IG1hcmtlckNsdXN0ZXJlckZ1bmN0aW9uLmFwcGx5KHRoaXMsIFt0aGlzLm1hcF0pO1xuICAgIH1cblxuICAgIHZhciBidWlsZENvbnRleHRNZW51SFRNTCA9IGZ1bmN0aW9uKGNvbnRyb2wsIGUpIHtcbiAgICAgIHZhciBodG1sID0gJycsXG4gICAgICAgICAgb3B0aW9ucyA9IHdpbmRvdy5jb250ZXh0X21lbnVbc2VsZi5lbC5pZF1bY29udHJvbF07XG5cbiAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucyl7XG4gICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgdmFyIG9wdGlvbiA9IG9wdGlvbnNbaV07XG5cbiAgICAgICAgICBodG1sICs9ICc8bGk+PGEgaWQ9XCInICsgY29udHJvbCArICdfJyArIGkgKyAnXCIgaHJlZj1cIiNcIj4nICsgb3B0aW9uLnRpdGxlICsgJzwvYT48L2xpPic7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFnZXRFbGVtZW50QnlJZCgnZ21hcHNfY29udGV4dF9tZW51JykpIHJldHVybjtcblxuICAgICAgdmFyIGNvbnRleHRfbWVudV9lbGVtZW50ID0gZ2V0RWxlbWVudEJ5SWQoJ2dtYXBzX2NvbnRleHRfbWVudScpO1xuXG4gICAgICBjb250ZXh0X21lbnVfZWxlbWVudC5pbm5lckhUTUwgPSBodG1sO1xuXG4gICAgICB2YXIgY29udGV4dF9tZW51X2l0ZW1zID0gY29udGV4dF9tZW51X2VsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKSxcbiAgICAgICAgICBjb250ZXh0X21lbnVfaXRlbXNfY291bnQgPSBjb250ZXh0X21lbnVfaXRlbXMubGVuZ3RoLFxuICAgICAgICAgIGk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjb250ZXh0X21lbnVfaXRlbXNfY291bnQ7IGkrKykge1xuICAgICAgICB2YXIgY29udGV4dF9tZW51X2l0ZW0gPSBjb250ZXh0X21lbnVfaXRlbXNbaV07XG5cbiAgICAgICAgdmFyIGFzc2lnbl9tZW51X2l0ZW1fYWN0aW9uID0gZnVuY3Rpb24oZXYpe1xuICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICBvcHRpb25zW3RoaXMuaWQucmVwbGFjZShjb250cm9sICsgJ18nLCAnJyldLmFjdGlvbi5hcHBseShzZWxmLCBbZV0pO1xuICAgICAgICAgIHNlbGYuaGlkZUNvbnRleHRNZW51KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQuY2xlYXJMaXN0ZW5lcnMoY29udGV4dF9tZW51X2l0ZW0sICdjbGljaycpO1xuICAgICAgICBnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lck9uY2UoY29udGV4dF9tZW51X2l0ZW0sICdjbGljaycsIGFzc2lnbl9tZW51X2l0ZW1fYWN0aW9uLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwb3NpdGlvbiA9IGZpbmRBYnNvbHV0ZVBvc2l0aW9uLmFwcGx5KHRoaXMsIFtzZWxmLmVsXSksXG4gICAgICAgICAgbGVmdCA9IHBvc2l0aW9uWzBdICsgZS5waXhlbC54IC0gMTUsXG4gICAgICAgICAgdG9wID0gcG9zaXRpb25bMV0gKyBlLnBpeGVsLnktIDE1O1xuXG4gICAgICBjb250ZXh0X21lbnVfZWxlbWVudC5zdHlsZS5sZWZ0ID0gbGVmdCArIFwicHhcIjtcbiAgICAgIGNvbnRleHRfbWVudV9lbGVtZW50LnN0eWxlLnRvcCA9IHRvcCArIFwicHhcIjtcblxuICAgICAgLy8gY29udGV4dF9tZW51X2VsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgfTtcblxuICAgIHRoaXMuYnVpbGRDb250ZXh0TWVudSA9IGZ1bmN0aW9uKGNvbnRyb2wsIGUpIHtcbiAgICAgIGlmIChjb250cm9sID09PSAnbWFya2VyJykge1xuICAgICAgICBlLnBpeGVsID0ge307XG5cbiAgICAgICAgdmFyIG92ZXJsYXkgPSBuZXcgZ29vZ2xlLm1hcHMuT3ZlcmxheVZpZXcoKTtcbiAgICAgICAgb3ZlcmxheS5zZXRNYXAoc2VsZi5tYXApO1xuXG4gICAgICAgIG92ZXJsYXkuZHJhdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBwcm9qZWN0aW9uID0gb3ZlcmxheS5nZXRQcm9qZWN0aW9uKCksXG4gICAgICAgICAgICAgIHBvc2l0aW9uID0gZS5tYXJrZXIuZ2V0UG9zaXRpb24oKTtcblxuICAgICAgICAgIGUucGl4ZWwgPSBwcm9qZWN0aW9uLmZyb21MYXRMbmdUb0NvbnRhaW5lclBpeGVsKHBvc2l0aW9uKTtcblxuICAgICAgICAgIGJ1aWxkQ29udGV4dE1lbnVIVE1MKGNvbnRyb2wsIGUpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGJ1aWxkQ29udGV4dE1lbnVIVE1MKGNvbnRyb2wsIGUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dF9tZW51X2VsZW1lbnQgPSBnZXRFbGVtZW50QnlJZCgnZ21hcHNfY29udGV4dF9tZW51Jyk7XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnRleHRfbWVudV9lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgfSwgMCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGNvbnRleHQgbWVudSBmb3IgYSBtYXAgb3IgYSBtYXJrZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIFRoZSBgb3B0aW9uc2Agb2JqZWN0IHNob3VsZCBjb250YWluOlxuICAgICAqICogYGNvbnRyb2xgIChzdHJpbmcpOiBLaW5kIG9mIGNvbnRyb2wgdGhlIGNvbnRleHQgbWVudSB3aWxsIGJlIGF0dGFjaGVkLiBDYW4gYmUgXCJtYXBcIiBvciBcIm1hcmtlclwiLlxuICAgICAqICogYG9wdGlvbnNgIChhcnJheSk6IEEgY29sbGVjdGlvbiBvZiBjb250ZXh0IG1lbnUgaXRlbXM6XG4gICAgICogICAqIGB0aXRsZWAgKHN0cmluZyk6IEl0ZW0ncyB0aXRsZSBzaG93biBpbiB0aGUgY29udGV4dCBtZW51LlxuICAgICAqICAgKiBgbmFtZWAgKHN0cmluZyk6IEl0ZW0ncyBpZGVudGlmaWVyLlxuICAgICAqICAgKiBgYWN0aW9uYCAoZnVuY3Rpb24pOiBGdW5jdGlvbiB0cmlnZ2VyZWQgYWZ0ZXIgc2VsZWN0aW5nIHRoZSBjb250ZXh0IG1lbnUgaXRlbS5cbiAgICAgKi9cbiAgICB0aGlzLnNldENvbnRleHRNZW51ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgd2luZG93LmNvbnRleHRfbWVudVtzZWxmLmVsLmlkXVtvcHRpb25zLmNvbnRyb2xdID0ge307XG5cbiAgICAgIHZhciBpLFxuICAgICAgICAgIHVsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG5cbiAgICAgIGZvciAoaSBpbiBvcHRpb25zLm9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgIHZhciBvcHRpb24gPSBvcHRpb25zLm9wdGlvbnNbaV07XG5cbiAgICAgICAgICB3aW5kb3cuY29udGV4dF9tZW51W3NlbGYuZWwuaWRdW29wdGlvbnMuY29udHJvbF1bb3B0aW9uLm5hbWVdID0ge1xuICAgICAgICAgICAgdGl0bGU6IG9wdGlvbi50aXRsZSxcbiAgICAgICAgICAgIGFjdGlvbjogb3B0aW9uLmFjdGlvblxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdWwuaWQgPSAnZ21hcHNfY29udGV4dF9tZW51JztcbiAgICAgIHVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB1bC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICB1bC5zdHlsZS5taW5XaWR0aCA9ICcxMDBweCc7XG4gICAgICB1bC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3doaXRlJztcbiAgICAgIHVsLnN0eWxlLmxpc3RTdHlsZSA9ICdub25lJztcbiAgICAgIHVsLnN0eWxlLnBhZGRpbmcgPSAnOHB4JztcbiAgICAgIHVsLnN0eWxlLmJveFNoYWRvdyA9ICcycHggMnB4IDZweCAjY2NjJztcblxuICAgICAgaWYgKCFnZXRFbGVtZW50QnlJZCgnZ21hcHNfY29udGV4dF9tZW51JykpIHtcbiAgICAgICAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQodWwpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dF9tZW51X2VsZW1lbnQgPSBnZXRFbGVtZW50QnlJZCgnZ21hcHNfY29udGV4dF9tZW51Jyk7XG5cbiAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZERvbUxpc3RlbmVyKGNvbnRleHRfbWVudV9lbGVtZW50LCAnbW91c2VvdXQnLCBmdW5jdGlvbihldikge1xuICAgICAgICBpZiAoIWV2LnJlbGF0ZWRUYXJnZXQgfHwgIXRoaXMuY29udGFpbnMoZXYucmVsYXRlZFRhcmdldCkpIHtcbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgY29udGV4dF9tZW51X2VsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICB9LCA0MDApO1xuICAgICAgICB9XG4gICAgICB9LCBmYWxzZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhpZGUgdGhlIGN1cnJlbnQgY29udGV4dCBtZW51XG4gICAgICovXG4gICAgdGhpcy5oaWRlQ29udGV4dE1lbnUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjb250ZXh0X21lbnVfZWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCdnbWFwc19jb250ZXh0X21lbnUnKTtcblxuICAgICAgaWYgKGNvbnRleHRfbWVudV9lbGVtZW50KSB7XG4gICAgICAgIGNvbnRleHRfbWVudV9lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciBzZXR1cExpc3RlbmVyID0gZnVuY3Rpb24ob2JqZWN0LCBuYW1lKSB7XG4gICAgICBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihvYmplY3QsIG5hbWUsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBpZiAoZSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBlID0gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnNbbmFtZV0uYXBwbHkodGhpcywgW2VdKTtcblxuICAgICAgICBzZWxmLmhpZGVDb250ZXh0TWVudSgpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIodGhpcy5tYXAsICdpZGxlJywgdGhpcy5oaWRlQ29udGV4dE1lbnUpO1xuICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKHRoaXMubWFwLCAnem9vbV9jaGFuZ2VkJywgdGhpcy5oaWRlQ29udGV4dE1lbnUpO1xuXG4gICAgZm9yICh2YXIgZXYgPSAwOyBldiA8IGV2ZW50c190aGF0X2hpZGVfY29udGV4dF9tZW51Lmxlbmd0aDsgZXYrKykge1xuICAgICAgdmFyIG5hbWUgPSBldmVudHNfdGhhdF9oaWRlX2NvbnRleHRfbWVudVtldl07XG5cbiAgICAgIGlmIChuYW1lIGluIG9wdGlvbnMpIHtcbiAgICAgICAgc2V0dXBMaXN0ZW5lcih0aGlzLm1hcCwgbmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgZXYgPSAwOyBldiA8IGV2ZW50c190aGF0X2RvZXNudF9oaWRlX2NvbnRleHRfbWVudS5sZW5ndGg7IGV2KyspIHtcbiAgICAgIHZhciBuYW1lID0gZXZlbnRzX3RoYXRfZG9lc250X2hpZGVfY29udGV4dF9tZW51W2V2XTtcblxuICAgICAgaWYgKG5hbWUgaW4gb3B0aW9ucykge1xuICAgICAgICBzZXR1cExpc3RlbmVyKHRoaXMubWFwLCBuYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcih0aGlzLm1hcCwgJ3JpZ2h0Y2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAob3B0aW9ucy5yaWdodGNsaWNrKSB7XG4gICAgICAgIG9wdGlvbnMucmlnaHRjbGljay5hcHBseSh0aGlzLCBbZV0pO1xuICAgICAgfVxuXG4gICAgICBpZih3aW5kb3cuY29udGV4dF9tZW51W3NlbGYuZWwuaWRdWydtYXAnXSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgc2VsZi5idWlsZENvbnRleHRNZW51KCdtYXAnLCBlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgYSBgcmVzaXplYCBldmVudCwgdXNlZnVsIGlmIHlvdSBuZWVkIHRvIHJlcGFpbnQgdGhlIGN1cnJlbnQgbWFwIChmb3IgY2hhbmdlcyBpbiB0aGUgdmlld3BvcnQgb3IgZGlzcGxheSAvIGhpZGUgYWN0aW9ucykuXG4gICAgICovXG4gICAgdGhpcy5yZWZyZXNoID0gZnVuY3Rpb24oKSB7XG4gICAgICBnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKHRoaXMubWFwLCAncmVzaXplJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkanVzdCB0aGUgbWFwIHpvb20gdG8gaW5jbHVkZSBhbGwgdGhlIG1hcmtlcnMgYWRkZWQgaW4gdGhlIG1hcC5cbiAgICAgKi9cbiAgICB0aGlzLmZpdFpvb20gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBsYXRMbmdzID0gW10sXG4gICAgICAgICAgbWFya2Vyc19sZW5ndGggPSB0aGlzLm1hcmtlcnMubGVuZ3RoLFxuICAgICAgICAgIGk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBtYXJrZXJzX2xlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmKHR5cGVvZih0aGlzLm1hcmtlcnNbaV0udmlzaWJsZSkgPT09ICdib29sZWFuJyAmJiB0aGlzLm1hcmtlcnNbaV0udmlzaWJsZSkge1xuICAgICAgICAgIGxhdExuZ3MucHVzaCh0aGlzLm1hcmtlcnNbaV0uZ2V0UG9zaXRpb24oKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5maXRMYXRMbmdCb3VuZHMobGF0TG5ncyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkanVzdCB0aGUgbWFwIHpvb20gdG8gaW5jbHVkZSBhbGwgdGhlIGNvb3JkaW5hdGVzIGluIHRoZSBgbGF0TG5nc2AgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBsYXRMbmdzIC0gQ29sbGVjdGlvbiBvZiBgZ29vZ2xlLm1hcHMuTGF0TG5nYCBvYmplY3RzLlxuICAgICAqL1xuICAgIHRoaXMuZml0TGF0TG5nQm91bmRzID0gZnVuY3Rpb24obGF0TG5ncykge1xuICAgICAgdmFyIHRvdGFsID0gbGF0TG5ncy5sZW5ndGgsXG4gICAgICAgICAgYm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcygpLFxuICAgICAgICAgIGk7XG5cbiAgICAgIGZvcihpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgYm91bmRzLmV4dGVuZChsYXRMbmdzW2ldKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5tYXAuZml0Qm91bmRzKGJvdW5kcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENlbnRlciB0aGUgbWFwIHVzaW5nIHRoZSBgbGF0YCBhbmQgYGxuZ2AgY29vcmRpbmF0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGF0IC0gTGF0aXR1ZGUgb2YgdGhlIGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxuZyAtIExvbmdpdHVkZSBvZiB0aGUgY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIC0gQ2FsbGJhY2sgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIGFmdGVyIHRoZSBtYXAgaXMgY2VudGVyZWQuXG4gICAgICovXG4gICAgdGhpcy5zZXRDZW50ZXIgPSBmdW5jdGlvbihsYXQsIGxuZywgY2FsbGJhY2spIHtcbiAgICAgIHRoaXMubWFwLnBhblRvKG5ldyBnb29nbGUubWFwcy5MYXRMbmcobGF0LCBsbmcpKTtcblxuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgSFRNTCBlbGVtZW50IGNvbnRhaW5lciBvZiB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fSB0aGUgZWxlbWVudCBjb250YWluZXIuXG4gICAgICovXG4gICAgdGhpcy5nZXRFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5jcmVhc2UgdGhlIG1hcCdzIHpvb20uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW21hZ25pdHVkZV0gLSBUaGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBtYXAgd2lsbCBiZSB6b29tZWQgaW4uXG4gICAgICovXG4gICAgdGhpcy56b29tSW4gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZSB8fCAxO1xuXG4gICAgICB0aGlzLnpvb20gPSB0aGlzLm1hcC5nZXRab29tKCkgKyB2YWx1ZTtcbiAgICAgIHRoaXMubWFwLnNldFpvb20odGhpcy56b29tKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVjcmVhc2UgdGhlIG1hcCdzIHpvb20uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW21hZ25pdHVkZV0gLSBUaGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBtYXAgd2lsbCBiZSB6b29tZWQgb3V0LlxuICAgICAqL1xuICAgIHRoaXMuem9vbU91dCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlIHx8IDE7XG5cbiAgICAgIHRoaXMuem9vbSA9IHRoaXMubWFwLmdldFpvb20oKSAtIHZhbHVlO1xuICAgICAgdGhpcy5tYXAuc2V0Wm9vbSh0aGlzLnpvb20pO1xuICAgIH07XG5cbiAgICB2YXIgbmF0aXZlX21ldGhvZHMgPSBbXSxcbiAgICAgICAgbWV0aG9kO1xuXG4gICAgZm9yIChtZXRob2QgaW4gdGhpcy5tYXApIHtcbiAgICAgIGlmICh0eXBlb2YodGhpcy5tYXBbbWV0aG9kXSkgPT0gJ2Z1bmN0aW9uJyAmJiAhdGhpc1ttZXRob2RdKSB7XG4gICAgICAgIG5hdGl2ZV9tZXRob2RzLnB1c2gobWV0aG9kKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbmF0aXZlX21ldGhvZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIChmdW5jdGlvbihnbWFwcywgc2NvcGUsIG1ldGhvZF9uYW1lKSB7XG4gICAgICAgIGdtYXBzW21ldGhvZF9uYW1lXSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgcmV0dXJuIHNjb3BlW21ldGhvZF9uYW1lXS5hcHBseShzY29wZSwgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMsIHRoaXMubWFwLCBuYXRpdmVfbWV0aG9kc1tpXSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBHTWFwcztcbn0pKHRoaXMpO1xuXG5HTWFwcy5wcm90b3R5cGUuY3JlYXRlQ29udHJvbCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgdmFyIGNvbnRyb2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICBjb250cm9sLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcblxuICBpZiAob3B0aW9ucy5kaXNhYmxlRGVmYXVsdFN0eWxlcyAhPT0gdHJ1ZSkge1xuICAgIGNvbnRyb2wuc3R5bGUuZm9udEZhbWlseSA9ICdSb2JvdG8sIEFyaWFsLCBzYW5zLXNlcmlmJztcbiAgICBjb250cm9sLnN0eWxlLmZvbnRTaXplID0gJzExcHgnO1xuICAgIGNvbnRyb2wuc3R5bGUuYm94U2hhZG93ID0gJ3JnYmEoMCwgMCwgMCwgMC4yOTgwMzkpIDBweCAxcHggNHB4IC0xcHgnO1xuICB9XG5cbiAgZm9yICh2YXIgb3B0aW9uIGluIG9wdGlvbnMuc3R5bGUpIHtcbiAgICBjb250cm9sLnN0eWxlW29wdGlvbl0gPSBvcHRpb25zLnN0eWxlW29wdGlvbl07XG4gIH1cblxuICBpZiAob3B0aW9ucy5pZCkge1xuICAgIGNvbnRyb2wuaWQgPSBvcHRpb25zLmlkO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMudGl0bGUpIHtcbiAgICBjb250cm9sLnRpdGxlID0gb3B0aW9ucy50aXRsZTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmNsYXNzZXMpIHtcbiAgICBjb250cm9sLmNsYXNzTmFtZSA9IG9wdGlvbnMuY2xhc3NlcztcbiAgfVxuXG4gIGlmIChvcHRpb25zLmNvbnRlbnQpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnRyb2wuaW5uZXJIVE1MID0gb3B0aW9ucy5jb250ZW50O1xuICAgIH1cbiAgICBlbHNlIGlmIChvcHRpb25zLmNvbnRlbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgY29udHJvbC5hcHBlbmRDaGlsZChvcHRpb25zLmNvbnRlbnQpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChvcHRpb25zLnBvc2l0aW9uKSB7XG4gICAgY29udHJvbC5wb3NpdGlvbiA9IGdvb2dsZS5tYXBzLkNvbnRyb2xQb3NpdGlvbltvcHRpb25zLnBvc2l0aW9uLnRvVXBwZXJDYXNlKCldO1xuICB9XG5cbiAgZm9yICh2YXIgZXYgaW4gb3B0aW9ucy5ldmVudHMpIHtcbiAgICAoZnVuY3Rpb24ob2JqZWN0LCBuYW1lKSB7XG4gICAgICBnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lcihvYmplY3QsIG5hbWUsIGZ1bmN0aW9uKCl7XG4gICAgICAgIG9wdGlvbnMuZXZlbnRzW25hbWVdLmFwcGx5KHRoaXMsIFt0aGlzXSk7XG4gICAgICB9KTtcbiAgICB9KShjb250cm9sLCBldik7XG4gIH1cblxuICBjb250cm9sLmluZGV4ID0gMTtcblxuICByZXR1cm4gY29udHJvbDtcbn07XG5cbi8qKlxuICogQWRkIGEgY3VzdG9tIGNvbnRyb2wgdG8gdGhlIG1hcCBVSS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIFRoZSBgb3B0aW9uc2Agb2JqZWN0IHNob3VsZCBjb250YWluOlxuICogKiBgc3R5bGVgIChvYmplY3QpOiBUaGUga2V5cyBhbmQgdmFsdWVzIG9mIHRoaXMgb2JqZWN0IHNob3VsZCBiZSB2YWxpZCBDU1MgcHJvcGVydGllcyBhbmQgdmFsdWVzLlxuICogKiBgaWRgIChzdHJpbmcpOiBUaGUgSFRNTCBpZCBmb3IgdGhlIGN1c3RvbSBjb250cm9sLlxuICogKiBgY2xhc3Nlc2AgKHN0cmluZyk6IEEgc3RyaW5nIGNvbnRhaW5pbmcgYWxsIHRoZSBIVE1MIGNsYXNzZXMgZm9yIHRoZSBjdXN0b20gY29udHJvbC5cbiAqICogYGNvbnRlbnRgIChzdHJpbmcgb3IgSFRNTCBlbGVtZW50KTogVGhlIGNvbnRlbnQgb2YgdGhlIGN1c3RvbSBjb250cm9sLlxuICogKiBgcG9zaXRpb25gIChzdHJpbmcpOiBBbnkgdmFsaWQgW2Bnb29nbGUubWFwcy5Db250cm9sUG9zaXRpb25gXShodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9tYXBzL2RvY3VtZW50YXRpb24vamF2YXNjcmlwdC9jb250cm9scyNDb250cm9sUG9zaXRpb25pbmcpIHZhbHVlLCBpbiBsb3dlciBvciB1cHBlciBjYXNlLlxuICogKiBgZXZlbnRzYCAob2JqZWN0KTogVGhlIGtleXMgb2YgdGhpcyBvYmplY3Qgc2hvdWxkIGJlIHZhbGlkIERPTSBldmVudHMuIFRoZSB2YWx1ZXMgc2hvdWxkIGJlIGZ1bmN0aW9ucy5cbiAqICogYGRpc2FibGVEZWZhdWx0U3R5bGVzYCAoYm9vbGVhbik6IElmIGZhbHNlLCByZW1vdmVzIHRoZSBkZWZhdWx0IHN0eWxlcyBmb3IgdGhlIGNvbnRyb2xzIGxpa2UgZm9udCAoZmFtaWx5IGFuZCBzaXplKSwgYW5kIGJveCBzaGFkb3cuXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gKi9cbkdNYXBzLnByb3RvdHlwZS5hZGRDb250cm9sID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB2YXIgY29udHJvbCA9IHRoaXMuY3JlYXRlQ29udHJvbChvcHRpb25zKTtcblxuICB0aGlzLmNvbnRyb2xzLnB1c2goY29udHJvbCk7XG4gIHRoaXMubWFwLmNvbnRyb2xzW2NvbnRyb2wucG9zaXRpb25dLnB1c2goY29udHJvbCk7XG5cbiAgcmV0dXJuIGNvbnRyb2w7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhIGNvbnRyb2wgZnJvbSB0aGUgbWFwLiBgY29udHJvbGAgc2hvdWxkIGJlIGEgY29udHJvbCByZXR1cm5lZCBieSBgYWRkQ29udHJvbCgpYC5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjb250cm9sIC0gT25lIG9mIHRoZSBjb250cm9scyByZXR1cm5lZCBieSBgYWRkQ29udHJvbCgpYC5cbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gdGhlIHJlbW92ZWQgY29udHJvbC5cbiAqL1xuR01hcHMucHJvdG90eXBlLnJlbW92ZUNvbnRyb2wgPSBmdW5jdGlvbihjb250cm9sKSB7XG4gIHZhciBwb3NpdGlvbiA9IG51bGwsXG4gICAgICBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCB0aGlzLmNvbnRyb2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHRoaXMuY29udHJvbHNbaV0gPT0gY29udHJvbCkge1xuICAgICAgcG9zaXRpb24gPSB0aGlzLmNvbnRyb2xzW2ldLnBvc2l0aW9uO1xuICAgICAgdGhpcy5jb250cm9scy5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHBvc2l0aW9uKSB7XG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMubWFwLmNvbnRyb2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY29udHJvbHNGb3JQb3NpdGlvbiA9IHRoaXMubWFwLmNvbnRyb2xzW2NvbnRyb2wucG9zaXRpb25dO1xuXG4gICAgICBpZiAoY29udHJvbHNGb3JQb3NpdGlvbi5nZXRBdChpKSA9PSBjb250cm9sKSB7XG4gICAgICAgIGNvbnRyb2xzRm9yUG9zaXRpb24ucmVtb3ZlQXQoaSk7XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbnRyb2w7XG59O1xuXG5HTWFwcy5wcm90b3R5cGUuY3JlYXRlTWFya2VyID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICBpZiAob3B0aW9ucy5sYXQgPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMubG5nID09IHVuZGVmaW5lZCAmJiBvcHRpb25zLnBvc2l0aW9uID09IHVuZGVmaW5lZCkge1xuICAgIHRocm93ICdObyBsYXRpdHVkZSBvciBsb25naXR1ZGUgZGVmaW5lZC4nO1xuICB9XG5cbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgZGV0YWlscyA9IG9wdGlvbnMuZGV0YWlscyxcbiAgICAgIGZlbmNlcyA9IG9wdGlvbnMuZmVuY2VzLFxuICAgICAgb3V0c2lkZSA9IG9wdGlvbnMub3V0c2lkZSxcbiAgICAgIGJhc2Vfb3B0aW9ucyA9IHtcbiAgICAgICAgcG9zaXRpb246IG5ldyBnb29nbGUubWFwcy5MYXRMbmcob3B0aW9ucy5sYXQsIG9wdGlvbnMubG5nKSxcbiAgICAgICAgbWFwOiBudWxsXG4gICAgICB9LFxuICAgICAgbWFya2VyX29wdGlvbnMgPSBleHRlbmRfb2JqZWN0KGJhc2Vfb3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgZGVsZXRlIG1hcmtlcl9vcHRpb25zLmxhdDtcbiAgZGVsZXRlIG1hcmtlcl9vcHRpb25zLmxuZztcbiAgZGVsZXRlIG1hcmtlcl9vcHRpb25zLmZlbmNlcztcbiAgZGVsZXRlIG1hcmtlcl9vcHRpb25zLm91dHNpZGU7XG5cbiAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIobWFya2VyX29wdGlvbnMpO1xuXG4gIG1hcmtlci5mZW5jZXMgPSBmZW5jZXM7XG5cbiAgaWYgKG9wdGlvbnMuaW5mb1dpbmRvdykge1xuICAgIG1hcmtlci5pbmZvV2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3cob3B0aW9ucy5pbmZvV2luZG93KTtcblxuICAgIHZhciBpbmZvX3dpbmRvd19ldmVudHMgPSBbJ2Nsb3NlY2xpY2snLCAnY29udGVudF9jaGFuZ2VkJywgJ2RvbXJlYWR5JywgJ3Bvc2l0aW9uX2NoYW5nZWQnLCAnemluZGV4X2NoYW5nZWQnXTtcblxuICAgIGZvciAodmFyIGV2ID0gMDsgZXYgPCBpbmZvX3dpbmRvd19ldmVudHMubGVuZ3RoOyBldisrKSB7XG4gICAgICAoZnVuY3Rpb24ob2JqZWN0LCBuYW1lKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmluZm9XaW5kb3dbbmFtZV0pIHtcbiAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihvYmplY3QsIG5hbWUsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgb3B0aW9ucy5pbmZvV2luZG93W25hbWVdLmFwcGx5KHRoaXMsIFtlXSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pKG1hcmtlci5pbmZvV2luZG93LCBpbmZvX3dpbmRvd19ldmVudHNbZXZdKTtcbiAgICB9XG4gIH1cblxuICB2YXIgbWFya2VyX2V2ZW50cyA9IFsnYW5pbWF0aW9uX2NoYW5nZWQnLCAnY2xpY2thYmxlX2NoYW5nZWQnLCAnY3Vyc29yX2NoYW5nZWQnLCAnZHJhZ2dhYmxlX2NoYW5nZWQnLCAnZmxhdF9jaGFuZ2VkJywgJ2ljb25fY2hhbmdlZCcsICdwb3NpdGlvbl9jaGFuZ2VkJywgJ3NoYWRvd19jaGFuZ2VkJywgJ3NoYXBlX2NoYW5nZWQnLCAndGl0bGVfY2hhbmdlZCcsICd2aXNpYmxlX2NoYW5nZWQnLCAnemluZGV4X2NoYW5nZWQnXTtcblxuICB2YXIgbWFya2VyX2V2ZW50c193aXRoX21vdXNlID0gWydkYmxjbGljaycsICdkcmFnJywgJ2RyYWdlbmQnLCAnZHJhZ3N0YXJ0JywgJ21vdXNlZG93bicsICdtb3VzZW91dCcsICdtb3VzZW92ZXInLCAnbW91c2V1cCddO1xuXG4gIGZvciAodmFyIGV2ID0gMDsgZXYgPCBtYXJrZXJfZXZlbnRzLmxlbmd0aDsgZXYrKykge1xuICAgIChmdW5jdGlvbihvYmplY3QsIG5hbWUpIHtcbiAgICAgIGlmIChvcHRpb25zW25hbWVdKSB7XG4gICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG9iamVjdCwgbmFtZSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICBvcHRpb25zW25hbWVdLmFwcGx5KHRoaXMsIFt0aGlzXSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pKG1hcmtlciwgbWFya2VyX2V2ZW50c1tldl0pO1xuICB9XG5cbiAgZm9yICh2YXIgZXYgPSAwOyBldiA8IG1hcmtlcl9ldmVudHNfd2l0aF9tb3VzZS5sZW5ndGg7IGV2KyspIHtcbiAgICAoZnVuY3Rpb24obWFwLCBvYmplY3QsIG5hbWUpIHtcbiAgICAgIGlmIChvcHRpb25zW25hbWVdKSB7XG4gICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG9iamVjdCwgbmFtZSwgZnVuY3Rpb24obWUpe1xuICAgICAgICAgIGlmKCFtZS5waXhlbCl7XG4gICAgICAgICAgICBtZS5waXhlbCA9IG1hcC5nZXRQcm9qZWN0aW9uKCkuZnJvbUxhdExuZ1RvUG9pbnQobWUubGF0TG5nKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG9wdGlvbnNbbmFtZV0uYXBwbHkodGhpcywgW21lXSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pKHRoaXMubWFwLCBtYXJrZXIsIG1hcmtlcl9ldmVudHNfd2l0aF9tb3VzZVtldl0pO1xuICB9XG5cbiAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCAnY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmRldGFpbHMgPSBkZXRhaWxzO1xuXG4gICAgaWYgKG9wdGlvbnMuY2xpY2spIHtcbiAgICAgIG9wdGlvbnMuY2xpY2suYXBwbHkodGhpcywgW3RoaXNdKTtcbiAgICB9XG5cbiAgICBpZiAobWFya2VyLmluZm9XaW5kb3cpIHtcbiAgICAgIHNlbGYuaGlkZUluZm9XaW5kb3dzKCk7XG4gICAgICBtYXJrZXIuaW5mb1dpbmRvdy5vcGVuKHNlbGYubWFwLCBtYXJrZXIpO1xuICAgIH1cbiAgfSk7XG5cbiAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCAncmlnaHRjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICBlLm1hcmtlciA9IHRoaXM7XG5cbiAgICBpZiAob3B0aW9ucy5yaWdodGNsaWNrKSB7XG4gICAgICBvcHRpb25zLnJpZ2h0Y2xpY2suYXBwbHkodGhpcywgW2VdKTtcbiAgICB9XG5cbiAgICBpZiAod2luZG93LmNvbnRleHRfbWVudVtzZWxmLmVsLmlkXVsnbWFya2VyJ10gIT0gdW5kZWZpbmVkKSB7XG4gICAgICBzZWxmLmJ1aWxkQ29udGV4dE1lbnUoJ21hcmtlcicsIGUpO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKG1hcmtlci5mZW5jZXMpIHtcbiAgICBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihtYXJrZXIsICdkcmFnZW5kJywgZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmNoZWNrTWFya2VyR2VvZmVuY2UobWFya2VyLCBmdW5jdGlvbihtLCBmKSB7XG4gICAgICAgIG91dHNpZGUobSwgZik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBtYXJrZXI7XG59O1xuXG5HTWFwcy5wcm90b3R5cGUuYWRkTWFya2VyID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB2YXIgbWFya2VyO1xuICBpZihvcHRpb25zLmhhc093blByb3BlcnR5KCdnbV9hY2Nlc3NvcnNfJykpIHtcbiAgICAvLyBOYXRpdmUgZ29vZ2xlLm1hcHMuTWFya2VyIG9iamVjdFxuICAgIG1hcmtlciA9IG9wdGlvbnM7XG4gIH1cbiAgZWxzZSB7XG4gICAgaWYgKChvcHRpb25zLmhhc093blByb3BlcnR5KCdsYXQnKSAmJiBvcHRpb25zLmhhc093blByb3BlcnR5KCdsbmcnKSkgfHwgb3B0aW9ucy5wb3NpdGlvbikge1xuICAgICAgbWFya2VyID0gdGhpcy5jcmVhdGVNYXJrZXIob3B0aW9ucyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhyb3cgJ05vIGxhdGl0dWRlIG9yIGxvbmdpdHVkZSBkZWZpbmVkLic7XG4gICAgfVxuICB9XG5cbiAgbWFya2VyLnNldE1hcCh0aGlzLm1hcCk7XG5cbiAgaWYodGhpcy5tYXJrZXJDbHVzdGVyZXIpIHtcbiAgICB0aGlzLm1hcmtlckNsdXN0ZXJlci5hZGRNYXJrZXIobWFya2VyKTtcbiAgfVxuXG4gIHRoaXMubWFya2Vycy5wdXNoKG1hcmtlcik7XG5cbiAgR01hcHMuZmlyZSgnbWFya2VyX2FkZGVkJywgbWFya2VyLCB0aGlzKTtcblxuICByZXR1cm4gbWFya2VyO1xufTtcblxuR01hcHMucHJvdG90eXBlLmFkZE1hcmtlcnMgPSBmdW5jdGlvbihhcnJheSkge1xuICBmb3IgKHZhciBpID0gMCwgbWFya2VyOyBtYXJrZXI9YXJyYXlbaV07IGkrKykge1xuICAgIHRoaXMuYWRkTWFya2VyKG1hcmtlcik7XG4gIH1cblxuICByZXR1cm4gdGhpcy5tYXJrZXJzO1xufTtcblxuR01hcHMucHJvdG90eXBlLmhpZGVJbmZvV2luZG93cyA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKHZhciBpID0gMCwgbWFya2VyOyBtYXJrZXIgPSB0aGlzLm1hcmtlcnNbaV07IGkrKyl7XG4gICAgaWYgKG1hcmtlci5pbmZvV2luZG93KSB7XG4gICAgICBtYXJrZXIuaW5mb1dpbmRvdy5jbG9zZSgpO1xuICAgIH1cbiAgfVxufTtcblxuR01hcHMucHJvdG90eXBlLnJlbW92ZU1hcmtlciA9IGZ1bmN0aW9uKG1hcmtlcikge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWFya2Vycy5sZW5ndGg7IGkrKykge1xuICAgIGlmICh0aGlzLm1hcmtlcnNbaV0gPT09IG1hcmtlcikge1xuICAgICAgdGhpcy5tYXJrZXJzW2ldLnNldE1hcChudWxsKTtcbiAgICAgIHRoaXMubWFya2Vycy5zcGxpY2UoaSwgMSk7XG5cbiAgICAgIGlmKHRoaXMubWFya2VyQ2x1c3RlcmVyKSB7XG4gICAgICAgIHRoaXMubWFya2VyQ2x1c3RlcmVyLnJlbW92ZU1hcmtlcihtYXJrZXIpO1xuICAgICAgfVxuXG4gICAgICBHTWFwcy5maXJlKCdtYXJrZXJfcmVtb3ZlZCcsIG1hcmtlciwgdGhpcyk7XG5cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBtYXJrZXI7XG59O1xuXG5HTWFwcy5wcm90b3R5cGUucmVtb3ZlTWFya2VycyA9IGZ1bmN0aW9uIChjb2xsZWN0aW9uKSB7XG4gIHZhciBuZXdfbWFya2VycyA9IFtdO1xuXG4gIGlmICh0eXBlb2YgY29sbGVjdGlvbiA9PSAndW5kZWZpbmVkJykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tYXJrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbWFya2VyID0gdGhpcy5tYXJrZXJzW2ldO1xuICAgICAgbWFya2VyLnNldE1hcChudWxsKTtcblxuICAgICAgR01hcHMuZmlyZSgnbWFya2VyX3JlbW92ZWQnLCBtYXJrZXIsIHRoaXMpO1xuICAgIH1cblxuICAgIGlmKHRoaXMubWFya2VyQ2x1c3RlcmVyICYmIHRoaXMubWFya2VyQ2x1c3RlcmVyLmNsZWFyTWFya2Vycykge1xuICAgICAgdGhpcy5tYXJrZXJDbHVzdGVyZXIuY2xlYXJNYXJrZXJzKCk7XG4gICAgfVxuXG4gICAgdGhpcy5tYXJrZXJzID0gbmV3X21hcmtlcnM7XG4gIH1cbiAgZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xsZWN0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaW5kZXggPSB0aGlzLm1hcmtlcnMuaW5kZXhPZihjb2xsZWN0aW9uW2ldKTtcblxuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgdmFyIG1hcmtlciA9IHRoaXMubWFya2Vyc1tpbmRleF07XG4gICAgICAgIG1hcmtlci5zZXRNYXAobnVsbCk7XG5cbiAgICAgICAgaWYodGhpcy5tYXJrZXJDbHVzdGVyZXIpIHtcbiAgICAgICAgICB0aGlzLm1hcmtlckNsdXN0ZXJlci5yZW1vdmVNYXJrZXIobWFya2VyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEdNYXBzLmZpcmUoJ21hcmtlcl9yZW1vdmVkJywgbWFya2VyLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWFya2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG1hcmtlciA9IHRoaXMubWFya2Vyc1tpXTtcbiAgICAgIGlmIChtYXJrZXIuZ2V0TWFwKCkgIT0gbnVsbCkge1xuICAgICAgICBuZXdfbWFya2Vycy5wdXNoKG1hcmtlcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5tYXJrZXJzID0gbmV3X21hcmtlcnM7XG4gIH1cbn07XG5cbkdNYXBzLnByb3RvdHlwZS5kcmF3T3ZlcmxheSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgdmFyIG92ZXJsYXkgPSBuZXcgZ29vZ2xlLm1hcHMuT3ZlcmxheVZpZXcoKSxcbiAgICAgIGF1dG9fc2hvdyA9IHRydWU7XG5cbiAgb3ZlcmxheS5zZXRNYXAodGhpcy5tYXApO1xuXG4gIGlmIChvcHRpb25zLmF1dG9fc2hvdyAhPSBudWxsKSB7XG4gICAgYXV0b19zaG93ID0gb3B0aW9ucy5hdXRvX3Nob3c7XG4gIH1cblxuICBvdmVybGF5Lm9uQWRkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICBlbC5zdHlsZS5ib3JkZXJTdHlsZSA9IFwibm9uZVwiO1xuICAgIGVsLnN0eWxlLmJvcmRlcldpZHRoID0gXCIwcHhcIjtcbiAgICBlbC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBlbC5zdHlsZS56SW5kZXggPSAxMDA7XG4gICAgZWwuaW5uZXJIVE1MID0gb3B0aW9ucy5jb250ZW50O1xuXG4gICAgb3ZlcmxheS5lbCA9IGVsO1xuXG4gICAgaWYgKCFvcHRpb25zLmxheWVyKSB7XG4gICAgICBvcHRpb25zLmxheWVyID0gJ292ZXJsYXlMYXllcic7XG4gICAgfVxuXG4gICAgdmFyIHBhbmVzID0gdGhpcy5nZXRQYW5lcygpLFxuICAgICAgICBvdmVybGF5TGF5ZXIgPSBwYW5lc1tvcHRpb25zLmxheWVyXSxcbiAgICAgICAgc3RvcF9vdmVybGF5X2V2ZW50cyA9IFsnY29udGV4dG1lbnUnLCAnRE9NTW91c2VTY3JvbGwnLCAnZGJsY2xpY2snLCAnbW91c2Vkb3duJ107XG5cbiAgICBvdmVybGF5TGF5ZXIuYXBwZW5kQ2hpbGQoZWwpO1xuXG4gICAgZm9yICh2YXIgZXYgPSAwOyBldiA8IHN0b3Bfb3ZlcmxheV9ldmVudHMubGVuZ3RoOyBldisrKSB7XG4gICAgICAoZnVuY3Rpb24ob2JqZWN0LCBuYW1lKSB7XG4gICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZERvbUxpc3RlbmVyKG9iamVjdCwgbmFtZSwgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdtc2llJykgIT0gLTEgJiYgZG9jdW1lbnQuYWxsKSB7XG4gICAgICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSkoZWwsIHN0b3Bfb3ZlcmxheV9ldmVudHNbZXZdKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5jbGljaykge1xuICAgICAgcGFuZXMub3ZlcmxheU1vdXNlVGFyZ2V0LmFwcGVuZENoaWxkKG92ZXJsYXkuZWwpO1xuICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIob3ZlcmxheS5lbCwgJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIG9wdGlvbnMuY2xpY2suYXBwbHkob3ZlcmxheSwgW292ZXJsYXldKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIodGhpcywgJ3JlYWR5Jyk7XG4gIH07XG5cbiAgb3ZlcmxheS5kcmF3ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHByb2plY3Rpb24gPSB0aGlzLmdldFByb2plY3Rpb24oKSxcbiAgICAgICAgcGl4ZWwgPSBwcm9qZWN0aW9uLmZyb21MYXRMbmdUb0RpdlBpeGVsKG5ldyBnb29nbGUubWFwcy5MYXRMbmcob3B0aW9ucy5sYXQsIG9wdGlvbnMubG5nKSk7XG5cbiAgICBvcHRpb25zLmhvcml6b250YWxPZmZzZXQgPSBvcHRpb25zLmhvcml6b250YWxPZmZzZXQgfHwgMDtcbiAgICBvcHRpb25zLnZlcnRpY2FsT2Zmc2V0ID0gb3B0aW9ucy52ZXJ0aWNhbE9mZnNldCB8fCAwO1xuXG4gICAgdmFyIGVsID0gb3ZlcmxheS5lbCxcbiAgICAgICAgY29udGVudCA9IGVsLmNoaWxkcmVuWzBdLFxuICAgICAgICBjb250ZW50X2hlaWdodCA9IGNvbnRlbnQuY2xpZW50SGVpZ2h0LFxuICAgICAgICBjb250ZW50X3dpZHRoID0gY29udGVudC5jbGllbnRXaWR0aDtcblxuICAgIHN3aXRjaCAob3B0aW9ucy52ZXJ0aWNhbEFsaWduKSB7XG4gICAgICBjYXNlICd0b3AnOlxuICAgICAgICBlbC5zdHlsZS50b3AgPSAocGl4ZWwueSAtIGNvbnRlbnRfaGVpZ2h0ICsgb3B0aW9ucy52ZXJ0aWNhbE9mZnNldCkgKyAncHgnO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICBjYXNlICdtaWRkbGUnOlxuICAgICAgICBlbC5zdHlsZS50b3AgPSAocGl4ZWwueSAtIChjb250ZW50X2hlaWdodCAvIDIpICsgb3B0aW9ucy52ZXJ0aWNhbE9mZnNldCkgKyAncHgnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgIGVsLnN0eWxlLnRvcCA9IChwaXhlbC55ICsgb3B0aW9ucy52ZXJ0aWNhbE9mZnNldCkgKyAncHgnO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBzd2l0Y2ggKG9wdGlvbnMuaG9yaXpvbnRhbEFsaWduKSB7XG4gICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgZWwuc3R5bGUubGVmdCA9IChwaXhlbC54IC0gY29udGVudF93aWR0aCArIG9wdGlvbnMuaG9yaXpvbnRhbE9mZnNldCkgKyAncHgnO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICBjYXNlICdjZW50ZXInOlxuICAgICAgICBlbC5zdHlsZS5sZWZ0ID0gKHBpeGVsLnggLSAoY29udGVudF93aWR0aCAvIDIpICsgb3B0aW9ucy5ob3Jpem9udGFsT2Zmc2V0KSArICdweCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICBlbC5zdHlsZS5sZWZ0ID0gKHBpeGVsLnggKyBvcHRpb25zLmhvcml6b250YWxPZmZzZXQpICsgJ3B4JztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgZWwuc3R5bGUuZGlzcGxheSA9IGF1dG9fc2hvdyA/ICdibG9jaycgOiAnbm9uZSc7XG5cbiAgICBpZiAoIWF1dG9fc2hvdykge1xuICAgICAgb3B0aW9ucy5zaG93LmFwcGx5KHRoaXMsIFtlbF0pO1xuICAgIH1cbiAgfTtcblxuICBvdmVybGF5Lm9uUmVtb3ZlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGVsID0gb3ZlcmxheS5lbDtcblxuICAgIGlmIChvcHRpb25zLnJlbW92ZSkge1xuICAgICAgb3B0aW9ucy5yZW1vdmUuYXBwbHkodGhpcywgW2VsXSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgb3ZlcmxheS5lbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG92ZXJsYXkuZWwpO1xuICAgICAgb3ZlcmxheS5lbCA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMub3ZlcmxheXMucHVzaChvdmVybGF5KTtcbiAgcmV0dXJuIG92ZXJsYXk7XG59O1xuXG5HTWFwcy5wcm90b3R5cGUucmVtb3ZlT3ZlcmxheSA9IGZ1bmN0aW9uKG92ZXJsYXkpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm92ZXJsYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHRoaXMub3ZlcmxheXNbaV0gPT09IG92ZXJsYXkpIHtcbiAgICAgIHRoaXMub3ZlcmxheXNbaV0uc2V0TWFwKG51bGwpO1xuICAgICAgdGhpcy5vdmVybGF5cy5zcGxpY2UoaSwgMSk7XG5cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufTtcblxuR01hcHMucHJvdG90eXBlLnJlbW92ZU92ZXJsYXlzID0gZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIGkgPSAwLCBpdGVtOyBpdGVtID0gdGhpcy5vdmVybGF5c1tpXTsgaSsrKSB7XG4gICAgaXRlbS5zZXRNYXAobnVsbCk7XG4gIH1cblxuICB0aGlzLm92ZXJsYXlzID0gW107XG59O1xuXG5HTWFwcy5wcm90b3R5cGUuZHJhd1BvbHlsaW5lID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB2YXIgcGF0aCA9IFtdLFxuICAgICAgcG9pbnRzID0gb3B0aW9ucy5wYXRoO1xuXG4gIGlmIChwb2ludHMubGVuZ3RoKSB7XG4gICAgaWYgKHBvaW50c1swXVswXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBwYXRoID0gcG9pbnRzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsYXRsbmc7IGxhdGxuZyA9IHBvaW50c1tpXTsgaSsrKSB7XG4gICAgICAgIHBhdGgucHVzaChuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxhdGxuZ1swXSwgbGF0bG5nWzFdKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIHBvbHlsaW5lX29wdGlvbnMgPSB7XG4gICAgbWFwOiB0aGlzLm1hcCxcbiAgICBwYXRoOiBwYXRoLFxuICAgIHN0cm9rZUNvbG9yOiBvcHRpb25zLnN0cm9rZUNvbG9yLFxuICAgIHN0cm9rZU9wYWNpdHk6IG9wdGlvbnMuc3Ryb2tlT3BhY2l0eSxcbiAgICBzdHJva2VXZWlnaHQ6IG9wdGlvbnMuc3Ryb2tlV2VpZ2h0LFxuICAgIGdlb2Rlc2ljOiBvcHRpb25zLmdlb2Rlc2ljLFxuICAgIGNsaWNrYWJsZTogdHJ1ZSxcbiAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgdmlzaWJsZTogdHJ1ZVxuICB9O1xuXG4gIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KFwiY2xpY2thYmxlXCIpKSB7XG4gICAgcG9seWxpbmVfb3B0aW9ucy5jbGlja2FibGUgPSBvcHRpb25zLmNsaWNrYWJsZTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KFwiZWRpdGFibGVcIikpIHtcbiAgICBwb2x5bGluZV9vcHRpb25zLmVkaXRhYmxlID0gb3B0aW9ucy5lZGl0YWJsZTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KFwiaWNvbnNcIikpIHtcbiAgICBwb2x5bGluZV9vcHRpb25zLmljb25zID0gb3B0aW9ucy5pY29ucztcbiAgfVxuXG4gIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KFwiekluZGV4XCIpKSB7XG4gICAgcG9seWxpbmVfb3B0aW9ucy56SW5kZXggPSBvcHRpb25zLnpJbmRleDtcbiAgfVxuXG4gIHZhciBwb2x5bGluZSA9IG5ldyBnb29nbGUubWFwcy5Qb2x5bGluZShwb2x5bGluZV9vcHRpb25zKTtcblxuICB2YXIgcG9seWxpbmVfZXZlbnRzID0gWydjbGljaycsICdkYmxjbGljaycsICdtb3VzZWRvd24nLCAnbW91c2Vtb3ZlJywgJ21vdXNlb3V0JywgJ21vdXNlb3ZlcicsICdtb3VzZXVwJywgJ3JpZ2h0Y2xpY2snXTtcblxuICBmb3IgKHZhciBldiA9IDA7IGV2IDwgcG9seWxpbmVfZXZlbnRzLmxlbmd0aDsgZXYrKykge1xuICAgIChmdW5jdGlvbihvYmplY3QsIG5hbWUpIHtcbiAgICAgIGlmIChvcHRpb25zW25hbWVdKSB7XG4gICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG9iamVjdCwgbmFtZSwgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgb3B0aW9uc1tuYW1lXS5hcHBseSh0aGlzLCBbZV0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KShwb2x5bGluZSwgcG9seWxpbmVfZXZlbnRzW2V2XSk7XG4gIH1cblxuICB0aGlzLnBvbHlsaW5lcy5wdXNoKHBvbHlsaW5lKTtcblxuICBHTWFwcy5maXJlKCdwb2x5bGluZV9hZGRlZCcsIHBvbHlsaW5lLCB0aGlzKTtcblxuICByZXR1cm4gcG9seWxpbmU7XG59O1xuXG5HTWFwcy5wcm90b3R5cGUucmVtb3ZlUG9seWxpbmUgPSBmdW5jdGlvbihwb2x5bGluZSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucG9seWxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHRoaXMucG9seWxpbmVzW2ldID09PSBwb2x5bGluZSkge1xuICAgICAgdGhpcy5wb2x5bGluZXNbaV0uc2V0TWFwKG51bGwpO1xuICAgICAgdGhpcy5wb2x5bGluZXMuc3BsaWNlKGksIDEpO1xuXG4gICAgICBHTWFwcy5maXJlKCdwb2x5bGluZV9yZW1vdmVkJywgcG9seWxpbmUsIHRoaXMpO1xuXG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbn07XG5cbkdNYXBzLnByb3RvdHlwZS5yZW1vdmVQb2x5bGluZXMgPSBmdW5jdGlvbigpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGl0ZW07IGl0ZW0gPSB0aGlzLnBvbHlsaW5lc1tpXTsgaSsrKSB7XG4gICAgaXRlbS5zZXRNYXAobnVsbCk7XG4gIH1cblxuICB0aGlzLnBvbHlsaW5lcyA9IFtdO1xufTtcblxuR01hcHMucHJvdG90eXBlLmRyYXdDaXJjbGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSAgZXh0ZW5kX29iamVjdCh7XG4gICAgbWFwOiB0aGlzLm1hcCxcbiAgICBjZW50ZXI6IG5ldyBnb29nbGUubWFwcy5MYXRMbmcob3B0aW9ucy5sYXQsIG9wdGlvbnMubG5nKVxuICB9LCBvcHRpb25zKTtcblxuICBkZWxldGUgb3B0aW9ucy5sYXQ7XG4gIGRlbGV0ZSBvcHRpb25zLmxuZztcblxuICB2YXIgcG9seWdvbiA9IG5ldyBnb29nbGUubWFwcy5DaXJjbGUob3B0aW9ucyksXG4gICAgICBwb2x5Z29uX2V2ZW50cyA9IFsnY2xpY2snLCAnZGJsY2xpY2snLCAnbW91c2Vkb3duJywgJ21vdXNlbW92ZScsICdtb3VzZW91dCcsICdtb3VzZW92ZXInLCAnbW91c2V1cCcsICdyaWdodGNsaWNrJ107XG5cbiAgZm9yICh2YXIgZXYgPSAwOyBldiA8IHBvbHlnb25fZXZlbnRzLmxlbmd0aDsgZXYrKykge1xuICAgIChmdW5jdGlvbihvYmplY3QsIG5hbWUpIHtcbiAgICAgIGlmIChvcHRpb25zW25hbWVdKSB7XG4gICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG9iamVjdCwgbmFtZSwgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgb3B0aW9uc1tuYW1lXS5hcHBseSh0aGlzLCBbZV0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KShwb2x5Z29uLCBwb2x5Z29uX2V2ZW50c1tldl0pO1xuICB9XG5cbiAgdGhpcy5wb2x5Z29ucy5wdXNoKHBvbHlnb24pO1xuXG4gIHJldHVybiBwb2x5Z29uO1xufTtcblxuR01hcHMucHJvdG90eXBlLmRyYXdSZWN0YW5nbGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBleHRlbmRfb2JqZWN0KHtcbiAgICBtYXA6IHRoaXMubWFwXG4gIH0sIG9wdGlvbnMpO1xuXG4gIHZhciBsYXRMbmdCb3VuZHMgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKFxuICAgIG5ldyBnb29nbGUubWFwcy5MYXRMbmcob3B0aW9ucy5ib3VuZHNbMF1bMF0sIG9wdGlvbnMuYm91bmRzWzBdWzFdKSxcbiAgICBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKG9wdGlvbnMuYm91bmRzWzFdWzBdLCBvcHRpb25zLmJvdW5kc1sxXVsxXSlcbiAgKTtcblxuICBvcHRpb25zLmJvdW5kcyA9IGxhdExuZ0JvdW5kcztcblxuICB2YXIgcG9seWdvbiA9IG5ldyBnb29nbGUubWFwcy5SZWN0YW5nbGUob3B0aW9ucyksXG4gICAgICBwb2x5Z29uX2V2ZW50cyA9IFsnY2xpY2snLCAnZGJsY2xpY2snLCAnbW91c2Vkb3duJywgJ21vdXNlbW92ZScsICdtb3VzZW91dCcsICdtb3VzZW92ZXInLCAnbW91c2V1cCcsICdyaWdodGNsaWNrJ107XG5cbiAgZm9yICh2YXIgZXYgPSAwOyBldiA8IHBvbHlnb25fZXZlbnRzLmxlbmd0aDsgZXYrKykge1xuICAgIChmdW5jdGlvbihvYmplY3QsIG5hbWUpIHtcbiAgICAgIGlmIChvcHRpb25zW25hbWVdKSB7XG4gICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG9iamVjdCwgbmFtZSwgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgb3B0aW9uc1tuYW1lXS5hcHBseSh0aGlzLCBbZV0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KShwb2x5Z29uLCBwb2x5Z29uX2V2ZW50c1tldl0pO1xuICB9XG5cbiAgdGhpcy5wb2x5Z29ucy5wdXNoKHBvbHlnb24pO1xuXG4gIHJldHVybiBwb2x5Z29uO1xufTtcblxuR01hcHMucHJvdG90eXBlLmRyYXdQb2x5Z29uID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB2YXIgdXNlR2VvSlNPTiA9IGZhbHNlO1xuXG4gIGlmKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJ1c2VHZW9KU09OXCIpKSB7XG4gICAgdXNlR2VvSlNPTiA9IG9wdGlvbnMudXNlR2VvSlNPTjtcbiAgfVxuXG4gIGRlbGV0ZSBvcHRpb25zLnVzZUdlb0pTT047XG5cbiAgb3B0aW9ucyA9IGV4dGVuZF9vYmplY3Qoe1xuICAgIG1hcDogdGhpcy5tYXBcbiAgfSwgb3B0aW9ucyk7XG5cbiAgaWYgKHVzZUdlb0pTT04gPT0gZmFsc2UpIHtcbiAgICBvcHRpb25zLnBhdGhzID0gW29wdGlvbnMucGF0aHMuc2xpY2UoMCldO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMucGF0aHMubGVuZ3RoID4gMCkge1xuICAgIGlmIChvcHRpb25zLnBhdGhzWzBdLmxlbmd0aCA+IDApIHtcbiAgICAgIG9wdGlvbnMucGF0aHMgPSBhcnJheV9mbGF0KGFycmF5X21hcChvcHRpb25zLnBhdGhzLCBhcnJheVRvTGF0TG5nLCB1c2VHZW9KU09OKSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHBvbHlnb24gPSBuZXcgZ29vZ2xlLm1hcHMuUG9seWdvbihvcHRpb25zKSxcbiAgICAgIHBvbHlnb25fZXZlbnRzID0gWydjbGljaycsICdkYmxjbGljaycsICdtb3VzZWRvd24nLCAnbW91c2Vtb3ZlJywgJ21vdXNlb3V0JywgJ21vdXNlb3ZlcicsICdtb3VzZXVwJywgJ3JpZ2h0Y2xpY2snXTtcblxuICBmb3IgKHZhciBldiA9IDA7IGV2IDwgcG9seWdvbl9ldmVudHMubGVuZ3RoOyBldisrKSB7XG4gICAgKGZ1bmN0aW9uKG9iamVjdCwgbmFtZSkge1xuICAgICAgaWYgKG9wdGlvbnNbbmFtZV0pIHtcbiAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIob2JqZWN0LCBuYW1lLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICBvcHRpb25zW25hbWVdLmFwcGx5KHRoaXMsIFtlXSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pKHBvbHlnb24sIHBvbHlnb25fZXZlbnRzW2V2XSk7XG4gIH1cblxuICB0aGlzLnBvbHlnb25zLnB1c2gocG9seWdvbik7XG5cbiAgR01hcHMuZmlyZSgncG9seWdvbl9hZGRlZCcsIHBvbHlnb24sIHRoaXMpO1xuXG4gIHJldHVybiBwb2x5Z29uO1xufTtcblxuR01hcHMucHJvdG90eXBlLnJlbW92ZVBvbHlnb24gPSBmdW5jdGlvbihwb2x5Z29uKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wb2x5Z29ucy5sZW5ndGg7IGkrKykge1xuICAgIGlmICh0aGlzLnBvbHlnb25zW2ldID09PSBwb2x5Z29uKSB7XG4gICAgICB0aGlzLnBvbHlnb25zW2ldLnNldE1hcChudWxsKTtcbiAgICAgIHRoaXMucG9seWdvbnMuc3BsaWNlKGksIDEpO1xuXG4gICAgICBHTWFwcy5maXJlKCdwb2x5Z29uX3JlbW92ZWQnLCBwb2x5Z29uLCB0aGlzKTtcblxuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59O1xuXG5HTWFwcy5wcm90b3R5cGUucmVtb3ZlUG9seWdvbnMgPSBmdW5jdGlvbigpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGl0ZW07IGl0ZW0gPSB0aGlzLnBvbHlnb25zW2ldOyBpKyspIHtcbiAgICBpdGVtLnNldE1hcChudWxsKTtcbiAgfVxuXG4gIHRoaXMucG9seWdvbnMgPSBbXTtcbn07XG5cbkdNYXBzLnByb3RvdHlwZS5nZXRGcm9tRnVzaW9uVGFibGVzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB2YXIgZXZlbnRzID0gb3B0aW9ucy5ldmVudHM7XG5cbiAgZGVsZXRlIG9wdGlvbnMuZXZlbnRzO1xuXG4gIHZhciBmdXNpb25fdGFibGVzX29wdGlvbnMgPSBvcHRpb25zLFxuICAgICAgbGF5ZXIgPSBuZXcgZ29vZ2xlLm1hcHMuRnVzaW9uVGFibGVzTGF5ZXIoZnVzaW9uX3RhYmxlc19vcHRpb25zKTtcblxuICBmb3IgKHZhciBldiBpbiBldmVudHMpIHtcbiAgICAoZnVuY3Rpb24ob2JqZWN0LCBuYW1lKSB7XG4gICAgICBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihvYmplY3QsIG5hbWUsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZXZlbnRzW25hbWVdLmFwcGx5KHRoaXMsIFtlXSk7XG4gICAgICB9KTtcbiAgICB9KShsYXllciwgZXYpO1xuICB9XG5cbiAgdGhpcy5sYXllcnMucHVzaChsYXllcik7XG5cbiAgcmV0dXJuIGxheWVyO1xufTtcblxuR01hcHMucHJvdG90eXBlLmxvYWRGcm9tRnVzaW9uVGFibGVzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB2YXIgbGF5ZXIgPSB0aGlzLmdldEZyb21GdXNpb25UYWJsZXMob3B0aW9ucyk7XG4gIGxheWVyLnNldE1hcCh0aGlzLm1hcCk7XG5cbiAgcmV0dXJuIGxheWVyO1xufTtcblxuR01hcHMucHJvdG90eXBlLmdldEZyb21LTUwgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHZhciB1cmwgPSBvcHRpb25zLnVybCxcbiAgICAgIGV2ZW50cyA9IG9wdGlvbnMuZXZlbnRzO1xuXG4gIGRlbGV0ZSBvcHRpb25zLnVybDtcbiAgZGVsZXRlIG9wdGlvbnMuZXZlbnRzO1xuXG4gIHZhciBrbWxfb3B0aW9ucyA9IG9wdGlvbnMsXG4gICAgICBsYXllciA9IG5ldyBnb29nbGUubWFwcy5LbWxMYXllcih1cmwsIGttbF9vcHRpb25zKTtcblxuICBmb3IgKHZhciBldiBpbiBldmVudHMpIHtcbiAgICAoZnVuY3Rpb24ob2JqZWN0LCBuYW1lKSB7XG4gICAgICBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihvYmplY3QsIG5hbWUsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZXZlbnRzW25hbWVdLmFwcGx5KHRoaXMsIFtlXSk7XG4gICAgICB9KTtcbiAgICB9KShsYXllciwgZXYpO1xuICB9XG5cbiAgdGhpcy5sYXllcnMucHVzaChsYXllcik7XG5cbiAgcmV0dXJuIGxheWVyO1xufTtcblxuR01hcHMucHJvdG90eXBlLmxvYWRGcm9tS01MID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB2YXIgbGF5ZXIgPSB0aGlzLmdldEZyb21LTUwob3B0aW9ucyk7XG4gIGxheWVyLnNldE1hcCh0aGlzLm1hcCk7XG5cbiAgcmV0dXJuIGxheWVyO1xufTtcblxuR01hcHMucHJvdG90eXBlLmFkZExheWVyID0gZnVuY3Rpb24obGF5ZXJOYW1lLCBvcHRpb25zKSB7XG4gIC8vdmFyIGRlZmF1bHRfbGF5ZXJzID0gWyd3ZWF0aGVyJywgJ2Nsb3VkcycsICd0cmFmZmljJywgJ3RyYW5zaXQnLCAnYmljeWNsaW5nJywgJ3Bhbm9yYW1pbycsICdwbGFjZXMnXTtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBsYXllcjtcblxuICBzd2l0Y2gobGF5ZXJOYW1lKSB7XG4gICAgY2FzZSAnd2VhdGhlcic6IHRoaXMuc2luZ2xlTGF5ZXJzLndlYXRoZXIgPSBsYXllciA9IG5ldyBnb29nbGUubWFwcy53ZWF0aGVyLldlYXRoZXJMYXllcigpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnY2xvdWRzJzogdGhpcy5zaW5nbGVMYXllcnMuY2xvdWRzID0gbGF5ZXIgPSBuZXcgZ29vZ2xlLm1hcHMud2VhdGhlci5DbG91ZExheWVyKCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0cmFmZmljJzogdGhpcy5zaW5nbGVMYXllcnMudHJhZmZpYyA9IGxheWVyID0gbmV3IGdvb2dsZS5tYXBzLlRyYWZmaWNMYXllcigpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndHJhbnNpdCc6IHRoaXMuc2luZ2xlTGF5ZXJzLnRyYW5zaXQgPSBsYXllciA9IG5ldyBnb29nbGUubWFwcy5UcmFuc2l0TGF5ZXIoKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2JpY3ljbGluZyc6IHRoaXMuc2luZ2xlTGF5ZXJzLmJpY3ljbGluZyA9IGxheWVyID0gbmV3IGdvb2dsZS5tYXBzLkJpY3ljbGluZ0xheWVyKCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdwYW5vcmFtaW8nOlxuICAgICAgICB0aGlzLnNpbmdsZUxheWVycy5wYW5vcmFtaW8gPSBsYXllciA9IG5ldyBnb29nbGUubWFwcy5wYW5vcmFtaW8uUGFub3JhbWlvTGF5ZXIoKTtcbiAgICAgICAgbGF5ZXIuc2V0VGFnKG9wdGlvbnMuZmlsdGVyKTtcbiAgICAgICAgZGVsZXRlIG9wdGlvbnMuZmlsdGVyO1xuXG4gICAgICAgIC8vY2xpY2sgZXZlbnRcbiAgICAgICAgaWYgKG9wdGlvbnMuY2xpY2spIHtcbiAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihsYXllciwgJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuY2xpY2soZXZlbnQpO1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuY2xpY2s7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncGxhY2VzJzpcbiAgICAgICAgdGhpcy5zaW5nbGVMYXllcnMucGxhY2VzID0gbGF5ZXIgPSBuZXcgZ29vZ2xlLm1hcHMucGxhY2VzLlBsYWNlc1NlcnZpY2UodGhpcy5tYXApO1xuXG4gICAgICAgIC8vc2VhcmNoLCBuZWFyYnlTZWFyY2gsIHJhZGFyU2VhcmNoIGNhbGxiYWNrLCBCb3RoIGFyZSB0aGUgc2FtZVxuICAgICAgICBpZiAob3B0aW9ucy5zZWFyY2ggfHwgb3B0aW9ucy5uZWFyYnlTZWFyY2ggfHwgb3B0aW9ucy5yYWRhclNlYXJjaCkge1xuICAgICAgICAgIHZhciBwbGFjZVNlYXJjaFJlcXVlc3QgID0ge1xuICAgICAgICAgICAgYm91bmRzIDogb3B0aW9ucy5ib3VuZHMgfHwgbnVsbCxcbiAgICAgICAgICAgIGtleXdvcmQgOiBvcHRpb25zLmtleXdvcmQgfHwgbnVsbCxcbiAgICAgICAgICAgIGxvY2F0aW9uIDogb3B0aW9ucy5sb2NhdGlvbiB8fCBudWxsLFxuICAgICAgICAgICAgbmFtZSA6IG9wdGlvbnMubmFtZSB8fCBudWxsLFxuICAgICAgICAgICAgcmFkaXVzIDogb3B0aW9ucy5yYWRpdXMgfHwgbnVsbCxcbiAgICAgICAgICAgIHJhbmtCeSA6IG9wdGlvbnMucmFua0J5IHx8IG51bGwsXG4gICAgICAgICAgICB0eXBlcyA6IG9wdGlvbnMudHlwZXMgfHwgbnVsbFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAob3B0aW9ucy5yYWRhclNlYXJjaCkge1xuICAgICAgICAgICAgbGF5ZXIucmFkYXJTZWFyY2gocGxhY2VTZWFyY2hSZXF1ZXN0LCBvcHRpb25zLnJhZGFyU2VhcmNoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob3B0aW9ucy5zZWFyY2gpIHtcbiAgICAgICAgICAgIGxheWVyLnNlYXJjaChwbGFjZVNlYXJjaFJlcXVlc3QsIG9wdGlvbnMuc2VhcmNoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob3B0aW9ucy5uZWFyYnlTZWFyY2gpIHtcbiAgICAgICAgICAgIGxheWVyLm5lYXJieVNlYXJjaChwbGFjZVNlYXJjaFJlcXVlc3QsIG9wdGlvbnMubmVhcmJ5U2VhcmNoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvL3RleHRTZWFyY2ggY2FsbGJhY2tcbiAgICAgICAgaWYgKG9wdGlvbnMudGV4dFNlYXJjaCkge1xuICAgICAgICAgIHZhciB0ZXh0U2VhcmNoUmVxdWVzdCAgPSB7XG4gICAgICAgICAgICBib3VuZHMgOiBvcHRpb25zLmJvdW5kcyB8fCBudWxsLFxuICAgICAgICAgICAgbG9jYXRpb24gOiBvcHRpb25zLmxvY2F0aW9uIHx8IG51bGwsXG4gICAgICAgICAgICBxdWVyeSA6IG9wdGlvbnMucXVlcnkgfHwgbnVsbCxcbiAgICAgICAgICAgIHJhZGl1cyA6IG9wdGlvbnMucmFkaXVzIHx8IG51bGxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgbGF5ZXIudGV4dFNlYXJjaCh0ZXh0U2VhcmNoUmVxdWVzdCwgb3B0aW9ucy50ZXh0U2VhcmNoKTtcbiAgICAgICAgfVxuICAgICAgYnJlYWs7XG4gIH1cblxuICBpZiAobGF5ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICh0eXBlb2YgbGF5ZXIuc2V0T3B0aW9ucyA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBsYXllci5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGxheWVyLnNldE1hcCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBsYXllci5zZXRNYXAodGhpcy5tYXApO1xuICAgIH1cblxuICAgIHJldHVybiBsYXllcjtcbiAgfVxufTtcblxuR01hcHMucHJvdG90eXBlLnJlbW92ZUxheWVyID0gZnVuY3Rpb24obGF5ZXIpIHtcbiAgaWYgKHR5cGVvZihsYXllcikgPT0gXCJzdHJpbmdcIiAmJiB0aGlzLnNpbmdsZUxheWVyc1tsYXllcl0gIT09IHVuZGVmaW5lZCkge1xuICAgICB0aGlzLnNpbmdsZUxheWVyc1tsYXllcl0uc2V0TWFwKG51bGwpO1xuXG4gICAgIGRlbGV0ZSB0aGlzLnNpbmdsZUxheWVyc1tsYXllcl07XG4gIH1cbiAgZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxheWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMubGF5ZXJzW2ldID09PSBsYXllcikge1xuICAgICAgICB0aGlzLmxheWVyc1tpXS5zZXRNYXAobnVsbCk7XG4gICAgICAgIHRoaXMubGF5ZXJzLnNwbGljZShpLCAxKTtcblxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbnZhciB0cmF2ZWxNb2RlLCB1bml0U3lzdGVtO1xuXG5HTWFwcy5wcm90b3R5cGUuZ2V0Um91dGVzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICBzd2l0Y2ggKG9wdGlvbnMudHJhdmVsTW9kZSkge1xuICAgIGNhc2UgJ2JpY3ljbGluZyc6XG4gICAgICB0cmF2ZWxNb2RlID0gZ29vZ2xlLm1hcHMuVHJhdmVsTW9kZS5CSUNZQ0xJTkc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0cmFuc2l0JzpcbiAgICAgIHRyYXZlbE1vZGUgPSBnb29nbGUubWFwcy5UcmF2ZWxNb2RlLlRSQU5TSVQ7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdkcml2aW5nJzpcbiAgICAgIHRyYXZlbE1vZGUgPSBnb29nbGUubWFwcy5UcmF2ZWxNb2RlLkRSSVZJTkc7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdHJhdmVsTW9kZSA9IGdvb2dsZS5tYXBzLlRyYXZlbE1vZGUuV0FMS0lORztcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMudW5pdFN5c3RlbSA9PT0gJ2ltcGVyaWFsJykge1xuICAgIHVuaXRTeXN0ZW0gPSBnb29nbGUubWFwcy5Vbml0U3lzdGVtLklNUEVSSUFMO1xuICB9XG4gIGVsc2Uge1xuICAgIHVuaXRTeXN0ZW0gPSBnb29nbGUubWFwcy5Vbml0U3lzdGVtLk1FVFJJQztcbiAgfVxuXG4gIHZhciBiYXNlX29wdGlvbnMgPSB7XG4gICAgICAgIGF2b2lkSGlnaHdheXM6IGZhbHNlLFxuICAgICAgICBhdm9pZFRvbGxzOiBmYWxzZSxcbiAgICAgICAgb3B0aW1pemVXYXlwb2ludHM6IGZhbHNlLFxuICAgICAgICB3YXlwb2ludHM6IFtdXG4gICAgICB9LFxuICAgICAgcmVxdWVzdF9vcHRpb25zID0gIGV4dGVuZF9vYmplY3QoYmFzZV9vcHRpb25zLCBvcHRpb25zKTtcblxuICByZXF1ZXN0X29wdGlvbnMub3JpZ2luID0gL3N0cmluZy8udGVzdCh0eXBlb2Ygb3B0aW9ucy5vcmlnaW4pID8gb3B0aW9ucy5vcmlnaW4gOiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKG9wdGlvbnMub3JpZ2luWzBdLCBvcHRpb25zLm9yaWdpblsxXSk7XG4gIHJlcXVlc3Rfb3B0aW9ucy5kZXN0aW5hdGlvbiA9IC9zdHJpbmcvLnRlc3QodHlwZW9mIG9wdGlvbnMuZGVzdGluYXRpb24pID8gb3B0aW9ucy5kZXN0aW5hdGlvbiA6IG5ldyBnb29nbGUubWFwcy5MYXRMbmcob3B0aW9ucy5kZXN0aW5hdGlvblswXSwgb3B0aW9ucy5kZXN0aW5hdGlvblsxXSk7XG4gIHJlcXVlc3Rfb3B0aW9ucy50cmF2ZWxNb2RlID0gdHJhdmVsTW9kZTtcbiAgcmVxdWVzdF9vcHRpb25zLnVuaXRTeXN0ZW0gPSB1bml0U3lzdGVtO1xuXG4gIGRlbGV0ZSByZXF1ZXN0X29wdGlvbnMuY2FsbGJhY2s7XG4gIGRlbGV0ZSByZXF1ZXN0X29wdGlvbnMuZXJyb3I7XG5cbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgcm91dGVzID0gW10sXG4gICAgICBzZXJ2aWNlID0gbmV3IGdvb2dsZS5tYXBzLkRpcmVjdGlvbnNTZXJ2aWNlKCk7XG5cbiAgc2VydmljZS5yb3V0ZShyZXF1ZXN0X29wdGlvbnMsIGZ1bmN0aW9uKHJlc3VsdCwgc3RhdHVzKSB7XG4gICAgaWYgKHN0YXR1cyA9PT0gZ29vZ2xlLm1hcHMuRGlyZWN0aW9uc1N0YXR1cy5PSykge1xuICAgICAgZm9yICh2YXIgciBpbiByZXN1bHQucm91dGVzKSB7XG4gICAgICAgIGlmIChyZXN1bHQucm91dGVzLmhhc093blByb3BlcnR5KHIpKSB7XG4gICAgICAgICAgcm91dGVzLnB1c2gocmVzdWx0LnJvdXRlc1tyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuY2FsbGJhY2spIHtcbiAgICAgICAgb3B0aW9ucy5jYWxsYmFjayhyb3V0ZXMsIHJlc3VsdCwgc3RhdHVzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAob3B0aW9ucy5lcnJvcikge1xuICAgICAgICBvcHRpb25zLmVycm9yKHJlc3VsdCwgc3RhdHVzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufTtcblxuR01hcHMucHJvdG90eXBlLnJlbW92ZVJvdXRlcyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnJvdXRlcy5sZW5ndGggPSAwO1xufTtcblxuR01hcHMucHJvdG90eXBlLmdldEVsZXZhdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBleHRlbmRfb2JqZWN0KHtcbiAgICBsb2NhdGlvbnM6IFtdLFxuICAgIHBhdGggOiBmYWxzZSxcbiAgICBzYW1wbGVzIDogMjU2XG4gIH0sIG9wdGlvbnMpO1xuXG4gIGlmIChvcHRpb25zLmxvY2F0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgaWYgKG9wdGlvbnMubG9jYXRpb25zWzBdLmxlbmd0aCA+IDApIHtcbiAgICAgIG9wdGlvbnMubG9jYXRpb25zID0gYXJyYXlfZmxhdChhcnJheV9tYXAoW29wdGlvbnMubG9jYXRpb25zXSwgYXJyYXlUb0xhdExuZywgIGZhbHNlKSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNhbGxiYWNrID0gb3B0aW9ucy5jYWxsYmFjaztcbiAgZGVsZXRlIG9wdGlvbnMuY2FsbGJhY2s7XG5cbiAgdmFyIHNlcnZpY2UgPSBuZXcgZ29vZ2xlLm1hcHMuRWxldmF0aW9uU2VydmljZSgpO1xuXG4gIC8vbG9jYXRpb24gcmVxdWVzdFxuICBpZiAoIW9wdGlvbnMucGF0aCkge1xuICAgIGRlbGV0ZSBvcHRpb25zLnBhdGg7XG4gICAgZGVsZXRlIG9wdGlvbnMuc2FtcGxlcztcblxuICAgIHNlcnZpY2UuZ2V0RWxldmF0aW9uRm9yTG9jYXRpb25zKG9wdGlvbnMsIGZ1bmN0aW9uKHJlc3VsdCwgc3RhdHVzKSB7XG4gICAgICBpZiAoY2FsbGJhY2sgJiYgdHlwZW9mKGNhbGxiYWNrKSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNhbGxiYWNrKHJlc3VsdCwgc3RhdHVzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgLy9wYXRoIHJlcXVlc3RcbiAgfSBlbHNlIHtcbiAgICB2YXIgcGF0aFJlcXVlc3QgPSB7XG4gICAgICBwYXRoIDogb3B0aW9ucy5sb2NhdGlvbnMsXG4gICAgICBzYW1wbGVzIDogb3B0aW9ucy5zYW1wbGVzXG4gICAgfTtcblxuICAgIHNlcnZpY2UuZ2V0RWxldmF0aW9uQWxvbmdQYXRoKHBhdGhSZXF1ZXN0LCBmdW5jdGlvbihyZXN1bHQsIHN0YXR1cykge1xuICAgICBpZiAoY2FsbGJhY2sgJiYgdHlwZW9mKGNhbGxiYWNrKSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNhbGxiYWNrKHJlc3VsdCwgc3RhdHVzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcblxuR01hcHMucHJvdG90eXBlLmNsZWFuUm91dGUgPSBHTWFwcy5wcm90b3R5cGUucmVtb3ZlUG9seWxpbmVzO1xuXG5HTWFwcy5wcm90b3R5cGUucmVuZGVyUm91dGUgPSBmdW5jdGlvbihvcHRpb25zLCByZW5kZXJPcHRpb25zKSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIHBhbmVsID0gKCh0eXBlb2YgcmVuZGVyT3B0aW9ucy5wYW5lbCA9PT0gJ3N0cmluZycpID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocmVuZGVyT3B0aW9ucy5wYW5lbC5yZXBsYWNlKCcjJywgJycpKSA6IHJlbmRlck9wdGlvbnMucGFuZWwpLFxuICAgICAgZGlzcGxheTtcblxuICByZW5kZXJPcHRpb25zLnBhbmVsID0gcGFuZWw7XG4gIHJlbmRlck9wdGlvbnMgPSBleHRlbmRfb2JqZWN0KHtcbiAgICBtYXA6IHRoaXMubWFwXG4gIH0sIHJlbmRlck9wdGlvbnMpO1xuICBkaXNwbGF5ID0gbmV3IGdvb2dsZS5tYXBzLkRpcmVjdGlvbnNSZW5kZXJlcihyZW5kZXJPcHRpb25zKTtcblxuICB0aGlzLmdldFJvdXRlcyh7XG4gICAgb3JpZ2luOiBvcHRpb25zLm9yaWdpbixcbiAgICBkZXN0aW5hdGlvbjogb3B0aW9ucy5kZXN0aW5hdGlvbixcbiAgICB0cmF2ZWxNb2RlOiBvcHRpb25zLnRyYXZlbE1vZGUsXG4gICAgd2F5cG9pbnRzOiBvcHRpb25zLndheXBvaW50cyxcbiAgICB1bml0U3lzdGVtOiBvcHRpb25zLnVuaXRTeXN0ZW0sXG4gICAgZXJyb3I6IG9wdGlvbnMuZXJyb3IsXG4gICAgYXZvaWRIaWdod2F5czogb3B0aW9ucy5hdm9pZEhpZ2h3YXlzLFxuICAgIGF2b2lkVG9sbHM6IG9wdGlvbnMuYXZvaWRUb2xscyxcbiAgICBvcHRpbWl6ZVdheXBvaW50czogb3B0aW9ucy5vcHRpbWl6ZVdheXBvaW50cyxcbiAgICBjYWxsYmFjazogZnVuY3Rpb24ocm91dGVzLCByZXNwb25zZSwgc3RhdHVzKSB7XG4gICAgICBpZiAoc3RhdHVzID09PSBnb29nbGUubWFwcy5EaXJlY3Rpb25zU3RhdHVzLk9LKSB7XG4gICAgICAgIGRpc3BsYXkuc2V0RGlyZWN0aW9ucyhyZXNwb25zZSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG5cbkdNYXBzLnByb3RvdHlwZS5kcmF3Um91dGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICB0aGlzLmdldFJvdXRlcyh7XG4gICAgb3JpZ2luOiBvcHRpb25zLm9yaWdpbixcbiAgICBkZXN0aW5hdGlvbjogb3B0aW9ucy5kZXN0aW5hdGlvbixcbiAgICB0cmF2ZWxNb2RlOiBvcHRpb25zLnRyYXZlbE1vZGUsXG4gICAgd2F5cG9pbnRzOiBvcHRpb25zLndheXBvaW50cyxcbiAgICB1bml0U3lzdGVtOiBvcHRpb25zLnVuaXRTeXN0ZW0sXG4gICAgZXJyb3I6IG9wdGlvbnMuZXJyb3IsXG4gICAgYXZvaWRIaWdod2F5czogb3B0aW9ucy5hdm9pZEhpZ2h3YXlzLFxuICAgIGF2b2lkVG9sbHM6IG9wdGlvbnMuYXZvaWRUb2xscyxcbiAgICBvcHRpbWl6ZVdheXBvaW50czogb3B0aW9ucy5vcHRpbWl6ZVdheXBvaW50cyxcbiAgICBjYWxsYmFjazogZnVuY3Rpb24ocm91dGVzKSB7XG4gICAgICBpZiAocm91dGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIHBvbHlsaW5lX29wdGlvbnMgPSB7XG4gICAgICAgICAgcGF0aDogcm91dGVzW3JvdXRlcy5sZW5ndGggLSAxXS5vdmVydmlld19wYXRoLFxuICAgICAgICAgIHN0cm9rZUNvbG9yOiBvcHRpb25zLnN0cm9rZUNvbG9yLFxuICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IG9wdGlvbnMuc3Ryb2tlT3BhY2l0eSxcbiAgICAgICAgICBzdHJva2VXZWlnaHQ6IG9wdGlvbnMuc3Ryb2tlV2VpZ2h0XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJpY29uc1wiKSkge1xuICAgICAgICAgIHBvbHlsaW5lX29wdGlvbnMuaWNvbnMgPSBvcHRpb25zLmljb25zO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5kcmF3UG9seWxpbmUocG9seWxpbmVfb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuY2FsbGJhY2spIHtcbiAgICAgICAgICBvcHRpb25zLmNhbGxiYWNrKHJvdXRlc1tyb3V0ZXMubGVuZ3RoIC0gMV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG5cbkdNYXBzLnByb3RvdHlwZS50cmF2ZWxSb3V0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMub3JpZ2luICYmIG9wdGlvbnMuZGVzdGluYXRpb24pIHtcbiAgICB0aGlzLmdldFJvdXRlcyh7XG4gICAgICBvcmlnaW46IG9wdGlvbnMub3JpZ2luLFxuICAgICAgZGVzdGluYXRpb246IG9wdGlvbnMuZGVzdGluYXRpb24sXG4gICAgICB0cmF2ZWxNb2RlOiBvcHRpb25zLnRyYXZlbE1vZGUsXG4gICAgICB3YXlwb2ludHMgOiBvcHRpb25zLndheXBvaW50cyxcbiAgICAgIHVuaXRTeXN0ZW06IG9wdGlvbnMudW5pdFN5c3RlbSxcbiAgICAgIGVycm9yOiBvcHRpb25zLmVycm9yLFxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgLy9zdGFydCBjYWxsYmFja1xuICAgICAgICBpZiAoZS5sZW5ndGggPiAwICYmIG9wdGlvbnMuc3RhcnQpIHtcbiAgICAgICAgICBvcHRpb25zLnN0YXJ0KGVbZS5sZW5ndGggLSAxXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL3N0ZXAgY2FsbGJhY2tcbiAgICAgICAgaWYgKGUubGVuZ3RoID4gMCAmJiBvcHRpb25zLnN0ZXApIHtcbiAgICAgICAgICB2YXIgcm91dGUgPSBlW2UubGVuZ3RoIC0gMV07XG4gICAgICAgICAgaWYgKHJvdXRlLmxlZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIHN0ZXBzID0gcm91dGUubGVnc1swXS5zdGVwcztcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBzdGVwOyBzdGVwID0gc3RlcHNbaV07IGkrKykge1xuICAgICAgICAgICAgICBzdGVwLnN0ZXBfbnVtYmVyID0gaTtcbiAgICAgICAgICAgICAgb3B0aW9ucy5zdGVwKHN0ZXAsIChyb3V0ZS5sZWdzWzBdLnN0ZXBzLmxlbmd0aCAtIDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvL2VuZCBjYWxsYmFja1xuICAgICAgICBpZiAoZS5sZW5ndGggPiAwICYmIG9wdGlvbnMuZW5kKSB7XG4gICAgICAgICAgIG9wdGlvbnMuZW5kKGVbZS5sZW5ndGggLSAxXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBlbHNlIGlmIChvcHRpb25zLnJvdXRlKSB7XG4gICAgaWYgKG9wdGlvbnMucm91dGUubGVncy5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgc3RlcHMgPSBvcHRpb25zLnJvdXRlLmxlZ3NbMF0uc3RlcHM7XG4gICAgICBmb3IgKHZhciBpID0gMCwgc3RlcDsgc3RlcCA9IHN0ZXBzW2ldOyBpKyspIHtcbiAgICAgICAgc3RlcC5zdGVwX251bWJlciA9IGk7XG4gICAgICAgIG9wdGlvbnMuc3RlcChzdGVwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbkdNYXBzLnByb3RvdHlwZS5kcmF3U3RlcHBlZFJvdXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKG9wdGlvbnMub3JpZ2luICYmIG9wdGlvbnMuZGVzdGluYXRpb24pIHtcbiAgICB0aGlzLmdldFJvdXRlcyh7XG4gICAgICBvcmlnaW46IG9wdGlvbnMub3JpZ2luLFxuICAgICAgZGVzdGluYXRpb246IG9wdGlvbnMuZGVzdGluYXRpb24sXG4gICAgICB0cmF2ZWxNb2RlOiBvcHRpb25zLnRyYXZlbE1vZGUsXG4gICAgICB3YXlwb2ludHMgOiBvcHRpb25zLndheXBvaW50cyxcbiAgICAgIGVycm9yOiBvcHRpb25zLmVycm9yLFxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgLy9zdGFydCBjYWxsYmFja1xuICAgICAgICBpZiAoZS5sZW5ndGggPiAwICYmIG9wdGlvbnMuc3RhcnQpIHtcbiAgICAgICAgICBvcHRpb25zLnN0YXJ0KGVbZS5sZW5ndGggLSAxXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL3N0ZXAgY2FsbGJhY2tcbiAgICAgICAgaWYgKGUubGVuZ3RoID4gMCAmJiBvcHRpb25zLnN0ZXApIHtcbiAgICAgICAgICB2YXIgcm91dGUgPSBlW2UubGVuZ3RoIC0gMV07XG4gICAgICAgICAgaWYgKHJvdXRlLmxlZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIHN0ZXBzID0gcm91dGUubGVnc1swXS5zdGVwcztcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBzdGVwOyBzdGVwID0gc3RlcHNbaV07IGkrKykge1xuICAgICAgICAgICAgICBzdGVwLnN0ZXBfbnVtYmVyID0gaTtcbiAgICAgICAgICAgICAgdmFyIHBvbHlsaW5lX29wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgcGF0aDogc3RlcC5wYXRoLFxuICAgICAgICAgICAgICAgIHN0cm9rZUNvbG9yOiBvcHRpb25zLnN0cm9rZUNvbG9yLFxuICAgICAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IG9wdGlvbnMuc3Ryb2tlT3BhY2l0eSxcbiAgICAgICAgICAgICAgICBzdHJva2VXZWlnaHQ6IG9wdGlvbnMuc3Ryb2tlV2VpZ2h0XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJpY29uc1wiKSkge1xuICAgICAgICAgICAgICAgIHBvbHlsaW5lX29wdGlvbnMuaWNvbnMgPSBvcHRpb25zLmljb25zO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc2VsZi5kcmF3UG9seWxpbmUocG9seWxpbmVfb3B0aW9ucyk7XG4gICAgICAgICAgICAgIG9wdGlvbnMuc3RlcChzdGVwLCAocm91dGUubGVnc1swXS5zdGVwcy5sZW5ndGggLSAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9lbmQgY2FsbGJhY2tcbiAgICAgICAgaWYgKGUubGVuZ3RoID4gMCAmJiBvcHRpb25zLmVuZCkge1xuICAgICAgICAgICBvcHRpb25zLmVuZChlW2UubGVuZ3RoIC0gMV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZWxzZSBpZiAob3B0aW9ucy5yb3V0ZSkge1xuICAgIGlmIChvcHRpb25zLnJvdXRlLmxlZ3MubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIHN0ZXBzID0gb3B0aW9ucy5yb3V0ZS5sZWdzWzBdLnN0ZXBzO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIHN0ZXA7IHN0ZXAgPSBzdGVwc1tpXTsgaSsrKSB7XG4gICAgICAgIHN0ZXAuc3RlcF9udW1iZXIgPSBpO1xuICAgICAgICB2YXIgcG9seWxpbmVfb3B0aW9ucyA9IHtcbiAgICAgICAgICBwYXRoOiBzdGVwLnBhdGgsXG4gICAgICAgICAgc3Ryb2tlQ29sb3I6IG9wdGlvbnMuc3Ryb2tlQ29sb3IsXG4gICAgICAgICAgc3Ryb2tlT3BhY2l0eTogb3B0aW9ucy5zdHJva2VPcGFjaXR5LFxuICAgICAgICAgIHN0cm9rZVdlaWdodDogb3B0aW9ucy5zdHJva2VXZWlnaHRcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShcImljb25zXCIpKSB7XG4gICAgICAgICAgcG9seWxpbmVfb3B0aW9ucy5pY29ucyA9IG9wdGlvbnMuaWNvbnM7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLmRyYXdQb2x5bGluZShwb2x5bGluZV9vcHRpb25zKTtcbiAgICAgICAgb3B0aW9ucy5zdGVwKHN0ZXApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuR01hcHMuUm91dGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHRoaXMub3JpZ2luID0gb3B0aW9ucy5vcmlnaW47XG4gIHRoaXMuZGVzdGluYXRpb24gPSBvcHRpb25zLmRlc3RpbmF0aW9uO1xuICB0aGlzLndheXBvaW50cyA9IG9wdGlvbnMud2F5cG9pbnRzO1xuXG4gIHRoaXMubWFwID0gb3B0aW9ucy5tYXA7XG4gIHRoaXMucm91dGUgPSBvcHRpb25zLnJvdXRlO1xuICB0aGlzLnN0ZXBfY291bnQgPSAwO1xuICB0aGlzLnN0ZXBzID0gdGhpcy5yb3V0ZS5sZWdzWzBdLnN0ZXBzO1xuICB0aGlzLnN0ZXBzX2xlbmd0aCA9IHRoaXMuc3RlcHMubGVuZ3RoO1xuXG4gIHZhciBwb2x5bGluZV9vcHRpb25zID0ge1xuICAgIHBhdGg6IG5ldyBnb29nbGUubWFwcy5NVkNBcnJheSgpLFxuICAgIHN0cm9rZUNvbG9yOiBvcHRpb25zLnN0cm9rZUNvbG9yLFxuICAgIHN0cm9rZU9wYWNpdHk6IG9wdGlvbnMuc3Ryb2tlT3BhY2l0eSxcbiAgICBzdHJva2VXZWlnaHQ6IG9wdGlvbnMuc3Ryb2tlV2VpZ2h0XG4gIH07XG5cbiAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJpY29uc1wiKSkge1xuICAgIHBvbHlsaW5lX29wdGlvbnMuaWNvbnMgPSBvcHRpb25zLmljb25zO1xuICB9XG5cbiAgdGhpcy5wb2x5bGluZSA9IHRoaXMubWFwLmRyYXdQb2x5bGluZShwb2x5bGluZV9vcHRpb25zKS5nZXRQYXRoKCk7XG59O1xuXG5HTWFwcy5Sb3V0ZS5wcm90b3R5cGUuZ2V0Um91dGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICB0aGlzLm1hcC5nZXRSb3V0ZXMoe1xuICAgIG9yaWdpbiA6IHRoaXMub3JpZ2luLFxuICAgIGRlc3RpbmF0aW9uIDogdGhpcy5kZXN0aW5hdGlvbixcbiAgICB0cmF2ZWxNb2RlIDogb3B0aW9ucy50cmF2ZWxNb2RlLFxuICAgIHdheXBvaW50cyA6IHRoaXMud2F5cG9pbnRzIHx8IFtdLFxuICAgIGVycm9yOiBvcHRpb25zLmVycm9yLFxuICAgIGNhbGxiYWNrIDogZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnJvdXRlID0gZVswXTtcblxuICAgICAgaWYgKG9wdGlvbnMuY2FsbGJhY2spIHtcbiAgICAgICAgb3B0aW9ucy5jYWxsYmFjay5jYWxsKHNlbGYpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG5HTWFwcy5Sb3V0ZS5wcm90b3R5cGUuYmFjayA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5zdGVwX2NvdW50ID4gMCkge1xuICAgIHRoaXMuc3RlcF9jb3VudC0tO1xuICAgIHZhciBwYXRoID0gdGhpcy5yb3V0ZS5sZWdzWzBdLnN0ZXBzW3RoaXMuc3RlcF9jb3VudF0ucGF0aDtcblxuICAgIGZvciAodmFyIHAgaW4gcGF0aCl7XG4gICAgICBpZiAocGF0aC5oYXNPd25Qcm9wZXJ0eShwKSl7XG4gICAgICAgIHRoaXMucG9seWxpbmUucG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5HTWFwcy5Sb3V0ZS5wcm90b3R5cGUuZm9yd2FyZCA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5zdGVwX2NvdW50IDwgdGhpcy5zdGVwc19sZW5ndGgpIHtcbiAgICB2YXIgcGF0aCA9IHRoaXMucm91dGUubGVnc1swXS5zdGVwc1t0aGlzLnN0ZXBfY291bnRdLnBhdGg7XG5cbiAgICBmb3IgKHZhciBwIGluIHBhdGgpe1xuICAgICAgaWYgKHBhdGguaGFzT3duUHJvcGVydHkocCkpe1xuICAgICAgICB0aGlzLnBvbHlsaW5lLnB1c2gocGF0aFtwXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc3RlcF9jb3VudCsrO1xuICB9XG59O1xuXG5HTWFwcy5wcm90b3R5cGUuY2hlY2tHZW9mZW5jZSA9IGZ1bmN0aW9uKGxhdCwgbG5nLCBmZW5jZSkge1xuICByZXR1cm4gZmVuY2UuY29udGFpbnNMYXRMbmcobmV3IGdvb2dsZS5tYXBzLkxhdExuZyhsYXQsIGxuZykpO1xufTtcblxuR01hcHMucHJvdG90eXBlLmNoZWNrTWFya2VyR2VvZmVuY2UgPSBmdW5jdGlvbihtYXJrZXIsIG91dHNpZGVfY2FsbGJhY2spIHtcbiAgaWYgKG1hcmtlci5mZW5jZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZmVuY2U7IGZlbmNlID0gbWFya2VyLmZlbmNlc1tpXTsgaSsrKSB7XG4gICAgICB2YXIgcG9zID0gbWFya2VyLmdldFBvc2l0aW9uKCk7XG4gICAgICBpZiAoIXRoaXMuY2hlY2tHZW9mZW5jZShwb3MubGF0KCksIHBvcy5sbmcoKSwgZmVuY2UpKSB7XG4gICAgICAgIG91dHNpZGVfY2FsbGJhY2sobWFya2VyLCBmZW5jZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5HTWFwcy5wcm90b3R5cGUudG9JbWFnZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgdmFyIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9LFxuICAgICAgc3RhdGljX21hcF9vcHRpb25zID0ge307XG5cbiAgc3RhdGljX21hcF9vcHRpb25zWydzaXplJ10gPSBvcHRpb25zWydzaXplJ10gfHwgW3RoaXMuZWwuY2xpZW50V2lkdGgsIHRoaXMuZWwuY2xpZW50SGVpZ2h0XTtcbiAgc3RhdGljX21hcF9vcHRpb25zWydsYXQnXSA9IHRoaXMuZ2V0Q2VudGVyKCkubGF0KCk7XG4gIHN0YXRpY19tYXBfb3B0aW9uc1snbG5nJ10gPSB0aGlzLmdldENlbnRlcigpLmxuZygpO1xuXG4gIGlmICh0aGlzLm1hcmtlcnMubGVuZ3RoID4gMCkge1xuICAgIHN0YXRpY19tYXBfb3B0aW9uc1snbWFya2VycyddID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWFya2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgc3RhdGljX21hcF9vcHRpb25zWydtYXJrZXJzJ10ucHVzaCh7XG4gICAgICAgIGxhdDogdGhpcy5tYXJrZXJzW2ldLmdldFBvc2l0aW9uKCkubGF0KCksXG4gICAgICAgIGxuZzogdGhpcy5tYXJrZXJzW2ldLmdldFBvc2l0aW9uKCkubG5nKClcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLnBvbHlsaW5lcy5sZW5ndGggPiAwKSB7XG4gICAgdmFyIHBvbHlsaW5lID0gdGhpcy5wb2x5bGluZXNbMF07XG5cbiAgICBzdGF0aWNfbWFwX29wdGlvbnNbJ3BvbHlsaW5lJ10gPSB7fTtcbiAgICBzdGF0aWNfbWFwX29wdGlvbnNbJ3BvbHlsaW5lJ11bJ3BhdGgnXSA9IGdvb2dsZS5tYXBzLmdlb21ldHJ5LmVuY29kaW5nLmVuY29kZVBhdGgocG9seWxpbmUuZ2V0UGF0aCgpKTtcbiAgICBzdGF0aWNfbWFwX29wdGlvbnNbJ3BvbHlsaW5lJ11bJ3N0cm9rZUNvbG9yJ10gPSBwb2x5bGluZS5zdHJva2VDb2xvclxuICAgIHN0YXRpY19tYXBfb3B0aW9uc1sncG9seWxpbmUnXVsnc3Ryb2tlT3BhY2l0eSddID0gcG9seWxpbmUuc3Ryb2tlT3BhY2l0eVxuICAgIHN0YXRpY19tYXBfb3B0aW9uc1sncG9seWxpbmUnXVsnc3Ryb2tlV2VpZ2h0J10gPSBwb2x5bGluZS5zdHJva2VXZWlnaHRcbiAgfVxuXG4gIHJldHVybiBHTWFwcy5zdGF0aWNNYXBVUkwoc3RhdGljX21hcF9vcHRpb25zKTtcbn07XG5cbkdNYXBzLnN0YXRpY01hcFVSTCA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICB2YXIgcGFyYW1ldGVycyA9IFtdLFxuICAgICAgZGF0YSxcbiAgICAgIHN0YXRpY19yb290ID0gKGxvY2F0aW9uLnByb3RvY29sID09PSAnZmlsZTonID8gJ2h0dHA6JyA6IGxvY2F0aW9uLnByb3RvY29sICkgKyAnLy9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL3N0YXRpY21hcCc7XG5cbiAgaWYgKG9wdGlvbnMudXJsKSB7XG4gICAgc3RhdGljX3Jvb3QgPSBvcHRpb25zLnVybDtcbiAgICBkZWxldGUgb3B0aW9ucy51cmw7XG4gIH1cblxuICBzdGF0aWNfcm9vdCArPSAnPyc7XG5cbiAgdmFyIG1hcmtlcnMgPSBvcHRpb25zLm1hcmtlcnM7XG5cbiAgZGVsZXRlIG9wdGlvbnMubWFya2VycztcblxuICBpZiAoIW1hcmtlcnMgJiYgb3B0aW9ucy5tYXJrZXIpIHtcbiAgICBtYXJrZXJzID0gW29wdGlvbnMubWFya2VyXTtcbiAgICBkZWxldGUgb3B0aW9ucy5tYXJrZXI7XG4gIH1cblxuICB2YXIgc3R5bGVzID0gb3B0aW9ucy5zdHlsZXM7XG5cbiAgZGVsZXRlIG9wdGlvbnMuc3R5bGVzO1xuXG4gIHZhciBwb2x5bGluZSA9IG9wdGlvbnMucG9seWxpbmU7XG4gIGRlbGV0ZSBvcHRpb25zLnBvbHlsaW5lO1xuXG4gIC8qKiBNYXAgb3B0aW9ucyAqKi9cbiAgaWYgKG9wdGlvbnMuY2VudGVyKSB7XG4gICAgcGFyYW1ldGVycy5wdXNoKCdjZW50ZXI9JyArIG9wdGlvbnMuY2VudGVyKTtcbiAgICBkZWxldGUgb3B0aW9ucy5jZW50ZXI7XG4gIH1cbiAgZWxzZSBpZiAob3B0aW9ucy5hZGRyZXNzKSB7XG4gICAgcGFyYW1ldGVycy5wdXNoKCdjZW50ZXI9JyArIG9wdGlvbnMuYWRkcmVzcyk7XG4gICAgZGVsZXRlIG9wdGlvbnMuYWRkcmVzcztcbiAgfVxuICBlbHNlIGlmIChvcHRpb25zLmxhdCkge1xuICAgIHBhcmFtZXRlcnMucHVzaChbJ2NlbnRlcj0nLCBvcHRpb25zLmxhdCwgJywnLCBvcHRpb25zLmxuZ10uam9pbignJykpO1xuICAgIGRlbGV0ZSBvcHRpb25zLmxhdDtcbiAgICBkZWxldGUgb3B0aW9ucy5sbmc7XG4gIH1cbiAgZWxzZSBpZiAob3B0aW9ucy52aXNpYmxlKSB7XG4gICAgdmFyIHZpc2libGUgPSBlbmNvZGVVUkkob3B0aW9ucy52aXNpYmxlLmpvaW4oJ3wnKSk7XG4gICAgcGFyYW1ldGVycy5wdXNoKCd2aXNpYmxlPScgKyB2aXNpYmxlKTtcbiAgfVxuXG4gIHZhciBzaXplID0gb3B0aW9ucy5zaXplO1xuICBpZiAoc2l6ZSkge1xuICAgIGlmIChzaXplLmpvaW4pIHtcbiAgICAgIHNpemUgPSBzaXplLmpvaW4oJ3gnKTtcbiAgICB9XG4gICAgZGVsZXRlIG9wdGlvbnMuc2l6ZTtcbiAgfVxuICBlbHNlIHtcbiAgICBzaXplID0gJzYzMHgzMDAnO1xuICB9XG4gIHBhcmFtZXRlcnMucHVzaCgnc2l6ZT0nICsgc2l6ZSk7XG5cbiAgaWYgKCFvcHRpb25zLnpvb20gJiYgb3B0aW9ucy56b29tICE9PSBmYWxzZSkge1xuICAgIG9wdGlvbnMuem9vbSA9IDE1O1xuICB9XG5cbiAgdmFyIHNlbnNvciA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3NlbnNvcicpID8gISFvcHRpb25zLnNlbnNvciA6IHRydWU7XG4gIGRlbGV0ZSBvcHRpb25zLnNlbnNvcjtcbiAgcGFyYW1ldGVycy5wdXNoKCdzZW5zb3I9JyArIHNlbnNvcik7XG5cbiAgZm9yICh2YXIgcGFyYW0gaW4gb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KHBhcmFtKSkge1xuICAgICAgcGFyYW1ldGVycy5wdXNoKHBhcmFtICsgJz0nICsgb3B0aW9uc1twYXJhbV0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBNYXJrZXJzICoqL1xuICBpZiAobWFya2Vycykge1xuICAgIHZhciBtYXJrZXIsIGxvYztcblxuICAgIGZvciAodmFyIGkgPSAwOyBkYXRhID0gbWFya2Vyc1tpXTsgaSsrKSB7XG4gICAgICBtYXJrZXIgPSBbXTtcblxuICAgICAgaWYgKGRhdGEuc2l6ZSAmJiBkYXRhLnNpemUgIT09ICdub3JtYWwnKSB7XG4gICAgICAgIG1hcmtlci5wdXNoKCdzaXplOicgKyBkYXRhLnNpemUpO1xuICAgICAgICBkZWxldGUgZGF0YS5zaXplO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZGF0YS5pY29uKSB7XG4gICAgICAgIG1hcmtlci5wdXNoKCdpY29uOicgKyBlbmNvZGVVUkkoZGF0YS5pY29uKSk7XG4gICAgICAgIGRlbGV0ZSBkYXRhLmljb247XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhLmNvbG9yKSB7XG4gICAgICAgIG1hcmtlci5wdXNoKCdjb2xvcjonICsgZGF0YS5jb2xvci5yZXBsYWNlKCcjJywgJzB4JykpO1xuICAgICAgICBkZWxldGUgZGF0YS5jb2xvcjtcbiAgICAgIH1cblxuICAgICAgaWYgKGRhdGEubGFiZWwpIHtcbiAgICAgICAgbWFya2VyLnB1c2goJ2xhYmVsOicgKyBkYXRhLmxhYmVsWzBdLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgICBkZWxldGUgZGF0YS5sYWJlbDtcbiAgICAgIH1cblxuICAgICAgbG9jID0gKGRhdGEuYWRkcmVzcyA/IGRhdGEuYWRkcmVzcyA6IGRhdGEubGF0ICsgJywnICsgZGF0YS5sbmcpO1xuICAgICAgZGVsZXRlIGRhdGEuYWRkcmVzcztcbiAgICAgIGRlbGV0ZSBkYXRhLmxhdDtcbiAgICAgIGRlbGV0ZSBkYXRhLmxuZztcblxuICAgICAgZm9yKHZhciBwYXJhbSBpbiBkYXRhKXtcbiAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkocGFyYW0pKSB7XG4gICAgICAgICAgbWFya2VyLnB1c2gocGFyYW0gKyAnOicgKyBkYXRhW3BhcmFtXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG1hcmtlci5sZW5ndGggfHwgaSA9PT0gMCkge1xuICAgICAgICBtYXJrZXIucHVzaChsb2MpO1xuICAgICAgICBtYXJrZXIgPSBtYXJrZXIuam9pbignfCcpO1xuICAgICAgICBwYXJhbWV0ZXJzLnB1c2goJ21hcmtlcnM9JyArIGVuY29kZVVSSShtYXJrZXIpKTtcbiAgICAgIH1cbiAgICAgIC8vIE5ldyBtYXJrZXIgd2l0aG91dCBzdHlsZXNcbiAgICAgIGVsc2Uge1xuICAgICAgICBtYXJrZXIgPSBwYXJhbWV0ZXJzLnBvcCgpICsgZW5jb2RlVVJJKCd8JyArIGxvYyk7XG4gICAgICAgIHBhcmFtZXRlcnMucHVzaChtYXJrZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKiBNYXAgU3R5bGVzICoqL1xuICBpZiAoc3R5bGVzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzdHlsZVJ1bGUgPSBbXTtcbiAgICAgIGlmIChzdHlsZXNbaV0uZmVhdHVyZVR5cGUpe1xuICAgICAgICBzdHlsZVJ1bGUucHVzaCgnZmVhdHVyZTonICsgc3R5bGVzW2ldLmZlYXR1cmVUeXBlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3R5bGVzW2ldLmVsZW1lbnRUeXBlKSB7XG4gICAgICAgIHN0eWxlUnVsZS5wdXNoKCdlbGVtZW50OicgKyBzdHlsZXNbaV0uZWxlbWVudFR5cGUudG9Mb3dlckNhc2UoKSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc3R5bGVzW2ldLnN0eWxlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzdHlsZXNbaV0uc3R5bGVyc1tqXSkge1xuICAgICAgICAgIHZhciBydWxlQXJnID0gc3R5bGVzW2ldLnN0eWxlcnNbal1bcF07XG4gICAgICAgICAgaWYgKHAgPT0gJ2h1ZScgfHwgcCA9PSAnY29sb3InKSB7XG4gICAgICAgICAgICBydWxlQXJnID0gJzB4JyArIHJ1bGVBcmcuc3Vic3RyaW5nKDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdHlsZVJ1bGUucHVzaChwICsgJzonICsgcnVsZUFyZyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHJ1bGUgPSBzdHlsZVJ1bGUuam9pbignfCcpO1xuICAgICAgaWYgKHJ1bGUgIT0gJycpIHtcbiAgICAgICAgcGFyYW1ldGVycy5wdXNoKCdzdHlsZT0nICsgcnVsZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqIFBvbHlsaW5lcyAqKi9cbiAgZnVuY3Rpb24gcGFyc2VDb2xvcihjb2xvciwgb3BhY2l0eSkge1xuICAgIGlmIChjb2xvclswXSA9PT0gJyMnKXtcbiAgICAgIGNvbG9yID0gY29sb3IucmVwbGFjZSgnIycsICcweCcpO1xuXG4gICAgICBpZiAob3BhY2l0eSkge1xuICAgICAgICBvcGFjaXR5ID0gcGFyc2VGbG9hdChvcGFjaXR5KTtcbiAgICAgICAgb3BhY2l0eSA9IE1hdGgubWluKDEsIE1hdGgubWF4KG9wYWNpdHksIDApKTtcbiAgICAgICAgaWYgKG9wYWNpdHkgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gJzB4MDAwMDAwMDAnO1xuICAgICAgICB9XG4gICAgICAgIG9wYWNpdHkgPSAob3BhY2l0eSAqIDI1NSkudG9TdHJpbmcoMTYpO1xuICAgICAgICBpZiAob3BhY2l0eS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBvcGFjaXR5ICs9IG9wYWNpdHk7XG4gICAgICAgIH1cblxuICAgICAgICBjb2xvciA9IGNvbG9yLnNsaWNlKDAsOCkgKyBvcGFjaXR5O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29sb3I7XG4gIH1cblxuICBpZiAocG9seWxpbmUpIHtcbiAgICBkYXRhID0gcG9seWxpbmU7XG4gICAgcG9seWxpbmUgPSBbXTtcblxuICAgIGlmIChkYXRhLnN0cm9rZVdlaWdodCkge1xuICAgICAgcG9seWxpbmUucHVzaCgnd2VpZ2h0OicgKyBwYXJzZUludChkYXRhLnN0cm9rZVdlaWdodCwgMTApKTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5zdHJva2VDb2xvcikge1xuICAgICAgdmFyIGNvbG9yID0gcGFyc2VDb2xvcihkYXRhLnN0cm9rZUNvbG9yLCBkYXRhLnN0cm9rZU9wYWNpdHkpO1xuICAgICAgcG9seWxpbmUucHVzaCgnY29sb3I6JyArIGNvbG9yKTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5maWxsQ29sb3IpIHtcbiAgICAgIHZhciBmaWxsY29sb3IgPSBwYXJzZUNvbG9yKGRhdGEuZmlsbENvbG9yLCBkYXRhLmZpbGxPcGFjaXR5KTtcbiAgICAgIHBvbHlsaW5lLnB1c2goJ2ZpbGxjb2xvcjonICsgZmlsbGNvbG9yKTtcbiAgICB9XG5cbiAgICB2YXIgcGF0aCA9IGRhdGEucGF0aDtcbiAgICBpZiAocGF0aC5qb2luKSB7XG4gICAgICBmb3IgKHZhciBqPTAsIHBvczsgcG9zPXBhdGhbal07IGorKykge1xuICAgICAgICBwb2x5bGluZS5wdXNoKHBvcy5qb2luKCcsJykpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHBvbHlsaW5lLnB1c2goJ2VuYzonICsgcGF0aCk7XG4gICAgfVxuXG4gICAgcG9seWxpbmUgPSBwb2x5bGluZS5qb2luKCd8Jyk7XG4gICAgcGFyYW1ldGVycy5wdXNoKCdwYXRoPScgKyBlbmNvZGVVUkkocG9seWxpbmUpKTtcbiAgfVxuXG4gIC8qKiBSZXRpbmEgc3VwcG9ydCAqKi9cbiAgdmFyIGRwaSA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gIHBhcmFtZXRlcnMucHVzaCgnc2NhbGU9JyArIGRwaSk7XG5cbiAgcGFyYW1ldGVycyA9IHBhcmFtZXRlcnMuam9pbignJicpO1xuICByZXR1cm4gc3RhdGljX3Jvb3QgKyBwYXJhbWV0ZXJzO1xufTtcblxuR01hcHMucHJvdG90eXBlLmFkZE1hcFR5cGUgPSBmdW5jdGlvbihtYXBUeXBlSWQsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJnZXRUaWxlVXJsXCIpICYmIHR5cGVvZihvcHRpb25zW1wiZ2V0VGlsZVVybFwiXSkgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgb3B0aW9ucy50aWxlU2l6ZSA9IG9wdGlvbnMudGlsZVNpemUgfHwgbmV3IGdvb2dsZS5tYXBzLlNpemUoMjU2LCAyNTYpO1xuXG4gICAgdmFyIG1hcFR5cGUgPSBuZXcgZ29vZ2xlLm1hcHMuSW1hZ2VNYXBUeXBlKG9wdGlvbnMpO1xuXG4gICAgdGhpcy5tYXAubWFwVHlwZXMuc2V0KG1hcFR5cGVJZCwgbWFwVHlwZSk7XG4gIH1cbiAgZWxzZSB7XG4gICAgdGhyb3cgXCInZ2V0VGlsZVVybCcgZnVuY3Rpb24gcmVxdWlyZWQuXCI7XG4gIH1cbn07XG5cbkdNYXBzLnByb3RvdHlwZS5hZGRPdmVybGF5TWFwVHlwZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJnZXRUaWxlXCIpICYmIHR5cGVvZihvcHRpb25zW1wiZ2V0VGlsZVwiXSkgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIG92ZXJsYXlNYXBUeXBlSW5kZXggPSBvcHRpb25zLmluZGV4O1xuXG4gICAgZGVsZXRlIG9wdGlvbnMuaW5kZXg7XG5cbiAgICB0aGlzLm1hcC5vdmVybGF5TWFwVHlwZXMuaW5zZXJ0QXQob3ZlcmxheU1hcFR5cGVJbmRleCwgb3B0aW9ucyk7XG4gIH1cbiAgZWxzZSB7XG4gICAgdGhyb3cgXCInZ2V0VGlsZScgZnVuY3Rpb24gcmVxdWlyZWQuXCI7XG4gIH1cbn07XG5cbkdNYXBzLnByb3RvdHlwZS5yZW1vdmVPdmVybGF5TWFwVHlwZSA9IGZ1bmN0aW9uKG92ZXJsYXlNYXBUeXBlSW5kZXgpIHtcbiAgdGhpcy5tYXAub3ZlcmxheU1hcFR5cGVzLnJlbW92ZUF0KG92ZXJsYXlNYXBUeXBlSW5kZXgpO1xufTtcblxuR01hcHMucHJvdG90eXBlLmFkZFN0eWxlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB2YXIgc3R5bGVkTWFwVHlwZSA9IG5ldyBnb29nbGUubWFwcy5TdHlsZWRNYXBUeXBlKG9wdGlvbnMuc3R5bGVzLCB7IG5hbWU6IG9wdGlvbnMuc3R5bGVkTWFwTmFtZSB9KTtcblxuICB0aGlzLm1hcC5tYXBUeXBlcy5zZXQob3B0aW9ucy5tYXBUeXBlSWQsIHN0eWxlZE1hcFR5cGUpO1xufTtcblxuR01hcHMucHJvdG90eXBlLnNldFN0eWxlID0gZnVuY3Rpb24obWFwVHlwZUlkKSB7XG4gIHRoaXMubWFwLnNldE1hcFR5cGVJZChtYXBUeXBlSWQpO1xufTtcblxuR01hcHMucHJvdG90eXBlLmNyZWF0ZVBhbm9yYW1hID0gZnVuY3Rpb24oc3RyZWV0dmlld19vcHRpb25zKSB7XG4gIGlmICghc3RyZWV0dmlld19vcHRpb25zLmhhc093blByb3BlcnR5KCdsYXQnKSB8fCAhc3RyZWV0dmlld19vcHRpb25zLmhhc093blByb3BlcnR5KCdsbmcnKSkge1xuICAgIHN0cmVldHZpZXdfb3B0aW9ucy5sYXQgPSB0aGlzLmdldENlbnRlcigpLmxhdCgpO1xuICAgIHN0cmVldHZpZXdfb3B0aW9ucy5sbmcgPSB0aGlzLmdldENlbnRlcigpLmxuZygpO1xuICB9XG5cbiAgdGhpcy5wYW5vcmFtYSA9IEdNYXBzLmNyZWF0ZVBhbm9yYW1hKHN0cmVldHZpZXdfb3B0aW9ucyk7XG5cbiAgdGhpcy5tYXAuc2V0U3RyZWV0Vmlldyh0aGlzLnBhbm9yYW1hKTtcblxuICByZXR1cm4gdGhpcy5wYW5vcmFtYTtcbn07XG5cbkdNYXBzLmNyZWF0ZVBhbm9yYW1hID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB2YXIgZWwgPSBnZXRFbGVtZW50QnlJZChvcHRpb25zLmVsLCBvcHRpb25zLmNvbnRleHQpO1xuXG4gIG9wdGlvbnMucG9zaXRpb24gPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKG9wdGlvbnMubGF0LCBvcHRpb25zLmxuZyk7XG5cbiAgZGVsZXRlIG9wdGlvbnMuZWw7XG4gIGRlbGV0ZSBvcHRpb25zLmNvbnRleHQ7XG4gIGRlbGV0ZSBvcHRpb25zLmxhdDtcbiAgZGVsZXRlIG9wdGlvbnMubG5nO1xuXG4gIHZhciBzdHJlZXR2aWV3X2V2ZW50cyA9IFsnY2xvc2VjbGljaycsICdsaW5rc19jaGFuZ2VkJywgJ3Bhbm9fY2hhbmdlZCcsICdwb3NpdGlvbl9jaGFuZ2VkJywgJ3Bvdl9jaGFuZ2VkJywgJ3Jlc2l6ZScsICd2aXNpYmxlX2NoYW5nZWQnXSxcbiAgICAgIHN0cmVldHZpZXdfb3B0aW9ucyA9IGV4dGVuZF9vYmplY3Qoe3Zpc2libGUgOiB0cnVlfSwgb3B0aW9ucyk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJlZXR2aWV3X2V2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGRlbGV0ZSBzdHJlZXR2aWV3X29wdGlvbnNbc3RyZWV0dmlld19ldmVudHNbaV1dO1xuICB9XG5cbiAgdmFyIHBhbm9yYW1hID0gbmV3IGdvb2dsZS5tYXBzLlN0cmVldFZpZXdQYW5vcmFtYShlbCwgc3RyZWV0dmlld19vcHRpb25zKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmVldHZpZXdfZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgKGZ1bmN0aW9uKG9iamVjdCwgbmFtZSkge1xuICAgICAgaWYgKG9wdGlvbnNbbmFtZV0pIHtcbiAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIob2JqZWN0LCBuYW1lLCBmdW5jdGlvbigpe1xuICAgICAgICAgIG9wdGlvbnNbbmFtZV0uYXBwbHkodGhpcyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pKHBhbm9yYW1hLCBzdHJlZXR2aWV3X2V2ZW50c1tpXSk7XG4gIH1cblxuICByZXR1cm4gcGFub3JhbWE7XG59O1xuXG5HTWFwcy5wcm90b3R5cGUub24gPSBmdW5jdGlvbihldmVudF9uYW1lLCBoYW5kbGVyKSB7XG4gIHJldHVybiBHTWFwcy5vbihldmVudF9uYW1lLCB0aGlzLCBoYW5kbGVyKTtcbn07XG5cbkdNYXBzLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbihldmVudF9uYW1lKSB7XG4gIEdNYXBzLm9mZihldmVudF9uYW1lLCB0aGlzKTtcbn07XG5cbkdNYXBzLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24oZXZlbnRfbmFtZSwgaGFuZGxlcikge1xuICByZXR1cm4gR01hcHMub25jZShldmVudF9uYW1lLCB0aGlzLCBoYW5kbGVyKTtcbn07XG5cbkdNYXBzLmN1c3RvbV9ldmVudHMgPSBbJ21hcmtlcl9hZGRlZCcsICdtYXJrZXJfcmVtb3ZlZCcsICdwb2x5bGluZV9hZGRlZCcsICdwb2x5bGluZV9yZW1vdmVkJywgJ3BvbHlnb25fYWRkZWQnLCAncG9seWdvbl9yZW1vdmVkJywgJ2dlb2xvY2F0ZWQnLCAnZ2VvbG9jYXRpb25fZmFpbGVkJ107XG5cbkdNYXBzLm9uID0gZnVuY3Rpb24oZXZlbnRfbmFtZSwgb2JqZWN0LCBoYW5kbGVyKSB7XG4gIGlmIChHTWFwcy5jdXN0b21fZXZlbnRzLmluZGV4T2YoZXZlbnRfbmFtZSkgPT0gLTEpIHtcbiAgICBpZihvYmplY3QgaW5zdGFuY2VvZiBHTWFwcykgb2JqZWN0ID0gb2JqZWN0Lm1hcDtcbiAgICByZXR1cm4gZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIob2JqZWN0LCBldmVudF9uYW1lLCBoYW5kbGVyKTtcbiAgfVxuICBlbHNlIHtcbiAgICB2YXIgcmVnaXN0ZXJlZF9ldmVudCA9IHtcbiAgICAgIGhhbmRsZXIgOiBoYW5kbGVyLFxuICAgICAgZXZlbnROYW1lIDogZXZlbnRfbmFtZVxuICAgIH07XG5cbiAgICBvYmplY3QucmVnaXN0ZXJlZF9ldmVudHNbZXZlbnRfbmFtZV0gPSBvYmplY3QucmVnaXN0ZXJlZF9ldmVudHNbZXZlbnRfbmFtZV0gfHwgW107XG4gICAgb2JqZWN0LnJlZ2lzdGVyZWRfZXZlbnRzW2V2ZW50X25hbWVdLnB1c2gocmVnaXN0ZXJlZF9ldmVudCk7XG5cbiAgICByZXR1cm4gcmVnaXN0ZXJlZF9ldmVudDtcbiAgfVxufTtcblxuR01hcHMub2ZmID0gZnVuY3Rpb24oZXZlbnRfbmFtZSwgb2JqZWN0KSB7XG4gIGlmIChHTWFwcy5jdXN0b21fZXZlbnRzLmluZGV4T2YoZXZlbnRfbmFtZSkgPT0gLTEpIHtcbiAgICBpZihvYmplY3QgaW5zdGFuY2VvZiBHTWFwcykgb2JqZWN0ID0gb2JqZWN0Lm1hcDtcbiAgICBnb29nbGUubWFwcy5ldmVudC5jbGVhckxpc3RlbmVycyhvYmplY3QsIGV2ZW50X25hbWUpO1xuICB9XG4gIGVsc2Uge1xuICAgIG9iamVjdC5yZWdpc3RlcmVkX2V2ZW50c1tldmVudF9uYW1lXSA9IFtdO1xuICB9XG59O1xuXG5HTWFwcy5vbmNlID0gZnVuY3Rpb24oZXZlbnRfbmFtZSwgb2JqZWN0LCBoYW5kbGVyKSB7XG4gIGlmIChHTWFwcy5jdXN0b21fZXZlbnRzLmluZGV4T2YoZXZlbnRfbmFtZSkgPT0gLTEpIHtcbiAgICBpZihvYmplY3QgaW5zdGFuY2VvZiBHTWFwcykgb2JqZWN0ID0gb2JqZWN0Lm1hcDtcbiAgICByZXR1cm4gZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXJPbmNlKG9iamVjdCwgZXZlbnRfbmFtZSwgaGFuZGxlcik7XG4gIH1cbn07XG5cbkdNYXBzLmZpcmUgPSBmdW5jdGlvbihldmVudF9uYW1lLCBvYmplY3QsIHNjb3BlKSB7XG4gIGlmIChHTWFwcy5jdXN0b21fZXZlbnRzLmluZGV4T2YoZXZlbnRfbmFtZSkgPT0gLTEpIHtcbiAgICBnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKG9iamVjdCwgZXZlbnRfbmFtZSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGFyZ3VtZW50cykuc2xpY2UoMikpO1xuICB9XG4gIGVsc2Uge1xuICAgIGlmKGV2ZW50X25hbWUgaW4gc2NvcGUucmVnaXN0ZXJlZF9ldmVudHMpIHtcbiAgICAgIHZhciBmaXJpbmdfZXZlbnRzID0gc2NvcGUucmVnaXN0ZXJlZF9ldmVudHNbZXZlbnRfbmFtZV07XG5cbiAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBmaXJpbmdfZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIChmdW5jdGlvbihoYW5kbGVyLCBzY29wZSwgb2JqZWN0KSB7XG4gICAgICAgICAgaGFuZGxlci5hcHBseShzY29wZSwgW29iamVjdF0pO1xuICAgICAgICB9KShmaXJpbmdfZXZlbnRzW2ldWydoYW5kbGVyJ10sIHNjb3BlLCBvYmplY3QpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuR01hcHMuZ2VvbG9jYXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB2YXIgY29tcGxldGVfY2FsbGJhY2sgPSBvcHRpb25zLmFsd2F5cyB8fCBvcHRpb25zLmNvbXBsZXRlO1xuXG4gIGlmIChuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pIHtcbiAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICBvcHRpb25zLnN1Y2Nlc3MocG9zaXRpb24pO1xuXG4gICAgICBpZiAoY29tcGxldGVfY2FsbGJhY2spIHtcbiAgICAgICAgY29tcGxldGVfY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgb3B0aW9ucy5lcnJvcihlcnJvcik7XG5cbiAgICAgIGlmIChjb21wbGV0ZV9jYWxsYmFjaykge1xuICAgICAgICBjb21wbGV0ZV9jYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH0sIG9wdGlvbnMub3B0aW9ucyk7XG4gIH1cbiAgZWxzZSB7XG4gICAgb3B0aW9ucy5ub3Rfc3VwcG9ydGVkKCk7XG5cbiAgICBpZiAoY29tcGxldGVfY2FsbGJhY2spIHtcbiAgICAgIGNvbXBsZXRlX2NhbGxiYWNrKCk7XG4gICAgfVxuICB9XG59O1xuXG5HTWFwcy5nZW9jb2RlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB0aGlzLmdlb2NvZGVyID0gbmV3IGdvb2dsZS5tYXBzLkdlb2NvZGVyKCk7XG4gIHZhciBjYWxsYmFjayA9IG9wdGlvbnMuY2FsbGJhY2s7XG4gIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdsYXQnKSAmJiBvcHRpb25zLmhhc093blByb3BlcnR5KCdsbmcnKSkge1xuICAgIG9wdGlvbnMubGF0TG5nID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhvcHRpb25zLmxhdCwgb3B0aW9ucy5sbmcpO1xuICB9XG5cbiAgZGVsZXRlIG9wdGlvbnMubGF0O1xuICBkZWxldGUgb3B0aW9ucy5sbmc7XG4gIGRlbGV0ZSBvcHRpb25zLmNhbGxiYWNrO1xuXG4gIHRoaXMuZ2VvY29kZXIuZ2VvY29kZShvcHRpb25zLCBmdW5jdGlvbihyZXN1bHRzLCBzdGF0dXMpIHtcbiAgICBjYWxsYmFjayhyZXN1bHRzLCBzdGF0dXMpO1xuICB9KTtcbn07XG5cbmlmICh0eXBlb2Ygd2luZG93Lmdvb2dsZSA9PT0gJ29iamVjdCcgJiYgd2luZG93Lmdvb2dsZS5tYXBzKSB7XG4gIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gUG9seWdvbiBjb250YWluc0xhdExuZ1xuICAvLyBodHRwczovL2dpdGh1Yi5jb20vdHBhcmtpbi9Hb29nbGUtTWFwcy1Qb2ludC1pbi1Qb2x5Z29uXG4gIC8vIFBveWdvbiBnZXRCb3VuZHMgZXh0ZW5zaW9uIC0gZ29vZ2xlLW1hcHMtZXh0ZW5zaW9uc1xuICAvLyBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvZ29vZ2xlLW1hcHMtZXh0ZW5zaW9ucy9zb3VyY2UvYnJvd3NlL2dvb2dsZS5tYXBzLlBvbHlnb24uZ2V0Qm91bmRzLmpzXG4gIGlmICghZ29vZ2xlLm1hcHMuUG9seWdvbi5wcm90b3R5cGUuZ2V0Qm91bmRzKSB7XG4gICAgZ29vZ2xlLm1hcHMuUG9seWdvbi5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24obGF0TG5nKSB7XG4gICAgICB2YXIgYm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcygpO1xuICAgICAgdmFyIHBhdGhzID0gdGhpcy5nZXRQYXRocygpO1xuICAgICAgdmFyIHBhdGg7XG5cbiAgICAgIGZvciAodmFyIHAgPSAwOyBwIDwgcGF0aHMuZ2V0TGVuZ3RoKCk7IHArKykge1xuICAgICAgICBwYXRoID0gcGF0aHMuZ2V0QXQocCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5nZXRMZW5ndGgoKTsgaSsrKSB7XG4gICAgICAgICAgYm91bmRzLmV4dGVuZChwYXRoLmdldEF0KGkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYm91bmRzO1xuICAgIH07XG4gIH1cblxuICBpZiAoIWdvb2dsZS5tYXBzLlBvbHlnb24ucHJvdG90eXBlLmNvbnRhaW5zTGF0TG5nKSB7XG4gICAgLy8gUG9seWdvbiBjb250YWluc0xhdExuZyAtIG1ldGhvZCB0byBkZXRlcm1pbmUgaWYgYSBsYXRMbmcgaXMgd2l0aGluIGEgcG9seWdvblxuICAgIGdvb2dsZS5tYXBzLlBvbHlnb24ucHJvdG90eXBlLmNvbnRhaW5zTGF0TG5nID0gZnVuY3Rpb24obGF0TG5nKSB7XG4gICAgICAvLyBFeGNsdWRlIHBvaW50cyBvdXRzaWRlIG9mIGJvdW5kcyBhcyB0aGVyZSBpcyBubyB3YXkgdGhleSBhcmUgaW4gdGhlIHBvbHlcbiAgICAgIHZhciBib3VuZHMgPSB0aGlzLmdldEJvdW5kcygpO1xuXG4gICAgICBpZiAoYm91bmRzICE9PSBudWxsICYmICFib3VuZHMuY29udGFpbnMobGF0TG5nKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIFJheWNhc3QgcG9pbnQgaW4gcG9seWdvbiBtZXRob2RcbiAgICAgIHZhciBpblBvbHkgPSBmYWxzZTtcblxuICAgICAgdmFyIG51bVBhdGhzID0gdGhpcy5nZXRQYXRocygpLmdldExlbmd0aCgpO1xuICAgICAgZm9yICh2YXIgcCA9IDA7IHAgPCBudW1QYXRoczsgcCsrKSB7XG4gICAgICAgIHZhciBwYXRoID0gdGhpcy5nZXRQYXRocygpLmdldEF0KHApO1xuICAgICAgICB2YXIgbnVtUG9pbnRzID0gcGF0aC5nZXRMZW5ndGgoKTtcbiAgICAgICAgdmFyIGogPSBudW1Qb2ludHMgLSAxO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtUG9pbnRzOyBpKyspIHtcbiAgICAgICAgICB2YXIgdmVydGV4MSA9IHBhdGguZ2V0QXQoaSk7XG4gICAgICAgICAgdmFyIHZlcnRleDIgPSBwYXRoLmdldEF0KGopO1xuXG4gICAgICAgICAgaWYgKHZlcnRleDEubG5nKCkgPCBsYXRMbmcubG5nKCkgJiYgdmVydGV4Mi5sbmcoKSA+PSBsYXRMbmcubG5nKCkgfHwgdmVydGV4Mi5sbmcoKSA8IGxhdExuZy5sbmcoKSAmJiB2ZXJ0ZXgxLmxuZygpID49IGxhdExuZy5sbmcoKSkge1xuICAgICAgICAgICAgaWYgKHZlcnRleDEubGF0KCkgKyAobGF0TG5nLmxuZygpIC0gdmVydGV4MS5sbmcoKSkgLyAodmVydGV4Mi5sbmcoKSAtIHZlcnRleDEubG5nKCkpICogKHZlcnRleDIubGF0KCkgLSB2ZXJ0ZXgxLmxhdCgpKSA8IGxhdExuZy5sYXQoKSkge1xuICAgICAgICAgICAgICBpblBvbHkgPSAhaW5Qb2x5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGogPSBpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpblBvbHk7XG4gICAgfTtcbiAgfVxuXG4gIGlmICghZ29vZ2xlLm1hcHMuQ2lyY2xlLnByb3RvdHlwZS5jb250YWluc0xhdExuZykge1xuICAgIGdvb2dsZS5tYXBzLkNpcmNsZS5wcm90b3R5cGUuY29udGFpbnNMYXRMbmcgPSBmdW5jdGlvbihsYXRMbmcpIHtcbiAgICAgIGlmIChnb29nbGUubWFwcy5nZW9tZXRyeSkge1xuICAgICAgICByZXR1cm4gZ29vZ2xlLm1hcHMuZ2VvbWV0cnkuc3BoZXJpY2FsLmNvbXB1dGVEaXN0YW5jZUJldHdlZW4odGhpcy5nZXRDZW50ZXIoKSwgbGF0TG5nKSA8PSB0aGlzLmdldFJhZGl1cygpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBnb29nbGUubWFwcy5SZWN0YW5nbGUucHJvdG90eXBlLmNvbnRhaW5zTGF0TG5nID0gZnVuY3Rpb24obGF0TG5nKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Qm91bmRzKCkuY29udGFpbnMobGF0TG5nKTtcbiAgfTtcblxuICBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMucHJvdG90eXBlLmNvbnRhaW5zTGF0TG5nID0gZnVuY3Rpb24obGF0TG5nKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGFpbnMobGF0TG5nKTtcbiAgfTtcblxuICBnb29nbGUubWFwcy5NYXJrZXIucHJvdG90eXBlLnNldEZlbmNlcyA9IGZ1bmN0aW9uKGZlbmNlcykge1xuICAgIHRoaXMuZmVuY2VzID0gZmVuY2VzO1xuICB9O1xuXG4gIGdvb2dsZS5tYXBzLk1hcmtlci5wcm90b3R5cGUuYWRkRmVuY2UgPSBmdW5jdGlvbihmZW5jZSkge1xuICAgIHRoaXMuZmVuY2VzLnB1c2goZmVuY2UpO1xuICB9O1xuXG4gIGdvb2dsZS5tYXBzLk1hcmtlci5wcm90b3R5cGUuZ2V0SWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpc1snX19nbV9pZCddO1xuICB9O1xufVxuXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBBcnJheSBpbmRleE9mXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2luZGV4T2ZcbmlmICghQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcbiAgQXJyYXkucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiAoc2VhcmNoRWxlbWVudCAvKiwgZnJvbUluZGV4ICovICkge1xuICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICBpZiAodGhpcyA9PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgfVxuICAgICAgdmFyIHQgPSBPYmplY3QodGhpcyk7XG4gICAgICB2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XG4gICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIG4gPSAwO1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgbiA9IE51bWJlcihhcmd1bWVudHNbMV0pO1xuICAgICAgICAgIGlmIChuICE9IG4pIHsgLy8gc2hvcnRjdXQgZm9yIHZlcmlmeWluZyBpZiBpdCdzIE5hTlxuICAgICAgICAgICAgICBuID0gMDtcbiAgICAgICAgICB9IGVsc2UgaWYgKG4gIT0gMCAmJiBuICE9IEluZmluaXR5ICYmIG4gIT0gLUluZmluaXR5KSB7XG4gICAgICAgICAgICAgIG4gPSAobiA+IDAgfHwgLTEpICogTWF0aC5mbG9vcihNYXRoLmFicyhuKSk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG4gPj0gbGVuKSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGsgPSBuID49IDAgPyBuIDogTWF0aC5tYXgobGVuIC0gTWF0aC5hYnMobiksIDApO1xuICAgICAgZm9yICg7IGsgPCBsZW47IGsrKykge1xuICAgICAgICAgIGlmIChrIGluIHQgJiYgdFtrXSA9PT0gc2VhcmNoRWxlbWVudCkge1xuICAgICAgICAgICAgICByZXR1cm4gaztcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gIH1cbn1cblxucmV0dXJuIEdNYXBzO1xufSkpO1xuIl19"}