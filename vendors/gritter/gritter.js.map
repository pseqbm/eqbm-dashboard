{"version":3,"sources":["build/node_modules/browser-pack/_prelude.js","build/vendors/gritter/build/vendors/gritter/gritter.js"],"names":[],"mappings":"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","file":"gritter.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*\n * Gritter for jQuery\n * http://www.boedesign.com/\n *\n * Copyright (c) 2012 Jordan Boesch\n * Dual licensed under the MIT and GPL licenses.\n *\n * Date: February 24, 2012\n * Version: 1.7.4\n */\n\n(function($){\n\n\t/**\n\t* Set it up as an object under the jQuery namespace\n\t*/\n\t$.gritter = {};\n\n\t/**\n\t* Set up global options that the user can over-ride\n\t*/\n\t$.gritter.options = {\n\t\tposition: '',\n\t\tclass_name: '', // could be set to 'gritter-light' to use white notifications\n\t\tfade_in_speed: 'medium', // how fast notifications fade in\n\t\tfade_out_speed: 1000, // how fast the notices fade out\n\t\ttime: 6000 // hang on the screen for...\n\t}\n\n\t/**\n\t* Add a gritter notification to the screen\n\t* @see Gritter#add();\n\t*/\n\t$.gritter.add = function(params){\n\n\t\ttry {\n\t\t\treturn Gritter.add(params || {});\n\t\t} catch(e) {\n\n\t\t\tvar err = 'Gritter Error: ' + e;\n\t\t\t(typeof(console) != 'undefined' && console.error) ?\n\t\t\t\tconsole.error(err, params) :\n\t\t\t\talert(err);\n\n\t\t}\n\n\t}\n\n\t/**\n\t* Remove a gritter notification from the screen\n\t* @see Gritter#removeSpecific();\n\t*/\n\t$.gritter.remove = function(id, params){\n\t\tGritter.removeSpecific(id, params || {});\n\t}\n\n\t/**\n\t* Remove all notifications\n\t* @see Gritter#stop();\n\t*/\n\t$.gritter.removeAll = function(params){\n\t\tGritter.stop(params || {});\n\t}\n\n\t/**\n\t* Big fat Gritter object\n\t* @constructor (not really since its object literal)\n\t*/\n\tvar Gritter = {\n\n\t\t// Public - options to over-ride with $.gritter.options in \"add\"\n\t\tposition: '',\n\t\tfade_in_speed: '',\n\t\tfade_out_speed: '',\n\t\ttime: '',\n\n\t\t// Private - no touchy the private parts\n\t\t_custom_timer: 0,\n\t\t_item_count: 0,\n\t\t_is_setup: 0,\n\t\t_tpl_close: '<a class=\"gritter-close\" href=\"#\" tabindex=\"1\"><i class=\"pe pe-close\"></i></a>',\n\t\t_tpl_title: '<span class=\"gritter-title\">[[title]]</span>',\n\t\t_tpl_item: '<div id=\"gritter-item-[[number]]\" class=\"gritter-item-wrapper\" style=\"display:none\" role=\"alert\"><div class=\"gritter-item [[item_class]]\">[[close]][[image]]<div class=\"[[class_name]]\">[[title]]<p>[[text]]</p></div><div style=\"clear:both\"></div></div></div>',\n\t\t_tpl_wrap: '<div id=\"gritter-notice-wrapper\"></div>',\n\n\t\t/**\n\t\t* Add a gritter notification to the screen\n\t\t* @param {Object} params The object that contains all the options for drawing the notification\n\t\t* @return {Integer} The specific numeric id to that gritter notification\n\t\t*/\n\t\tadd: function(params){\n\t\t\t// Handle straight text\n\t\t\tif(typeof(params) == 'string'){\n\t\t\t\tparams = {text:params};\n\t\t\t}\n\n\t\t\t// We might have some issues if we don't have a title or text!\n\t\t\tif(params.text === null){\n\t\t\t\tthrow 'You must supply \"text\" parameter.';\n\t\t\t}\n\n\t\t\t// Check the options and set them once\n\t\t\tif(!this._is_setup){\n\t\t\t\tthis._runSetup();\n\t\t\t}\n\n\t\t\t// Basics\n\t\t\tvar title = params.title,\n\t\t\t\ttext = params.text,\n\t\t\t\timage = params.image || '',\n\t\t\t\tsticky = params.sticky || false,\n\t\t\t\titem_class = params.class_name || $.gritter.options.class_name,\n\t\t\t\tposition = $.gritter.options.position,\n\t\t\t\ttime_alive = params.time || '';\n\n\t\t\tthis._verifyWrapper();\n\n\t\t\tthis._item_count++;\n\t\t\tvar number = this._item_count,\n\t\t\t\ttmp = this._tpl_item;\n\n\t\t\t// Assign callbacks\n\t\t\t$(['before_open', 'after_open', 'before_close', 'after_close']).each(function(i, val){\n\t\t\t\tGritter['_' + val + '_' + number] = ($.isFunction(params[val])) ? params[val] : function(){}\n\t\t\t});\n\n\t\t\t// Reset\n\t\t\tthis._custom_timer = 0;\n\n\t\t\t// A custom fade time set\n\t\t\tif(time_alive){\n\t\t\t\tthis._custom_timer = time_alive;\n\t\t\t}\n\n\t\t\tvar image_str = (image != '') ? '<div class=\"gritter-image-wrapper\"><img src=\"' + image + '\" class=\"gritter-image\" /></div>' : '',\n\t\t\t\tclass_name = (image != '') ? 'gritter-with-image' : 'gritter-without-image';\n\n\t\t\t// String replacements on the template\n\t\t\tif(title){\n\t\t\t\ttitle = this._str_replace('[[title]]',title,this._tpl_title);\n\t\t\t}else{\n\t\t\t\ttitle = '';\n\t\t\t}\n\n\t\t\ttmp = this._str_replace(\n\t\t\t\t['[[title]]', '[[text]]', '[[close]]', '[[image]]', '[[number]]', '[[class_name]]', '[[item_class]]'],\n\t\t\t\t[title, text, this._tpl_close, image_str, this._item_count, class_name, item_class], tmp\n\t\t\t);\n\n\t\t\t// If it's false, don't show another gritter message\n\t\t\tif(this['_before_open_' + number]() === false){\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t$('#gritter-notice-wrapper').addClass(position).append(tmp);\n\n\t\t\tvar item = $('#gritter-item-' + this._item_count);\n\n\t\t\titem.fadeIn(this.fade_in_speed, function(){\n\t\t\t\tGritter['_after_open_' + number]($(this));\n\t\t\t});\n\n\t\t\tif(!sticky){\n\t\t\t\tthis._setFadeTimer(item, number);\n\t\t\t}\n\n\t\t\t// Bind the hover/unhover states\n\t\t\t$(item).bind('mouseenter mouseleave', function(event){\n\t\t\t\tif(event.type == 'mouseenter'){\n\t\t\t\t\tif(!sticky){\n\t\t\t\t\t\tGritter._restoreItemIfFading($(this), number);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif(!sticky){\n\t\t\t\t\t\tGritter._setFadeTimer($(this), number);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tGritter._hoverState($(this), event.type);\n\t\t\t});\n\n\t\t\t// Clicking (X) makes the perdy thing close\n\t\t\t$(item).find('.gritter-close').click(function(){\n\t\t\t\tGritter.removeSpecific(number, {}, null, true);\n\t\t\t\treturn false;\n\t\t\t});\n\n\t\t\treturn number;\n\n\t\t},\n\n\t\t/**\n\t\t* If we don't have any more gritter notifications, get rid of the wrapper using this check\n\t\t* @private\n\t\t* @param {Integer} unique_id The ID of the element that was just deleted, use it for a callback\n\t\t* @param {Object} e The jQuery element that we're going to perform the remove() action on\n\t\t* @param {Boolean} manual_close Did we close the gritter dialog with the (X) button\n\t\t*/\n\t\t_countRemoveWrapper: function(unique_id, e, manual_close){\n\n\t\t\t// Remove it then run the callback function\n\t\t\te.remove();\n\t\t\tthis['_after_close_' + unique_id](e, manual_close);\n\n\t\t\t// Check if the wrapper is empty, if it is.. remove the wrapper\n\t\t\tif($('.gritter-item-wrapper').length == 0){\n\t\t\t\t$('#gritter-notice-wrapper').remove();\n\t\t\t}\n\n\t\t},\n\n\t\t/**\n\t\t* Fade out an element after it's been on the screen for x amount of time\n\t\t* @private\n\t\t* @param {Object} e The jQuery element to get rid of\n\t\t* @param {Integer} unique_id The id of the element to remove\n\t\t* @param {Object} params An optional list of params to set fade speeds etc.\n\t\t* @param {Boolean} unbind_events Unbind the mouseenter/mouseleave events if they click (X)\n\t\t*/\n\t\t_fade: function(e, unique_id, params, unbind_events){\n\n\t\t\tvar params = params || {},\n\t\t\t\tfade = (typeof(params.fade) != 'undefined') ? params.fade : true,\n\t\t\t\tfade_out_speed = params.speed || this.fade_out_speed,\n\t\t\t\tmanual_close = unbind_events;\n\n\t\t\tthis['_before_close_' + unique_id](e, manual_close);\n\n\t\t\t// If this is true, then we are coming from clicking the (X)\n\t\t\tif(unbind_events){\n\t\t\t\te.unbind('mouseenter mouseleave');\n\t\t\t}\n\n\t\t\t// Fade it out or remove it\n\t\t\tif(fade){\n\n\t\t\t\te.animate({\n\t\t\t\t\topacity: 0\n\t\t\t\t}, fade_out_speed, function(){\n\t\t\t\t\te.animate({ height: 0 }, 300, function(){\n\t\t\t\t\t\tGritter._countRemoveWrapper(unique_id, e, manual_close);\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t}\n\t\t\telse {\n\n\t\t\t\tthis._countRemoveWrapper(unique_id, e);\n\n\t\t\t}\n\n\t\t},\n\n\t\t/**\n\t\t* Perform actions based on the type of bind (mouseenter, mouseleave)\n\t\t* @private\n\t\t* @param {Object} e The jQuery element\n\t\t* @param {String} type The type of action we're performing: mouseenter or mouseleave\n\t\t*/\n\t\t_hoverState: function(e, type){\n\n\t\t\t// Change the border styles and add the (X) close button when you hover\n\t\t\tif(type == 'mouseenter'){\n\n\t\t\t\te.addClass('hover');\n\n\t\t\t\t// Show close button\n\t\t\t\t// e.find('.gritter-close').show();\n\n\t\t\t}\n\t\t\t// Remove the border styles and hide (X) close button when you mouse out\n\t\t\telse {\n\n\t\t\t\te.removeClass('hover');\n\n\t\t\t\t// Hide close button\n\t\t\t\t// e.find('.gritter-close').hide();\n\n\t\t\t}\n\n\t\t},\n\n\t\t/**\n\t\t* Remove a specific notification based on an ID\n\t\t* @param {Integer} unique_id The ID used to delete a specific notification\n\t\t* @param {Object} params A set of options passed in to determine how to get rid of it\n\t\t* @param {Object} e The jQuery element that we're \"fading\" then removing\n\t\t* @param {Boolean} unbind_events If we clicked on the (X) we set this to true to unbind mouseenter/mouseleave\n\t\t*/\n\t\tremoveSpecific: function(unique_id, params, e, unbind_events){\n\n\t\t\tif(!e){\n\t\t\t\tvar e = $('#gritter-item-' + unique_id);\n\t\t\t}\n\n\t\t\t// We set the fourth param to let the _fade function know to\n\t\t\t// unbind the \"mouseleave\" event.  Once you click (X) there's no going back!\n\t\t\tthis._fade(e, unique_id, params || {}, unbind_events);\n\n\t\t},\n\n\t\t/**\n\t\t* If the item is fading out and we hover over it, restore it!\n\t\t* @private\n\t\t* @param {Object} e The HTML element to remove\n\t\t* @param {Integer} unique_id The ID of the element\n\t\t*/\n\t\t_restoreItemIfFading: function(e, unique_id){\n\n\t\t\tclearTimeout(this['_int_id_' + unique_id]);\n\t\t\te.stop().css({ opacity: '', height: '' });\n\n\t\t},\n\n\t\t/**\n\t\t* Setup the global options - only once\n\t\t* @private\n\t\t*/\n\t\t_runSetup: function(){\n\t\t\tfor (var opt in $.gritter.options) { \n\t\t\t\tthis[opt] = $.gritter.options[opt];\n\t\t\t}\n\t\t\tthis._is_setup = 1;\n\n\t\t},\n\n\t\t/**\n\t\t* Set the notification to fade out after a certain amount of time\n\t\t* @private\n\t\t* @param {Object} item The HTML element we're dealing with\n\t\t* @param {Integer} unique_id The ID of the element\n\t\t*/\n\t\t_setFadeTimer: function(e, unique_id){\n\n\t\t\tvar timer_str = (this._custom_timer) ? this._custom_timer : this.time;\n\t\t\tthis['_int_id_' + unique_id] = setTimeout(function(){\n\t\t\t\tGritter._fade(e, unique_id);\n\t\t\t}, timer_str);\n\n\t\t},\n\n\t\t/**\n\t\t* Bring everything to a halt\n\t\t* @param {Object} params A list of callback functions to pass when all notifications are removed\n\t\t*/\n\t\tstop: function(params){\n\n\t\t\t// callbacks (if passed)\n\t\t\tvar before_close = ($.isFunction(params.before_close)) ? params.before_close : function(){};\n\t\t\tvar after_close = ($.isFunction(params.after_close)) ? params.after_close : function(){};\n\n\t\t\tvar wrap = $('#gritter-notice-wrapper');\n\t\t\tbefore_close(wrap);\n\t\t\twrap.fadeOut(function(){\n\t\t\t\t$(this).remove();\n\t\t\t\tafter_close();\n\t\t\t});\n\n\t\t},\n\n\t\t/**\n\t\t* An extremely handy PHP function ported to JS, works well for templating\n\t\t* @private\n\t\t* @param {String/Array} search A list of things to search for\n\t\t* @param {String/Array} replace A list of things to replace the searches with\n\t\t* @return {String} sa The output\n\t\t*/\n\t\t_str_replace: function(search, replace, subject, count){\n\n\t\t\tvar i = 0, j = 0, temp = '', repl = '', sl = 0, fl = 0,\n\t\t\t\tf = [].concat(search),\n\t\t\t\tr = [].concat(replace),\n\t\t\t\ts = subject,\n\t\t\t\tra = r instanceof Array, sa = s instanceof Array;\n\t\t\ts = [].concat(s);\n\n\t\t\tif(count){\n\t\t\t\tthis.window[count] = 0;\n\t\t\t}\n\n\t\t\tfor(i = 0, sl = s.length; i < sl; i++){\n\n\t\t\t\tif(s[i] === ''){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (j = 0, fl = f.length; j < fl; j++){\n\n\t\t\t\t\ttemp = s[i] + '';\n\t\t\t\t\trepl = ra ? (r[j] !== undefined ? r[j] : '') : r[0];\n\t\t\t\t\ts[i] = (temp).split(f[j]).join(repl);\n\n\t\t\t\t\tif(count && s[i] !== temp){\n\t\t\t\t\t\tthis.window[count] += (temp.length-s[i].length) / f[j].length;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn sa ? s : s[0];\n\n\t\t},\n\n\t\t/**\n\t\t* A check to make sure we have something to wrap our notices with\n\t\t* @private\n\t\t*/\n\t\t_verifyWrapper: function(){\n\n\t\t\tif($('#gritter-notice-wrapper').length == 0){\n\t\t\t\t$('body').append(this._tpl_wrap);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n})(jQuery);\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJidWlsZC92ZW5kb3JzL2dyaXR0ZXIvZ3JpdHRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7Ozs7Ozs7Ozs7O0FBV0EsQ0FBQyxVQUFTLENBQVQsRUFBVzs7QUFFWDs7O0FBR0EsR0FBRSxPQUFGLEdBQVksRUFBWjs7QUFFQTs7O0FBR0EsR0FBRSxPQUFGLENBQVUsT0FBVixHQUFvQjtBQUNuQixZQUFVLEVBRFM7QUFFbkIsY0FBWSxFQUZPLEVBRUg7QUFDaEIsaUJBQWUsUUFISSxFQUdNO0FBQ3pCLGtCQUFnQixJQUpHLEVBSUc7QUFDdEIsUUFBTSxJQUxhLENBS1I7OztBQUdaOzs7O0FBUm9CLEVBQXBCLENBWUEsRUFBRSxPQUFGLENBQVUsR0FBVixHQUFnQixVQUFTLE1BQVQsRUFBZ0I7O0FBRS9CLE1BQUk7QUFDSCxVQUFPLFFBQVEsR0FBUixDQUFZLFVBQVUsRUFBdEIsQ0FBUDtBQUNBLEdBRkQsQ0FFRSxPQUFNLENBQU4sRUFBUzs7QUFFVixPQUFJLE1BQU0sb0JBQW9CLENBQTlCO0FBQ0MsVUFBTyxPQUFQLElBQW1CLFdBQW5CLElBQWtDLFFBQVEsS0FBM0MsR0FDQyxRQUFRLEtBQVIsQ0FBYyxHQUFkLEVBQW1CLE1BQW5CLENBREQsR0FFQyxNQUFNLEdBQU4sQ0FGRDtBQUlBO0FBRUQsRUFiRDs7QUFlQTs7OztBQUlBLEdBQUUsT0FBRixDQUFVLE1BQVYsR0FBbUIsVUFBUyxFQUFULEVBQWEsTUFBYixFQUFvQjtBQUN0QyxVQUFRLGNBQVIsQ0FBdUIsRUFBdkIsRUFBMkIsVUFBVSxFQUFyQztBQUNBLEVBRkQ7O0FBSUE7Ozs7QUFJQSxHQUFFLE9BQUYsQ0FBVSxTQUFWLEdBQXNCLFVBQVMsTUFBVCxFQUFnQjtBQUNyQyxVQUFRLElBQVIsQ0FBYSxVQUFVLEVBQXZCO0FBQ0EsRUFGRDs7QUFJQTs7OztBQUlBLEtBQUksVUFBVTs7QUFFYjtBQUNBLFlBQVUsRUFIRztBQUliLGlCQUFlLEVBSkY7QUFLYixrQkFBZ0IsRUFMSDtBQU1iLFFBQU0sRUFOTzs7QUFRYjtBQUNBLGlCQUFlLENBVEY7QUFVYixlQUFhLENBVkE7QUFXYixhQUFXLENBWEU7QUFZYixjQUFZLGdGQVpDO0FBYWIsY0FBWSw4Q0FiQztBQWNiLGFBQVcsa1FBZEU7QUFlYixhQUFXLHlDQWZFOztBQWlCYjs7Ozs7QUFLQSxPQUFLLGFBQVMsTUFBVCxFQUFnQjtBQUNwQjtBQUNBLE9BQUcsT0FBTyxNQUFQLElBQWtCLFFBQXJCLEVBQThCO0FBQzdCLGFBQVMsRUFBQyxNQUFLLE1BQU4sRUFBVDtBQUNBOztBQUVEO0FBQ0EsT0FBRyxPQUFPLElBQVAsS0FBZ0IsSUFBbkIsRUFBd0I7QUFDdkIsVUFBTSxtQ0FBTjtBQUNBOztBQUVEO0FBQ0EsT0FBRyxDQUFDLEtBQUssU0FBVCxFQUFtQjtBQUNsQixTQUFLLFNBQUw7QUFDQTs7QUFFRDtBQUNBLE9BQUksUUFBUSxPQUFPLEtBQW5CO0FBQUEsT0FDQyxPQUFPLE9BQU8sSUFEZjtBQUFBLE9BRUMsUUFBUSxPQUFPLEtBQVAsSUFBZ0IsRUFGekI7QUFBQSxPQUdDLFNBQVMsT0FBTyxNQUFQLElBQWlCLEtBSDNCO0FBQUEsT0FJQyxhQUFhLE9BQU8sVUFBUCxJQUFxQixFQUFFLE9BQUYsQ0FBVSxPQUFWLENBQWtCLFVBSnJEO0FBQUEsT0FLQyxXQUFXLEVBQUUsT0FBRixDQUFVLE9BQVYsQ0FBa0IsUUFMOUI7QUFBQSxPQU1DLGFBQWEsT0FBTyxJQUFQLElBQWUsRUFON0I7O0FBUUEsUUFBSyxjQUFMOztBQUVBLFFBQUssV0FBTDtBQUNBLE9BQUksU0FBUyxLQUFLLFdBQWxCO0FBQUEsT0FDQyxNQUFNLEtBQUssU0FEWjs7QUFHQTtBQUNBLEtBQUUsQ0FBQyxhQUFELEVBQWdCLFlBQWhCLEVBQThCLGNBQTlCLEVBQThDLGFBQTlDLENBQUYsRUFBZ0UsSUFBaEUsQ0FBcUUsVUFBUyxDQUFULEVBQVksR0FBWixFQUFnQjtBQUNwRixZQUFRLE1BQU0sR0FBTixHQUFZLEdBQVosR0FBa0IsTUFBMUIsSUFBcUMsRUFBRSxVQUFGLENBQWEsT0FBTyxHQUFQLENBQWIsQ0FBRCxHQUE4QixPQUFPLEdBQVAsQ0FBOUIsR0FBNEMsWUFBVSxDQUFFLENBQTVGO0FBQ0EsSUFGRDs7QUFJQTtBQUNBLFFBQUssYUFBTCxHQUFxQixDQUFyQjs7QUFFQTtBQUNBLE9BQUcsVUFBSCxFQUFjO0FBQ2IsU0FBSyxhQUFMLEdBQXFCLFVBQXJCO0FBQ0E7O0FBRUQsT0FBSSxZQUFhLFNBQVMsRUFBVixHQUFnQixrREFBa0QsS0FBbEQsR0FBMEQsa0NBQTFFLEdBQStHLEVBQS9IO0FBQUEsT0FDQyxhQUFjLFNBQVMsRUFBVixHQUFnQixvQkFBaEIsR0FBdUMsdUJBRHJEOztBQUdBO0FBQ0EsT0FBRyxLQUFILEVBQVM7QUFDUixZQUFRLEtBQUssWUFBTCxDQUFrQixXQUFsQixFQUE4QixLQUE5QixFQUFvQyxLQUFLLFVBQXpDLENBQVI7QUFDQSxJQUZELE1BRUs7QUFDSixZQUFRLEVBQVI7QUFDQTs7QUFFRCxTQUFNLEtBQUssWUFBTCxDQUNMLENBQUMsV0FBRCxFQUFjLFVBQWQsRUFBMEIsV0FBMUIsRUFBdUMsV0FBdkMsRUFBb0QsWUFBcEQsRUFBa0UsZ0JBQWxFLEVBQW9GLGdCQUFwRixDQURLLEVBRUwsQ0FBQyxLQUFELEVBQVEsSUFBUixFQUFjLEtBQUssVUFBbkIsRUFBK0IsU0FBL0IsRUFBMEMsS0FBSyxXQUEvQyxFQUE0RCxVQUE1RCxFQUF3RSxVQUF4RSxDQUZLLEVBRWdGLEdBRmhGLENBQU47O0FBS0E7QUFDQSxPQUFHLEtBQUssa0JBQWtCLE1BQXZCLFFBQXFDLEtBQXhDLEVBQThDO0FBQzdDLFdBQU8sS0FBUDtBQUNBOztBQUVELEtBQUUseUJBQUYsRUFBNkIsUUFBN0IsQ0FBc0MsUUFBdEMsRUFBZ0QsTUFBaEQsQ0FBdUQsR0FBdkQ7O0FBRUEsT0FBSSxPQUFPLEVBQUUsbUJBQW1CLEtBQUssV0FBMUIsQ0FBWDs7QUFFQSxRQUFLLE1BQUwsQ0FBWSxLQUFLLGFBQWpCLEVBQWdDLFlBQVU7QUFDekMsWUFBUSxpQkFBaUIsTUFBekIsRUFBaUMsRUFBRSxJQUFGLENBQWpDO0FBQ0EsSUFGRDs7QUFJQSxPQUFHLENBQUMsTUFBSixFQUFXO0FBQ1YsU0FBSyxhQUFMLENBQW1CLElBQW5CLEVBQXlCLE1BQXpCO0FBQ0E7O0FBRUQ7QUFDQSxLQUFFLElBQUYsRUFBUSxJQUFSLENBQWEsdUJBQWIsRUFBc0MsVUFBUyxLQUFULEVBQWU7QUFDcEQsUUFBRyxNQUFNLElBQU4sSUFBYyxZQUFqQixFQUE4QjtBQUM3QixTQUFHLENBQUMsTUFBSixFQUFXO0FBQ1YsY0FBUSxvQkFBUixDQUE2QixFQUFFLElBQUYsQ0FBN0IsRUFBc0MsTUFBdEM7QUFDQTtBQUNELEtBSkQsTUFLSztBQUNKLFNBQUcsQ0FBQyxNQUFKLEVBQVc7QUFDVixjQUFRLGFBQVIsQ0FBc0IsRUFBRSxJQUFGLENBQXRCLEVBQStCLE1BQS9CO0FBQ0E7QUFDRDtBQUNELFlBQVEsV0FBUixDQUFvQixFQUFFLElBQUYsQ0FBcEIsRUFBNkIsTUFBTSxJQUFuQztBQUNBLElBWkQ7O0FBY0E7QUFDQSxLQUFFLElBQUYsRUFBUSxJQUFSLENBQWEsZ0JBQWIsRUFBK0IsS0FBL0IsQ0FBcUMsWUFBVTtBQUM5QyxZQUFRLGNBQVIsQ0FBdUIsTUFBdkIsRUFBK0IsRUFBL0IsRUFBbUMsSUFBbkMsRUFBeUMsSUFBekM7QUFDQSxXQUFPLEtBQVA7QUFDQSxJQUhEOztBQUtBLFVBQU8sTUFBUDtBQUVBLEdBekhZOztBQTJIYjs7Ozs7OztBQU9BLHVCQUFxQiw2QkFBUyxTQUFULEVBQW9CLENBQXBCLEVBQXVCLFlBQXZCLEVBQW9DOztBQUV4RDtBQUNBLEtBQUUsTUFBRjtBQUNBLFFBQUssa0JBQWtCLFNBQXZCLEVBQWtDLENBQWxDLEVBQXFDLFlBQXJDOztBQUVBO0FBQ0EsT0FBRyxFQUFFLHVCQUFGLEVBQTJCLE1BQTNCLElBQXFDLENBQXhDLEVBQTBDO0FBQ3pDLE1BQUUseUJBQUYsRUFBNkIsTUFBN0I7QUFDQTtBQUVELEdBN0lZOztBQStJYjs7Ozs7Ozs7QUFRQSxTQUFPLGVBQVMsQ0FBVCxFQUFZLFNBQVosRUFBdUIsTUFBdkIsRUFBK0IsYUFBL0IsRUFBNkM7O0FBRW5ELE9BQUksU0FBUyxVQUFVLEVBQXZCO0FBQUEsT0FDQyxPQUFRLE9BQU8sT0FBTyxJQUFkLElBQXVCLFdBQXhCLEdBQXVDLE9BQU8sSUFBOUMsR0FBcUQsSUFEN0Q7QUFBQSxPQUVDLGlCQUFpQixPQUFPLEtBQVAsSUFBZ0IsS0FBSyxjQUZ2QztBQUFBLE9BR0MsZUFBZSxhQUhoQjs7QUFLQSxRQUFLLG1CQUFtQixTQUF4QixFQUFtQyxDQUFuQyxFQUFzQyxZQUF0Qzs7QUFFQTtBQUNBLE9BQUcsYUFBSCxFQUFpQjtBQUNoQixNQUFFLE1BQUYsQ0FBUyx1QkFBVDtBQUNBOztBQUVEO0FBQ0EsT0FBRyxJQUFILEVBQVE7O0FBRVAsTUFBRSxPQUFGLENBQVU7QUFDVCxjQUFTO0FBREEsS0FBVixFQUVHLGNBRkgsRUFFbUIsWUFBVTtBQUM1QixPQUFFLE9BQUYsQ0FBVSxFQUFFLFFBQVEsQ0FBVixFQUFWLEVBQXlCLEdBQXpCLEVBQThCLFlBQVU7QUFDdkMsY0FBUSxtQkFBUixDQUE0QixTQUE1QixFQUF1QyxDQUF2QyxFQUEwQyxZQUExQztBQUNBLE1BRkQ7QUFHQSxLQU5EO0FBUUEsSUFWRCxNQVdLOztBQUVKLFNBQUssbUJBQUwsQ0FBeUIsU0FBekIsRUFBb0MsQ0FBcEM7QUFFQTtBQUVELEdBdkxZOztBQXlMYjs7Ozs7O0FBTUEsZUFBYSxxQkFBUyxDQUFULEVBQVksSUFBWixFQUFpQjs7QUFFN0I7QUFDQSxPQUFHLFFBQVEsWUFBWCxFQUF3Qjs7QUFFdkIsTUFBRSxRQUFGLENBQVcsT0FBWDs7QUFFQTtBQUNBO0FBRUE7QUFDRDtBQVJBLFFBU0s7O0FBRUosT0FBRSxXQUFGLENBQWMsT0FBZDs7QUFFQTtBQUNBO0FBRUE7QUFFRCxHQXBOWTs7QUFzTmI7Ozs7Ozs7QUFPQSxrQkFBZ0Isd0JBQVMsU0FBVCxFQUFvQixNQUFwQixFQUE0QixDQUE1QixFQUErQixhQUEvQixFQUE2Qzs7QUFFNUQsT0FBRyxDQUFDLENBQUosRUFBTTtBQUNMLFFBQUksSUFBSSxFQUFFLG1CQUFtQixTQUFyQixDQUFSO0FBQ0E7O0FBRUQ7QUFDQTtBQUNBLFFBQUssS0FBTCxDQUFXLENBQVgsRUFBYyxTQUFkLEVBQXlCLFVBQVUsRUFBbkMsRUFBdUMsYUFBdkM7QUFFQSxHQXZPWTs7QUF5T2I7Ozs7OztBQU1BLHdCQUFzQiw4QkFBUyxDQUFULEVBQVksU0FBWixFQUFzQjs7QUFFM0MsZ0JBQWEsS0FBSyxhQUFhLFNBQWxCLENBQWI7QUFDQSxLQUFFLElBQUYsR0FBUyxHQUFULENBQWEsRUFBRSxTQUFTLEVBQVgsRUFBZSxRQUFRLEVBQXZCLEVBQWI7QUFFQSxHQXBQWTs7QUFzUGI7Ozs7QUFJQSxhQUFXLHFCQUFVO0FBQ3BCLFFBQUssSUFBSSxHQUFULElBQWdCLEVBQUUsT0FBRixDQUFVLE9BQTFCLEVBQW1DO0FBQ2xDLFNBQUssR0FBTCxJQUFZLEVBQUUsT0FBRixDQUFVLE9BQVYsQ0FBa0IsR0FBbEIsQ0FBWjtBQUNBO0FBQ0QsUUFBSyxTQUFMLEdBQWlCLENBQWpCO0FBRUEsR0FoUVk7O0FBa1FiOzs7Ozs7QUFNQSxpQkFBZSx1QkFBUyxDQUFULEVBQVksU0FBWixFQUFzQjs7QUFFcEMsT0FBSSxZQUFhLEtBQUssYUFBTixHQUF1QixLQUFLLGFBQTVCLEdBQTRDLEtBQUssSUFBakU7QUFDQSxRQUFLLGFBQWEsU0FBbEIsSUFBK0IsV0FBVyxZQUFVO0FBQ25ELFlBQVEsS0FBUixDQUFjLENBQWQsRUFBaUIsU0FBakI7QUFDQSxJQUY4QixFQUU1QixTQUY0QixDQUEvQjtBQUlBLEdBL1FZOztBQWlSYjs7OztBQUlBLFFBQU0sY0FBUyxNQUFULEVBQWdCOztBQUVyQjtBQUNBLE9BQUksZUFBZ0IsRUFBRSxVQUFGLENBQWEsT0FBTyxZQUFwQixDQUFELEdBQXNDLE9BQU8sWUFBN0MsR0FBNEQsWUFBVSxDQUFFLENBQTNGO0FBQ0EsT0FBSSxjQUFlLEVBQUUsVUFBRixDQUFhLE9BQU8sV0FBcEIsQ0FBRCxHQUFxQyxPQUFPLFdBQTVDLEdBQTBELFlBQVUsQ0FBRSxDQUF4Rjs7QUFFQSxPQUFJLE9BQU8sRUFBRSx5QkFBRixDQUFYO0FBQ0EsZ0JBQWEsSUFBYjtBQUNBLFFBQUssT0FBTCxDQUFhLFlBQVU7QUFDdEIsTUFBRSxJQUFGLEVBQVEsTUFBUjtBQUNBO0FBQ0EsSUFIRDtBQUtBLEdBbFNZOztBQW9TYjs7Ozs7OztBQU9BLGdCQUFjLHNCQUFTLE1BQVQsRUFBaUIsT0FBakIsRUFBMEIsT0FBMUIsRUFBbUMsS0FBbkMsRUFBeUM7O0FBRXRELE9BQUksSUFBSSxDQUFSO0FBQUEsT0FBVyxJQUFJLENBQWY7QUFBQSxPQUFrQixPQUFPLEVBQXpCO0FBQUEsT0FBNkIsT0FBTyxFQUFwQztBQUFBLE9BQXdDLEtBQUssQ0FBN0M7QUFBQSxPQUFnRCxLQUFLLENBQXJEO0FBQUEsT0FDQyxJQUFJLEdBQUcsTUFBSCxDQUFVLE1BQVYsQ0FETDtBQUFBLE9BRUMsSUFBSSxHQUFHLE1BQUgsQ0FBVSxPQUFWLENBRkw7QUFBQSxPQUdDLElBQUksT0FITDtBQUFBLE9BSUMsS0FBSyxhQUFhLEtBSm5CO0FBQUEsT0FJMEIsS0FBSyxhQUFhLEtBSjVDO0FBS0EsT0FBSSxHQUFHLE1BQUgsQ0FBVSxDQUFWLENBQUo7O0FBRUEsT0FBRyxLQUFILEVBQVM7QUFDUixTQUFLLE1BQUwsQ0FBWSxLQUFaLElBQXFCLENBQXJCO0FBQ0E7O0FBRUQsUUFBSSxJQUFJLENBQUosRUFBTyxLQUFLLEVBQUUsTUFBbEIsRUFBMEIsSUFBSSxFQUE5QixFQUFrQyxHQUFsQyxFQUFzQzs7QUFFckMsUUFBRyxFQUFFLENBQUYsTUFBUyxFQUFaLEVBQWU7QUFDZDtBQUNBOztBQUVELFNBQUssSUFBSSxDQUFKLEVBQU8sS0FBSyxFQUFFLE1BQW5CLEVBQTJCLElBQUksRUFBL0IsRUFBbUMsR0FBbkMsRUFBdUM7O0FBRXRDLFlBQU8sRUFBRSxDQUFGLElBQU8sRUFBZDtBQUNBLFlBQU8sS0FBTSxFQUFFLENBQUYsTUFBUyxTQUFULEdBQXFCLEVBQUUsQ0FBRixDQUFyQixHQUE0QixFQUFsQyxHQUF3QyxFQUFFLENBQUYsQ0FBL0M7QUFDQSxPQUFFLENBQUYsSUFBUSxJQUFELENBQU8sS0FBUCxDQUFhLEVBQUUsQ0FBRixDQUFiLEVBQW1CLElBQW5CLENBQXdCLElBQXhCLENBQVA7O0FBRUEsU0FBRyxTQUFTLEVBQUUsQ0FBRixNQUFTLElBQXJCLEVBQTBCO0FBQ3pCLFdBQUssTUFBTCxDQUFZLEtBQVosS0FBc0IsQ0FBQyxLQUFLLE1BQUwsR0FBWSxFQUFFLENBQUYsRUFBSyxNQUFsQixJQUE0QixFQUFFLENBQUYsRUFBSyxNQUF2RDtBQUNBO0FBRUQ7QUFDRDs7QUFFRCxVQUFPLEtBQUssQ0FBTCxHQUFTLEVBQUUsQ0FBRixDQUFoQjtBQUVBLEdBN1VZOztBQStVYjs7OztBQUlBLGtCQUFnQiwwQkFBVTs7QUFFekIsT0FBRyxFQUFFLHlCQUFGLEVBQTZCLE1BQTdCLElBQXVDLENBQTFDLEVBQTRDO0FBQzNDLE1BQUUsTUFBRixFQUFVLE1BQVYsQ0FBaUIsS0FBSyxTQUF0QjtBQUNBO0FBRUQ7O0FBelZZLEVBQWQ7QUE2VkEsQ0F0WkQsRUFzWkcsTUF0WkgiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLypcbiAqIEdyaXR0ZXIgZm9yIGpRdWVyeVxuICogaHR0cDovL3d3dy5ib2VkZXNpZ24uY29tL1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxMiBKb3JkYW4gQm9lc2NoXG4gKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgYW5kIEdQTCBsaWNlbnNlcy5cbiAqXG4gKiBEYXRlOiBGZWJydWFyeSAyNCwgMjAxMlxuICogVmVyc2lvbjogMS43LjRcbiAqL1xuXG4oZnVuY3Rpb24oJCl7XG5cblx0LyoqXG5cdCogU2V0IGl0IHVwIGFzIGFuIG9iamVjdCB1bmRlciB0aGUgalF1ZXJ5IG5hbWVzcGFjZVxuXHQqL1xuXHQkLmdyaXR0ZXIgPSB7fTtcblxuXHQvKipcblx0KiBTZXQgdXAgZ2xvYmFsIG9wdGlvbnMgdGhhdCB0aGUgdXNlciBjYW4gb3Zlci1yaWRlXG5cdCovXG5cdCQuZ3JpdHRlci5vcHRpb25zID0ge1xuXHRcdHBvc2l0aW9uOiAnJyxcblx0XHRjbGFzc19uYW1lOiAnJywgLy8gY291bGQgYmUgc2V0IHRvICdncml0dGVyLWxpZ2h0JyB0byB1c2Ugd2hpdGUgbm90aWZpY2F0aW9uc1xuXHRcdGZhZGVfaW5fc3BlZWQ6ICdtZWRpdW0nLCAvLyBob3cgZmFzdCBub3RpZmljYXRpb25zIGZhZGUgaW5cblx0XHRmYWRlX291dF9zcGVlZDogMTAwMCwgLy8gaG93IGZhc3QgdGhlIG5vdGljZXMgZmFkZSBvdXRcblx0XHR0aW1lOiA2MDAwIC8vIGhhbmcgb24gdGhlIHNjcmVlbiBmb3IuLi5cblx0fVxuXG5cdC8qKlxuXHQqIEFkZCBhIGdyaXR0ZXIgbm90aWZpY2F0aW9uIHRvIHRoZSBzY3JlZW5cblx0KiBAc2VlIEdyaXR0ZXIjYWRkKCk7XG5cdCovXG5cdCQuZ3JpdHRlci5hZGQgPSBmdW5jdGlvbihwYXJhbXMpe1xuXG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiBHcml0dGVyLmFkZChwYXJhbXMgfHwge30pO1xuXHRcdH0gY2F0Y2goZSkge1xuXG5cdFx0XHR2YXIgZXJyID0gJ0dyaXR0ZXIgRXJyb3I6ICcgKyBlO1xuXHRcdFx0KHR5cGVvZihjb25zb2xlKSAhPSAndW5kZWZpbmVkJyAmJiBjb25zb2xlLmVycm9yKSA/XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyLCBwYXJhbXMpIDpcblx0XHRcdFx0YWxlcnQoZXJyKTtcblxuXHRcdH1cblxuXHR9XG5cblx0LyoqXG5cdCogUmVtb3ZlIGEgZ3JpdHRlciBub3RpZmljYXRpb24gZnJvbSB0aGUgc2NyZWVuXG5cdCogQHNlZSBHcml0dGVyI3JlbW92ZVNwZWNpZmljKCk7XG5cdCovXG5cdCQuZ3JpdHRlci5yZW1vdmUgPSBmdW5jdGlvbihpZCwgcGFyYW1zKXtcblx0XHRHcml0dGVyLnJlbW92ZVNwZWNpZmljKGlkLCBwYXJhbXMgfHwge30pO1xuXHR9XG5cblx0LyoqXG5cdCogUmVtb3ZlIGFsbCBub3RpZmljYXRpb25zXG5cdCogQHNlZSBHcml0dGVyI3N0b3AoKTtcblx0Ki9cblx0JC5ncml0dGVyLnJlbW92ZUFsbCA9IGZ1bmN0aW9uKHBhcmFtcyl7XG5cdFx0R3JpdHRlci5zdG9wKHBhcmFtcyB8fCB7fSk7XG5cdH1cblxuXHQvKipcblx0KiBCaWcgZmF0IEdyaXR0ZXIgb2JqZWN0XG5cdCogQGNvbnN0cnVjdG9yIChub3QgcmVhbGx5IHNpbmNlIGl0cyBvYmplY3QgbGl0ZXJhbClcblx0Ki9cblx0dmFyIEdyaXR0ZXIgPSB7XG5cblx0XHQvLyBQdWJsaWMgLSBvcHRpb25zIHRvIG92ZXItcmlkZSB3aXRoICQuZ3JpdHRlci5vcHRpb25zIGluIFwiYWRkXCJcblx0XHRwb3NpdGlvbjogJycsXG5cdFx0ZmFkZV9pbl9zcGVlZDogJycsXG5cdFx0ZmFkZV9vdXRfc3BlZWQ6ICcnLFxuXHRcdHRpbWU6ICcnLFxuXG5cdFx0Ly8gUHJpdmF0ZSAtIG5vIHRvdWNoeSB0aGUgcHJpdmF0ZSBwYXJ0c1xuXHRcdF9jdXN0b21fdGltZXI6IDAsXG5cdFx0X2l0ZW1fY291bnQ6IDAsXG5cdFx0X2lzX3NldHVwOiAwLFxuXHRcdF90cGxfY2xvc2U6ICc8YSBjbGFzcz1cImdyaXR0ZXItY2xvc2VcIiBocmVmPVwiI1wiIHRhYmluZGV4PVwiMVwiPjxpIGNsYXNzPVwicGUgcGUtY2xvc2VcIj48L2k+PC9hPicsXG5cdFx0X3RwbF90aXRsZTogJzxzcGFuIGNsYXNzPVwiZ3JpdHRlci10aXRsZVwiPltbdGl0bGVdXTwvc3Bhbj4nLFxuXHRcdF90cGxfaXRlbTogJzxkaXYgaWQ9XCJncml0dGVyLWl0ZW0tW1tudW1iZXJdXVwiIGNsYXNzPVwiZ3JpdHRlci1pdGVtLXdyYXBwZXJcIiBzdHlsZT1cImRpc3BsYXk6bm9uZVwiIHJvbGU9XCJhbGVydFwiPjxkaXYgY2xhc3M9XCJncml0dGVyLWl0ZW0gW1tpdGVtX2NsYXNzXV1cIj5bW2Nsb3NlXV1bW2ltYWdlXV08ZGl2IGNsYXNzPVwiW1tjbGFzc19uYW1lXV1cIj5bW3RpdGxlXV08cD5bW3RleHRdXTwvcD48L2Rpdj48ZGl2IHN0eWxlPVwiY2xlYXI6Ym90aFwiPjwvZGl2PjwvZGl2PjwvZGl2PicsXG5cdFx0X3RwbF93cmFwOiAnPGRpdiBpZD1cImdyaXR0ZXItbm90aWNlLXdyYXBwZXJcIj48L2Rpdj4nLFxuXG5cdFx0LyoqXG5cdFx0KiBBZGQgYSBncml0dGVyIG5vdGlmaWNhdGlvbiB0byB0aGUgc2NyZWVuXG5cdFx0KiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIFRoZSBvYmplY3QgdGhhdCBjb250YWlucyBhbGwgdGhlIG9wdGlvbnMgZm9yIGRyYXdpbmcgdGhlIG5vdGlmaWNhdGlvblxuXHRcdCogQHJldHVybiB7SW50ZWdlcn0gVGhlIHNwZWNpZmljIG51bWVyaWMgaWQgdG8gdGhhdCBncml0dGVyIG5vdGlmaWNhdGlvblxuXHRcdCovXG5cdFx0YWRkOiBmdW5jdGlvbihwYXJhbXMpe1xuXHRcdFx0Ly8gSGFuZGxlIHN0cmFpZ2h0IHRleHRcblx0XHRcdGlmKHR5cGVvZihwYXJhbXMpID09ICdzdHJpbmcnKXtcblx0XHRcdFx0cGFyYW1zID0ge3RleHQ6cGFyYW1zfTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2UgbWlnaHQgaGF2ZSBzb21lIGlzc3VlcyBpZiB3ZSBkb24ndCBoYXZlIGEgdGl0bGUgb3IgdGV4dCFcblx0XHRcdGlmKHBhcmFtcy50ZXh0ID09PSBudWxsKXtcblx0XHRcdFx0dGhyb3cgJ1lvdSBtdXN0IHN1cHBseSBcInRleHRcIiBwYXJhbWV0ZXIuJztcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2hlY2sgdGhlIG9wdGlvbnMgYW5kIHNldCB0aGVtIG9uY2Vcblx0XHRcdGlmKCF0aGlzLl9pc19zZXR1cCl7XG5cdFx0XHRcdHRoaXMuX3J1blNldHVwKCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEJhc2ljc1xuXHRcdFx0dmFyIHRpdGxlID0gcGFyYW1zLnRpdGxlLFxuXHRcdFx0XHR0ZXh0ID0gcGFyYW1zLnRleHQsXG5cdFx0XHRcdGltYWdlID0gcGFyYW1zLmltYWdlIHx8ICcnLFxuXHRcdFx0XHRzdGlja3kgPSBwYXJhbXMuc3RpY2t5IHx8IGZhbHNlLFxuXHRcdFx0XHRpdGVtX2NsYXNzID0gcGFyYW1zLmNsYXNzX25hbWUgfHwgJC5ncml0dGVyLm9wdGlvbnMuY2xhc3NfbmFtZSxcblx0XHRcdFx0cG9zaXRpb24gPSAkLmdyaXR0ZXIub3B0aW9ucy5wb3NpdGlvbixcblx0XHRcdFx0dGltZV9hbGl2ZSA9IHBhcmFtcy50aW1lIHx8ICcnO1xuXG5cdFx0XHR0aGlzLl92ZXJpZnlXcmFwcGVyKCk7XG5cblx0XHRcdHRoaXMuX2l0ZW1fY291bnQrKztcblx0XHRcdHZhciBudW1iZXIgPSB0aGlzLl9pdGVtX2NvdW50LFxuXHRcdFx0XHR0bXAgPSB0aGlzLl90cGxfaXRlbTtcblxuXHRcdFx0Ly8gQXNzaWduIGNhbGxiYWNrc1xuXHRcdFx0JChbJ2JlZm9yZV9vcGVuJywgJ2FmdGVyX29wZW4nLCAnYmVmb3JlX2Nsb3NlJywgJ2FmdGVyX2Nsb3NlJ10pLmVhY2goZnVuY3Rpb24oaSwgdmFsKXtcblx0XHRcdFx0R3JpdHRlclsnXycgKyB2YWwgKyAnXycgKyBudW1iZXJdID0gKCQuaXNGdW5jdGlvbihwYXJhbXNbdmFsXSkpID8gcGFyYW1zW3ZhbF0gOiBmdW5jdGlvbigpe31cblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBSZXNldFxuXHRcdFx0dGhpcy5fY3VzdG9tX3RpbWVyID0gMDtcblxuXHRcdFx0Ly8gQSBjdXN0b20gZmFkZSB0aW1lIHNldFxuXHRcdFx0aWYodGltZV9hbGl2ZSl7XG5cdFx0XHRcdHRoaXMuX2N1c3RvbV90aW1lciA9IHRpbWVfYWxpdmU7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBpbWFnZV9zdHIgPSAoaW1hZ2UgIT0gJycpID8gJzxkaXYgY2xhc3M9XCJncml0dGVyLWltYWdlLXdyYXBwZXJcIj48aW1nIHNyYz1cIicgKyBpbWFnZSArICdcIiBjbGFzcz1cImdyaXR0ZXItaW1hZ2VcIiAvPjwvZGl2PicgOiAnJyxcblx0XHRcdFx0Y2xhc3NfbmFtZSA9IChpbWFnZSAhPSAnJykgPyAnZ3JpdHRlci13aXRoLWltYWdlJyA6ICdncml0dGVyLXdpdGhvdXQtaW1hZ2UnO1xuXG5cdFx0XHQvLyBTdHJpbmcgcmVwbGFjZW1lbnRzIG9uIHRoZSB0ZW1wbGF0ZVxuXHRcdFx0aWYodGl0bGUpe1xuXHRcdFx0XHR0aXRsZSA9IHRoaXMuX3N0cl9yZXBsYWNlKCdbW3RpdGxlXV0nLHRpdGxlLHRoaXMuX3RwbF90aXRsZSk7XG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0dGl0bGUgPSAnJztcblx0XHRcdH1cblxuXHRcdFx0dG1wID0gdGhpcy5fc3RyX3JlcGxhY2UoXG5cdFx0XHRcdFsnW1t0aXRsZV1dJywgJ1tbdGV4dF1dJywgJ1tbY2xvc2VdXScsICdbW2ltYWdlXV0nLCAnW1tudW1iZXJdXScsICdbW2NsYXNzX25hbWVdXScsICdbW2l0ZW1fY2xhc3NdXSddLFxuXHRcdFx0XHRbdGl0bGUsIHRleHQsIHRoaXMuX3RwbF9jbG9zZSwgaW1hZ2Vfc3RyLCB0aGlzLl9pdGVtX2NvdW50LCBjbGFzc19uYW1lLCBpdGVtX2NsYXNzXSwgdG1wXG5cdFx0XHQpO1xuXG5cdFx0XHQvLyBJZiBpdCdzIGZhbHNlLCBkb24ndCBzaG93IGFub3RoZXIgZ3JpdHRlciBtZXNzYWdlXG5cdFx0XHRpZih0aGlzWydfYmVmb3JlX29wZW5fJyArIG51bWJlcl0oKSA9PT0gZmFsc2Upe1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdCQoJyNncml0dGVyLW5vdGljZS13cmFwcGVyJykuYWRkQ2xhc3MocG9zaXRpb24pLmFwcGVuZCh0bXApO1xuXG5cdFx0XHR2YXIgaXRlbSA9ICQoJyNncml0dGVyLWl0ZW0tJyArIHRoaXMuX2l0ZW1fY291bnQpO1xuXG5cdFx0XHRpdGVtLmZhZGVJbih0aGlzLmZhZGVfaW5fc3BlZWQsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdEdyaXR0ZXJbJ19hZnRlcl9vcGVuXycgKyBudW1iZXJdKCQodGhpcykpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGlmKCFzdGlja3kpe1xuXHRcdFx0XHR0aGlzLl9zZXRGYWRlVGltZXIoaXRlbSwgbnVtYmVyKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQmluZCB0aGUgaG92ZXIvdW5ob3ZlciBzdGF0ZXNcblx0XHRcdCQoaXRlbSkuYmluZCgnbW91c2VlbnRlciBtb3VzZWxlYXZlJywgZnVuY3Rpb24oZXZlbnQpe1xuXHRcdFx0XHRpZihldmVudC50eXBlID09ICdtb3VzZWVudGVyJyl7XG5cdFx0XHRcdFx0aWYoIXN0aWNreSl7XG5cdFx0XHRcdFx0XHRHcml0dGVyLl9yZXN0b3JlSXRlbUlmRmFkaW5nKCQodGhpcyksIG51bWJlcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdGlmKCFzdGlja3kpe1xuXHRcdFx0XHRcdFx0R3JpdHRlci5fc2V0RmFkZVRpbWVyKCQodGhpcyksIG51bWJlcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdEdyaXR0ZXIuX2hvdmVyU3RhdGUoJCh0aGlzKSwgZXZlbnQudHlwZSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gQ2xpY2tpbmcgKFgpIG1ha2VzIHRoZSBwZXJkeSB0aGluZyBjbG9zZVxuXHRcdFx0JChpdGVtKS5maW5kKCcuZ3JpdHRlci1jbG9zZScpLmNsaWNrKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdEdyaXR0ZXIucmVtb3ZlU3BlY2lmaWMobnVtYmVyLCB7fSwgbnVsbCwgdHJ1ZSk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gbnVtYmVyO1xuXG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCogSWYgd2UgZG9uJ3QgaGF2ZSBhbnkgbW9yZSBncml0dGVyIG5vdGlmaWNhdGlvbnMsIGdldCByaWQgb2YgdGhlIHdyYXBwZXIgdXNpbmcgdGhpcyBjaGVja1xuXHRcdCogQHByaXZhdGVcblx0XHQqIEBwYXJhbSB7SW50ZWdlcn0gdW5pcXVlX2lkIFRoZSBJRCBvZiB0aGUgZWxlbWVudCB0aGF0IHdhcyBqdXN0IGRlbGV0ZWQsIHVzZSBpdCBmb3IgYSBjYWxsYmFja1xuXHRcdCogQHBhcmFtIHtPYmplY3R9IGUgVGhlIGpRdWVyeSBlbGVtZW50IHRoYXQgd2UncmUgZ29pbmcgdG8gcGVyZm9ybSB0aGUgcmVtb3ZlKCkgYWN0aW9uIG9uXG5cdFx0KiBAcGFyYW0ge0Jvb2xlYW59IG1hbnVhbF9jbG9zZSBEaWQgd2UgY2xvc2UgdGhlIGdyaXR0ZXIgZGlhbG9nIHdpdGggdGhlIChYKSBidXR0b25cblx0XHQqL1xuXHRcdF9jb3VudFJlbW92ZVdyYXBwZXI6IGZ1bmN0aW9uKHVuaXF1ZV9pZCwgZSwgbWFudWFsX2Nsb3NlKXtcblxuXHRcdFx0Ly8gUmVtb3ZlIGl0IHRoZW4gcnVuIHRoZSBjYWxsYmFjayBmdW5jdGlvblxuXHRcdFx0ZS5yZW1vdmUoKTtcblx0XHRcdHRoaXNbJ19hZnRlcl9jbG9zZV8nICsgdW5pcXVlX2lkXShlLCBtYW51YWxfY2xvc2UpO1xuXG5cdFx0XHQvLyBDaGVjayBpZiB0aGUgd3JhcHBlciBpcyBlbXB0eSwgaWYgaXQgaXMuLiByZW1vdmUgdGhlIHdyYXBwZXJcblx0XHRcdGlmKCQoJy5ncml0dGVyLWl0ZW0td3JhcHBlcicpLmxlbmd0aCA9PSAwKXtcblx0XHRcdFx0JCgnI2dyaXR0ZXItbm90aWNlLXdyYXBwZXInKS5yZW1vdmUoKTtcblx0XHRcdH1cblxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQqIEZhZGUgb3V0IGFuIGVsZW1lbnQgYWZ0ZXIgaXQncyBiZWVuIG9uIHRoZSBzY3JlZW4gZm9yIHggYW1vdW50IG9mIHRpbWVcblx0XHQqIEBwcml2YXRlXG5cdFx0KiBAcGFyYW0ge09iamVjdH0gZSBUaGUgalF1ZXJ5IGVsZW1lbnQgdG8gZ2V0IHJpZCBvZlxuXHRcdCogQHBhcmFtIHtJbnRlZ2VyfSB1bmlxdWVfaWQgVGhlIGlkIG9mIHRoZSBlbGVtZW50IHRvIHJlbW92ZVxuXHRcdCogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBBbiBvcHRpb25hbCBsaXN0IG9mIHBhcmFtcyB0byBzZXQgZmFkZSBzcGVlZHMgZXRjLlxuXHRcdCogQHBhcmFtIHtCb29sZWFufSB1bmJpbmRfZXZlbnRzIFVuYmluZCB0aGUgbW91c2VlbnRlci9tb3VzZWxlYXZlIGV2ZW50cyBpZiB0aGV5IGNsaWNrIChYKVxuXHRcdCovXG5cdFx0X2ZhZGU6IGZ1bmN0aW9uKGUsIHVuaXF1ZV9pZCwgcGFyYW1zLCB1bmJpbmRfZXZlbnRzKXtcblxuXHRcdFx0dmFyIHBhcmFtcyA9IHBhcmFtcyB8fCB7fSxcblx0XHRcdFx0ZmFkZSA9ICh0eXBlb2YocGFyYW1zLmZhZGUpICE9ICd1bmRlZmluZWQnKSA/IHBhcmFtcy5mYWRlIDogdHJ1ZSxcblx0XHRcdFx0ZmFkZV9vdXRfc3BlZWQgPSBwYXJhbXMuc3BlZWQgfHwgdGhpcy5mYWRlX291dF9zcGVlZCxcblx0XHRcdFx0bWFudWFsX2Nsb3NlID0gdW5iaW5kX2V2ZW50cztcblxuXHRcdFx0dGhpc1snX2JlZm9yZV9jbG9zZV8nICsgdW5pcXVlX2lkXShlLCBtYW51YWxfY2xvc2UpO1xuXG5cdFx0XHQvLyBJZiB0aGlzIGlzIHRydWUsIHRoZW4gd2UgYXJlIGNvbWluZyBmcm9tIGNsaWNraW5nIHRoZSAoWClcblx0XHRcdGlmKHVuYmluZF9ldmVudHMpe1xuXHRcdFx0XHRlLnVuYmluZCgnbW91c2VlbnRlciBtb3VzZWxlYXZlJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZhZGUgaXQgb3V0IG9yIHJlbW92ZSBpdFxuXHRcdFx0aWYoZmFkZSl7XG5cblx0XHRcdFx0ZS5hbmltYXRlKHtcblx0XHRcdFx0XHRvcGFjaXR5OiAwXG5cdFx0XHRcdH0sIGZhZGVfb3V0X3NwZWVkLCBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdGUuYW5pbWF0ZSh7IGhlaWdodDogMCB9LCAzMDAsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRHcml0dGVyLl9jb3VudFJlbW92ZVdyYXBwZXIodW5pcXVlX2lkLCBlLCBtYW51YWxfY2xvc2UpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH0pXG5cblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXG5cdFx0XHRcdHRoaXMuX2NvdW50UmVtb3ZlV3JhcHBlcih1bmlxdWVfaWQsIGUpO1xuXG5cdFx0XHR9XG5cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0KiBQZXJmb3JtIGFjdGlvbnMgYmFzZWQgb24gdGhlIHR5cGUgb2YgYmluZCAobW91c2VlbnRlciwgbW91c2VsZWF2ZSlcblx0XHQqIEBwcml2YXRlXG5cdFx0KiBAcGFyYW0ge09iamVjdH0gZSBUaGUgalF1ZXJ5IGVsZW1lbnRcblx0XHQqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSB0eXBlIG9mIGFjdGlvbiB3ZSdyZSBwZXJmb3JtaW5nOiBtb3VzZWVudGVyIG9yIG1vdXNlbGVhdmVcblx0XHQqL1xuXHRcdF9ob3ZlclN0YXRlOiBmdW5jdGlvbihlLCB0eXBlKXtcblxuXHRcdFx0Ly8gQ2hhbmdlIHRoZSBib3JkZXIgc3R5bGVzIGFuZCBhZGQgdGhlIChYKSBjbG9zZSBidXR0b24gd2hlbiB5b3UgaG92ZXJcblx0XHRcdGlmKHR5cGUgPT0gJ21vdXNlZW50ZXInKXtcblxuXHRcdFx0XHRlLmFkZENsYXNzKCdob3ZlcicpO1xuXG5cdFx0XHRcdC8vIFNob3cgY2xvc2UgYnV0dG9uXG5cdFx0XHRcdC8vIGUuZmluZCgnLmdyaXR0ZXItY2xvc2UnKS5zaG93KCk7XG5cblx0XHRcdH1cblx0XHRcdC8vIFJlbW92ZSB0aGUgYm9yZGVyIHN0eWxlcyBhbmQgaGlkZSAoWCkgY2xvc2UgYnV0dG9uIHdoZW4geW91IG1vdXNlIG91dFxuXHRcdFx0ZWxzZSB7XG5cblx0XHRcdFx0ZS5yZW1vdmVDbGFzcygnaG92ZXInKTtcblxuXHRcdFx0XHQvLyBIaWRlIGNsb3NlIGJ1dHRvblxuXHRcdFx0XHQvLyBlLmZpbmQoJy5ncml0dGVyLWNsb3NlJykuaGlkZSgpO1xuXG5cdFx0XHR9XG5cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0KiBSZW1vdmUgYSBzcGVjaWZpYyBub3RpZmljYXRpb24gYmFzZWQgb24gYW4gSURcblx0XHQqIEBwYXJhbSB7SW50ZWdlcn0gdW5pcXVlX2lkIFRoZSBJRCB1c2VkIHRvIGRlbGV0ZSBhIHNwZWNpZmljIG5vdGlmaWNhdGlvblxuXHRcdCogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBBIHNldCBvZiBvcHRpb25zIHBhc3NlZCBpbiB0byBkZXRlcm1pbmUgaG93IHRvIGdldCByaWQgb2YgaXRcblx0XHQqIEBwYXJhbSB7T2JqZWN0fSBlIFRoZSBqUXVlcnkgZWxlbWVudCB0aGF0IHdlJ3JlIFwiZmFkaW5nXCIgdGhlbiByZW1vdmluZ1xuXHRcdCogQHBhcmFtIHtCb29sZWFufSB1bmJpbmRfZXZlbnRzIElmIHdlIGNsaWNrZWQgb24gdGhlIChYKSB3ZSBzZXQgdGhpcyB0byB0cnVlIHRvIHVuYmluZCBtb3VzZWVudGVyL21vdXNlbGVhdmVcblx0XHQqL1xuXHRcdHJlbW92ZVNwZWNpZmljOiBmdW5jdGlvbih1bmlxdWVfaWQsIHBhcmFtcywgZSwgdW5iaW5kX2V2ZW50cyl7XG5cblx0XHRcdGlmKCFlKXtcblx0XHRcdFx0dmFyIGUgPSAkKCcjZ3JpdHRlci1pdGVtLScgKyB1bmlxdWVfaWQpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBXZSBzZXQgdGhlIGZvdXJ0aCBwYXJhbSB0byBsZXQgdGhlIF9mYWRlIGZ1bmN0aW9uIGtub3cgdG9cblx0XHRcdC8vIHVuYmluZCB0aGUgXCJtb3VzZWxlYXZlXCIgZXZlbnQuICBPbmNlIHlvdSBjbGljayAoWCkgdGhlcmUncyBubyBnb2luZyBiYWNrIVxuXHRcdFx0dGhpcy5fZmFkZShlLCB1bmlxdWVfaWQsIHBhcmFtcyB8fCB7fSwgdW5iaW5kX2V2ZW50cyk7XG5cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0KiBJZiB0aGUgaXRlbSBpcyBmYWRpbmcgb3V0IGFuZCB3ZSBob3ZlciBvdmVyIGl0LCByZXN0b3JlIGl0IVxuXHRcdCogQHByaXZhdGVcblx0XHQqIEBwYXJhbSB7T2JqZWN0fSBlIFRoZSBIVE1MIGVsZW1lbnQgdG8gcmVtb3ZlXG5cdFx0KiBAcGFyYW0ge0ludGVnZXJ9IHVuaXF1ZV9pZCBUaGUgSUQgb2YgdGhlIGVsZW1lbnRcblx0XHQqL1xuXHRcdF9yZXN0b3JlSXRlbUlmRmFkaW5nOiBmdW5jdGlvbihlLCB1bmlxdWVfaWQpe1xuXG5cdFx0XHRjbGVhclRpbWVvdXQodGhpc1snX2ludF9pZF8nICsgdW5pcXVlX2lkXSk7XG5cdFx0XHRlLnN0b3AoKS5jc3MoeyBvcGFjaXR5OiAnJywgaGVpZ2h0OiAnJyB9KTtcblxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQqIFNldHVwIHRoZSBnbG9iYWwgb3B0aW9ucyAtIG9ubHkgb25jZVxuXHRcdCogQHByaXZhdGVcblx0XHQqL1xuXHRcdF9ydW5TZXR1cDogZnVuY3Rpb24oKXtcblx0XHRcdGZvciAodmFyIG9wdCBpbiAkLmdyaXR0ZXIub3B0aW9ucykgeyBcblx0XHRcdFx0dGhpc1tvcHRdID0gJC5ncml0dGVyLm9wdGlvbnNbb3B0XTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX2lzX3NldHVwID0gMTtcblxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQqIFNldCB0aGUgbm90aWZpY2F0aW9uIHRvIGZhZGUgb3V0IGFmdGVyIGEgY2VydGFpbiBhbW91bnQgb2YgdGltZVxuXHRcdCogQHByaXZhdGVcblx0XHQqIEBwYXJhbSB7T2JqZWN0fSBpdGVtIFRoZSBIVE1MIGVsZW1lbnQgd2UncmUgZGVhbGluZyB3aXRoXG5cdFx0KiBAcGFyYW0ge0ludGVnZXJ9IHVuaXF1ZV9pZCBUaGUgSUQgb2YgdGhlIGVsZW1lbnRcblx0XHQqL1xuXHRcdF9zZXRGYWRlVGltZXI6IGZ1bmN0aW9uKGUsIHVuaXF1ZV9pZCl7XG5cblx0XHRcdHZhciB0aW1lcl9zdHIgPSAodGhpcy5fY3VzdG9tX3RpbWVyKSA/IHRoaXMuX2N1c3RvbV90aW1lciA6IHRoaXMudGltZTtcblx0XHRcdHRoaXNbJ19pbnRfaWRfJyArIHVuaXF1ZV9pZF0gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cdFx0XHRcdEdyaXR0ZXIuX2ZhZGUoZSwgdW5pcXVlX2lkKTtcblx0XHRcdH0sIHRpbWVyX3N0cik7XG5cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0KiBCcmluZyBldmVyeXRoaW5nIHRvIGEgaGFsdFxuXHRcdCogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBBIGxpc3Qgb2YgY2FsbGJhY2sgZnVuY3Rpb25zIHRvIHBhc3Mgd2hlbiBhbGwgbm90aWZpY2F0aW9ucyBhcmUgcmVtb3ZlZFxuXHRcdCovXG5cdFx0c3RvcDogZnVuY3Rpb24ocGFyYW1zKXtcblxuXHRcdFx0Ly8gY2FsbGJhY2tzIChpZiBwYXNzZWQpXG5cdFx0XHR2YXIgYmVmb3JlX2Nsb3NlID0gKCQuaXNGdW5jdGlvbihwYXJhbXMuYmVmb3JlX2Nsb3NlKSkgPyBwYXJhbXMuYmVmb3JlX2Nsb3NlIDogZnVuY3Rpb24oKXt9O1xuXHRcdFx0dmFyIGFmdGVyX2Nsb3NlID0gKCQuaXNGdW5jdGlvbihwYXJhbXMuYWZ0ZXJfY2xvc2UpKSA/IHBhcmFtcy5hZnRlcl9jbG9zZSA6IGZ1bmN0aW9uKCl7fTtcblxuXHRcdFx0dmFyIHdyYXAgPSAkKCcjZ3JpdHRlci1ub3RpY2Utd3JhcHBlcicpO1xuXHRcdFx0YmVmb3JlX2Nsb3NlKHdyYXApO1xuXHRcdFx0d3JhcC5mYWRlT3V0KGZ1bmN0aW9uKCl7XG5cdFx0XHRcdCQodGhpcykucmVtb3ZlKCk7XG5cdFx0XHRcdGFmdGVyX2Nsb3NlKCk7XG5cdFx0XHR9KTtcblxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQqIEFuIGV4dHJlbWVseSBoYW5keSBQSFAgZnVuY3Rpb24gcG9ydGVkIHRvIEpTLCB3b3JrcyB3ZWxsIGZvciB0ZW1wbGF0aW5nXG5cdFx0KiBAcHJpdmF0ZVxuXHRcdCogQHBhcmFtIHtTdHJpbmcvQXJyYXl9IHNlYXJjaCBBIGxpc3Qgb2YgdGhpbmdzIHRvIHNlYXJjaCBmb3Jcblx0XHQqIEBwYXJhbSB7U3RyaW5nL0FycmF5fSByZXBsYWNlIEEgbGlzdCBvZiB0aGluZ3MgdG8gcmVwbGFjZSB0aGUgc2VhcmNoZXMgd2l0aFxuXHRcdCogQHJldHVybiB7U3RyaW5nfSBzYSBUaGUgb3V0cHV0XG5cdFx0Ki9cblx0XHRfc3RyX3JlcGxhY2U6IGZ1bmN0aW9uKHNlYXJjaCwgcmVwbGFjZSwgc3ViamVjdCwgY291bnQpe1xuXG5cdFx0XHR2YXIgaSA9IDAsIGogPSAwLCB0ZW1wID0gJycsIHJlcGwgPSAnJywgc2wgPSAwLCBmbCA9IDAsXG5cdFx0XHRcdGYgPSBbXS5jb25jYXQoc2VhcmNoKSxcblx0XHRcdFx0ciA9IFtdLmNvbmNhdChyZXBsYWNlKSxcblx0XHRcdFx0cyA9IHN1YmplY3QsXG5cdFx0XHRcdHJhID0gciBpbnN0YW5jZW9mIEFycmF5LCBzYSA9IHMgaW5zdGFuY2VvZiBBcnJheTtcblx0XHRcdHMgPSBbXS5jb25jYXQocyk7XG5cblx0XHRcdGlmKGNvdW50KXtcblx0XHRcdFx0dGhpcy53aW5kb3dbY291bnRdID0gMDtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGkgPSAwLCBzbCA9IHMubGVuZ3RoOyBpIDwgc2w7IGkrKyl7XG5cblx0XHRcdFx0aWYoc1tpXSA9PT0gJycpe1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Zm9yIChqID0gMCwgZmwgPSBmLmxlbmd0aDsgaiA8IGZsOyBqKyspe1xuXG5cdFx0XHRcdFx0dGVtcCA9IHNbaV0gKyAnJztcblx0XHRcdFx0XHRyZXBsID0gcmEgPyAocltqXSAhPT0gdW5kZWZpbmVkID8gcltqXSA6ICcnKSA6IHJbMF07XG5cdFx0XHRcdFx0c1tpXSA9ICh0ZW1wKS5zcGxpdChmW2pdKS5qb2luKHJlcGwpO1xuXG5cdFx0XHRcdFx0aWYoY291bnQgJiYgc1tpXSAhPT0gdGVtcCl7XG5cdFx0XHRcdFx0XHR0aGlzLndpbmRvd1tjb3VudF0gKz0gKHRlbXAubGVuZ3RoLXNbaV0ubGVuZ3RoKSAvIGZbal0ubGVuZ3RoO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzYSA/IHMgOiBzWzBdO1xuXG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCogQSBjaGVjayB0byBtYWtlIHN1cmUgd2UgaGF2ZSBzb21ldGhpbmcgdG8gd3JhcCBvdXIgbm90aWNlcyB3aXRoXG5cdFx0KiBAcHJpdmF0ZVxuXHRcdCovXG5cdFx0X3ZlcmlmeVdyYXBwZXI6IGZ1bmN0aW9uKCl7XG5cblx0XHRcdGlmKCQoJyNncml0dGVyLW5vdGljZS13cmFwcGVyJykubGVuZ3RoID09IDApe1xuXHRcdFx0XHQkKCdib2R5JykuYXBwZW5kKHRoaXMuX3RwbF93cmFwKTtcblx0XHRcdH1cblxuXHRcdH1cblxuXHR9XG5cbn0pKGpRdWVyeSk7XG4iXX0="}