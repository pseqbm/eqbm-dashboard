{"version":3,"sources":["build/node_modules/browser-pack/_prelude.js","build/vendors/trumbowyg/build/vendors/trumbowyg/trumbowyg.js"],"names":[],"mappings":"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","file":"trumbowyg.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","jQuery.trumbowyg = {\n    langs: {\n        en: { \n            viewHTML: 'View HTML',\n\n            undo: 'Undo',\n            redo: 'Redo',\n\n            formatting: 'Formatting',\n            p: 'Paragraph',\n            blockquote: 'Quote',\n            code: 'Code',\n            header: 'Header',\n\n            bold: 'Bold',\n            italic: 'Italic',\n            strikethrough: 'Stroke',\n            underline: 'Underline',\n\n            strong: 'Strong',\n            em: 'Emphasis',\n            del: 'Deleted',\n\n            superscript: 'Superscript',\n            subscript: 'Subscript',\n\n            unorderedList: 'Unordered list',\n            orderedList: 'Ordered list',\n\n            insertImage: 'Insert Image',\n            link: 'Link',\n            createLink: 'Insert link',\n            unlink: 'Remove link',\n\n            justifyLeft: 'Align Left',\n            justifyCenter: 'Align Center',\n            justifyRight: 'Align Right',\n            justifyFull: 'Align Justify',\n\n            horizontalRule: 'Insert horizontal rule',\n            removeformat: 'Remove format',\n\n            fullscreen: 'Fullscreen',\n\n            close: 'Close',\n\n            submit: 'Confirm',\n            reset: 'Cancel',\n\n            required: 'Required',\n            description: 'Description',\n            title: 'Title',\n            text: 'Text',\n            target: 'Target'\n        }\n    },\n\n    // Plugins\n    plugins: {},\n\n    // SVG Path globally\n    svgPath: null,\n\n    hideButtonTexts: null\n};\n\n\n(function (navigator, window, document, $) {\n    'use strict';\n\n    $.fn.trumbowyg = function (options, params) {\n        var trumbowygDataName = 'trumbowyg';\n        if (options === Object(options) || !options) {\n            return this.each(function () {\n                if (!$(this).data(trumbowygDataName)) {\n                    $(this).data(trumbowygDataName, new Trumbowyg(this, options));\n                }\n            });\n        }\n        if (this.length === 1) {\n            try {\n                var t = $(this).data(trumbowygDataName);\n                switch (options) {\n                    // Exec command\n                    case 'execCmd':\n                        return t.execCmd(params.cmd, params.param, params.forceCss);\n\n                    // Modal box\n                    case 'openModal':\n                        return t.openModal(params.title, params.content);\n                    case 'closeModal':\n                        return t.closeModal();\n                    case 'openModalInsert':\n                        return t.openModalInsert(params.title, params.fields, params.callback);\n\n                    // Range\n                    case 'saveRange':\n                        return t.saveRange();\n                    case 'getRange':\n                        return t.range;\n                    case 'getRangeText':\n                        return t.getRangeText();\n                    case 'restoreRange':\n                        return t.restoreRange();\n\n                    // Enable/disable\n                    case 'enable':\n                        return t.toggleDisable(false);\n                    case 'disable':\n                        return t.toggleDisable(true);\n\n                    // Destroy\n                    case 'destroy':\n                        return t.destroy();\n\n                    // Empty\n                    case 'empty':\n                        return t.empty();\n\n                    // HTML\n                    case 'html':\n                        return t.html(params);\n                }\n            } catch (c) {\n            }\n        }\n\n        return false;\n    };\n\n    // @param: editorElem is the DOM element\n    var Trumbowyg = function (editorElem, options) {\n        var t = this,\n            trumbowygIconsId = 'trumbowyg-icons';\n\n        // Get the document of the element. It use to makes the plugin\n        // compatible on iframes.\n        t.doc = editorElem.ownerDocument || document;\n\n        // jQuery object of the editor\n        t.$ta = $(editorElem); // $ta : Textarea\n        t.$c = $(editorElem); // $c : creator\n\n        options = options || {};\n\n        // Localization management\n        if (options.lang != null || $.trumbowyg.langs[options.lang] != null) {\n            t.lang = $.extend(true, {}, $.trumbowyg.langs.en, $.trumbowyg.langs[options.lang]);\n        } else {\n            t.lang = $.trumbowyg.langs.en;\n        }\n\n        t.hideButtonTexts = $.trumbowyg.hideButtonTexts != null ? $.trumbowyg.hideButtonTexts : options.hideButtonTexts;\n\n        // SVG path\n        var svgPathOption = $.trumbowyg.svgPath != null ? $.trumbowyg.svgPath : options.svgPath;\n        t.hasSvg = svgPathOption !== false;\n        t.svgPath = !!t.doc.querySelector('base') ? window.location.href.split('#')[0] : '';\n        if ($('#' + trumbowygIconsId, t.doc).length === 0 && svgPathOption !== false) {\n            if (svgPathOption == null) {\n                try {\n                    throw new Error();\n                } catch (e) {\n                    var stackLines = e.stack.split('\\n');\n\n                    for (var i in stackLines) {\n                        if (!stackLines[i].match(/http[s]?:\\/\\//)) {\n                            continue;\n                        }\n                        svgPathOption = stackLines[Number(i)].match(/((http[s]?:\\/\\/.+\\/)([^\\/]+\\.js))(\\?.*)?:/)[1].split('/');\n                        svgPathOption.pop();\n                        svgPathOption = svgPathOption.join('/') + '/ui/icons.svg';\n                        break;\n                    }\n                }\n            }\n\n            var div = t.doc.createElement('div');\n            div.id = trumbowygIconsId;\n            t.doc.body.insertBefore(div, t.doc.body.childNodes[0]);\n            $.ajax({\n                async: true,\n                type: 'GET',\n                contentType: 'application/x-www-form-urlencoded; charset=UTF-8',\n                dataType: 'xml',\n                crossDomain : true,\n                url: svgPathOption,\n                data: null,\n                beforeSend: null,\n                complete: null,\n                success: function (data) {\n                    div.innerHTML = new XMLSerializer().serializeToString(data.documentElement);\n                }\n            });\n        }\n\n\n        /**\n         * When the button is associated to a empty object\n         * fn and title attributs are defined from the button key value\n         *\n         * For example\n         *      foo: {}\n         * is equivalent to :\n         *      foo: {\n             *          fn: 'foo',\n             *          title: this.lang.foo\n             *      }\n         */\n        var h = t.lang.header, // Header translation\n            isBlinkFunction = function () {\n                return (window.chrome || (window.Intl && Intl.v8BreakIterator)) && 'CSS' in window;\n            };\n        t.btnsDef = {\n            viewHTML: {\n                fn: 'toggle'\n            },\n\n            undo: {\n                isSupported: isBlinkFunction,\n                key: 'Z'\n            },\n            redo: {\n                isSupported: isBlinkFunction,\n                key: 'Y'\n            },\n\n            p: {\n                fn: 'formatBlock'\n            },\n            blockquote: {\n                fn: 'formatBlock'\n            },\n            h1: {\n                fn: 'formatBlock',\n                title: h + ' 1'\n            },\n            h2: {\n                fn: 'formatBlock',\n                title: h + ' 2'\n            },\n            h3: {\n                fn: 'formatBlock',\n                title: h + ' 3'\n            },\n            h4: {\n                fn: 'formatBlock',\n                title: h + ' 4'\n            },\n            subscript: {\n                tag: 'sub'\n            },\n            superscript: {\n                tag: 'sup'\n            },\n\n            bold: {\n                key: 'B',\n                tag: 'b'\n            },\n            italic: {\n                key: 'I',\n                tag: 'i'\n            },\n            underline: {\n                tag: 'u'\n            },\n            strikethrough: {\n                tag: 'strike'\n            },\n\n            strong: {\n                fn: 'bold',\n                key: 'B'\n            },\n            em: {\n                fn: 'italic',\n                key: 'I'\n            },\n            del: {\n                fn: 'strikethrough'\n            },\n\n            createLink: {\n                key: 'K',\n                tag: 'a'\n            },\n            unlink: {},\n\n            insertImage: {},\n\n            justifyLeft: {\n                tag: 'left',\n                forceCss: true\n            },\n            justifyCenter: {\n                tag: 'center',\n                forceCss: true\n            },\n            justifyRight: {\n                tag: 'right',\n                forceCss: true\n            },\n            justifyFull: {\n                tag: 'justify',\n                forceCss: true\n            },\n\n            unorderedList: {\n                fn: 'insertUnorderedList',\n                tag: 'ul'\n            },\n            orderedList: {\n                fn: 'insertOrderedList',\n                tag: 'ol'\n            },\n\n            horizontalRule: {\n                fn: 'insertHorizontalRule'\n            },\n\n            removeformat: {},\n\n            fullscreen: {\n                class: 'trumbowyg-not-disable'\n            },\n            close: {\n                fn: 'destroy',\n                class: 'trumbowyg-not-disable'\n            },\n\n            // Dropdowns\n            formatting: {\n                dropdown: ['p', 'blockquote', 'h1', 'h2', 'h3', 'h4'],\n                ico: 'p'\n            },\n            link: {\n                dropdown: ['createLink', 'unlink']\n            }\n        };\n\n        // Defaults Options\n        t.o = $.extend(true, {}, {\n            lang: 'en',\n\n            fixedBtnPane: false,\n            fixedFullWidth: false,\n            autogrow: false,\n\n            prefix: 'trumbowyg-',\n\n            semantic: true,\n            resetCss: false,\n            removeformatPasted: false,\n            tagsToRemove: [],\n\n            btnsGrps: {\n                design: ['bold', 'italic', 'underline', 'strikethrough'],\n                semantic: ['strong', 'em', 'del'],\n                justify: ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull'],\n                lists: ['unorderedList', 'orderedList']\n            },\n            btns: [\n                ['viewHTML'],\n                ['undo', 'redo'],\n                ['formatting'],\n                'btnGrp-semantic',\n                ['superscript', 'subscript'],\n                ['link'],\n                ['insertImage'],\n                'btnGrp-justify',\n                'btnGrp-lists',\n                ['horizontalRule'],\n                ['removeformat'],\n                ['fullscreen']\n            ],\n            // For custom button definitions\n            btnsDef: {},\n\n            inlineElementsSelector: 'a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u',\n\n            pasteHandlers: [],\n\n            imgDblClickHandler: function () {\n                var $img = $(this),\n                    src = $img.attr('src'),\n                    base64 = '(Base64)';\n\n                if (src.indexOf('data:image') === 0) {\n                    src = base64;\n                }\n\n                t.openModalInsert(t.lang.insertImage, {\n                    url: {\n                        label: 'URL',\n                        value: src,\n                        required: true\n                    },\n                    alt: {\n                        label: t.lang.description,\n                        value: $img.attr('alt')\n                    }\n                }, function (v) {\n                    if (v.src !== base64) {\n                        $img.attr({\n                            src: v.src\n                        });\n                    }\n                    $img.attr({\n                        alt: v.alt\n                    });\n                    return true;\n                });\n                return false;\n            },\n\n            plugins: {}\n        }, options);\n\n        t.disabled = t.o.disabled || (editorElem.nodeName === 'TEXTAREA' && editorElem.disabled);\n\n        if (options.btns) {\n            t.o.btns = options.btns;\n        } else if (!t.o.semantic) {\n            t.o.btns[4] = 'btnGrp-design';\n        }\n\n        $.each(t.o.btnsDef, function (btnName, btnDef) {\n            t.addBtnDef(btnName, btnDef);\n        });\n\n        // put this here in the event it would be merged in with options\n        t.eventNamespace = 'trumbowyg-event';\n\n        // Keyboard shortcuts are load in this array\n        t.keys = [];\n\n        // Tag to button dynamically hydrated\n        t.tagToButton = {};\n        t.tagHandlers = [];\n\n        // Admit multiple paste handlers\n        t.pasteHandlers = [].concat(t.o.pasteHandlers);\n\n        // Check if browser is IE\n        t.isIE = (navigator.userAgent.indexOf('MSIE') !== -1 || navigator.appVersion.indexOf('Trident/') !== -1);\n\n        t.init();\n    };\n\n    Trumbowyg.prototype = {\n        init: function () {\n            var t = this;\n            t.height = t.$ta.height();\n\n            t.initPlugins();\n\n            try {\n                // Disable image resize, try-catch for old IE\n                t.doc.execCommand('enableObjectResizing', false, false);\n                t.doc.execCommand('defaultParagraphSeparator', false, 'p');\n            } catch (e) {\n            }\n\n            t.buildEditor();\n            t.buildBtnPane();\n\n            t.fixedBtnPaneEvents();\n\n            t.buildOverlay();\n\n            setTimeout(function () {\n                if (t.disabled) {\n                    t.toggleDisable(true);\n                }\n                t.$c.trigger('tbwinit');\n            });\n        },\n\n        addBtnDef: function (btnName, btnDef) {\n            this.btnsDef[btnName] = btnDef;\n        },\n\n        buildEditor: function () {\n            var t = this,\n                prefix = t.o.prefix,\n                html = '';\n\n            t.$box = $('<div/>', {\n                class: prefix + 'box ' + prefix + 'editor-visible ' + prefix + t.o.lang + ' trumbowyg'\n            });\n\n            // $ta = Textarea\n            // $ed = Editor\n            t.isTextarea = t.$ta.is('textarea');\n            if (t.isTextarea) {\n                html = t.$ta.val();\n                t.$ed = $('<div/>');\n                t.$box\n                    .insertAfter(t.$ta)\n                    .append(t.$ed, t.$ta);\n            } else {\n                t.$ed = t.$ta;\n                html = t.$ed.html();\n\n                t.$ta = $('<textarea/>', {\n                    name: t.$ta.attr('id'),\n                    height: t.height\n                }).val(html);\n\n                t.$box\n                    .insertAfter(t.$ed)\n                    .append(t.$ta, t.$ed);\n                t.syncCode();\n            }\n\n            t.$ta\n                .addClass(prefix + 'textarea')\n                .attr('tabindex', -1)\n            ;\n\n            t.$ed\n                .addClass(prefix + 'editor')\n                .attr({\n                    contenteditable: true,\n                    dir: t.lang._dir || 'ltr'\n                })\n                .html(html)\n            ;\n\n            if (t.o.tabindex) {\n                t.$ed.attr('tabindex', t.o.tabindex);\n            }\n\n            if (t.$c.is('[placeholder]')) {\n                t.$ed.attr('placeholder', t.$c.attr('placeholder'));\n            }\n\n            if (t.o.resetCss) {\n                t.$ed.addClass(prefix + 'reset-css');\n            }\n\n            if (!t.o.autogrow) {\n                t.$ta.add(t.$ed).css({\n                    height: t.height\n                });\n            }\n\n            t.semanticCode();\n\n\n            var ctrl = false,\n                composition = false,\n                debounceButtonPaneStatus,\n                updateEventName = t.isIE ? 'keyup' : 'input';\n\n            t.$ed\n                .on('dblclick', 'img', t.o.imgDblClickHandler)\n                .on('keydown', function (e) {\n                    if (e.ctrlKey) {\n                        ctrl = true;\n                        var key = t.keys[String.fromCharCode(e.which).toUpperCase()];\n\n                        try {\n                            t.execCmd(key.fn, key.param);\n                            return false;\n                        } catch (c) {\n                        }\n                    }\n                })\n                .on('compositionstart compositionupdate', function () {\n                    composition = true;\n                })\n                .on(updateEventName + ' compositionend', function (e) {\n                  if (e.type === 'compositionend') {\n                        composition = false;\n                    } else if(composition) {\n                        return;\n                    }\n\n                    var keyCode = e.which;\n\n                    if (keyCode >= 37 && keyCode <= 40) {\n                        return;\n                    }\n\n                    if (e.ctrlKey && (keyCode === 89 || keyCode === 90)) {\n                        t.$c.trigger('tbwchange');\n                    } else if (!ctrl && keyCode !== 17) {\n                        t.semanticCode(false, keyCode === 13);\n                        t.$c.trigger('tbwchange');\n                    } else if (typeof e.which === 'undefined') {\n                        t.semanticCode(false, false, true);\n                    }\n\n                    setTimeout(function () {\n                        ctrl = false;\n                    }, 200);\n                })\n                .on('mouseup keydown keyup', function () {\n                    clearTimeout(debounceButtonPaneStatus);\n                    debounceButtonPaneStatus = setTimeout(function () {\n                        t.updateButtonPaneStatus();\n                    }, 50);\n                })\n                .on('focus blur', function (e) {\n                    t.$c.trigger('tbw' + e.type);\n                    if (e.type === 'blur') {\n                        $('.' + prefix + 'active-button', t.$btnPane).removeClass(prefix + 'active-button ' + prefix + 'active');\n                    }\n                })\n                .on('cut', function () {\n                    setTimeout(function () {\n                        t.semanticCode(false, true);\n                        t.$c.trigger('tbwchange');\n                    }, 0);\n                })\n                .on('paste', function (e) {\n                    if (t.o.removeformatPasted) {\n                        e.preventDefault();\n\n                        try {\n                            // IE\n                            var text = window.clipboardData.getData('Text');\n\n                            try {\n                                // <= IE10\n                                t.doc.selection.createRange().pasteHTML(text);\n                            } catch (c) {\n                                // IE 11\n                                t.doc.getSelection().getRangeAt(0).insertNode(t.doc.createTextNode(text));\n                            }\n                        } catch (d) {\n                            // Not IE\n                            t.execCmd('insertText', (e.originalEvent || e).clipboardData.getData('text/plain'));\n                        }\n                    }\n\n                    // Call pasteHandlers\n                    $.each(t.pasteHandlers, function (i, pasteHandler) {\n                        pasteHandler(e);\n                    });\n\n                    setTimeout(function () {\n                        t.semanticCode(false, true);\n                        t.$c.trigger('tbwpaste', e);\n                    }, 0);\n                });\n            t.$ta.on('keyup paste', function () {\n              t.$c.trigger('tbwchange');\n            });\n\n            t.$box.on('keydown', function (e) {\n                if (e.which === 27 && $('.' + prefix + 'modal-box', t.$box).length === 1) {\n                    t.closeModal();\n                    return false;\n                }\n            });\n        },\n\n\n        // Build button pane, use o.btns option\n        buildBtnPane: function () {\n            var t = this,\n                prefix = t.o.prefix;\n\n            var $btnPane = t.$btnPane = $('<div/>', {\n                class: prefix + 'button-pane'\n            });\n\n            $.each(t.o.btns, function (i, btnGrps) {\n                // Managment of group of buttons\n                try {\n                    var b = btnGrps.split('btnGrp-');\n                    if (b[1] != null) {\n                        btnGrps = t.o.btnsGrps[b[1]];\n                    }\n                } catch (c) {\n                }\n\n                if (!$.isArray(btnGrps)) {\n                    btnGrps = [btnGrps];\n                }\n\n                var $btnGroup = $('<div/>', {\n                    class: prefix + 'button-group ' + ((btnGrps.indexOf('fullscreen') >= 0) ? prefix + 'right' : '')\n                });\n                $.each(btnGrps, function (i, btn) {\n                    try { // Prevent buildBtn error\n                        var $item;\n\n                        if (t.isSupportedBtn(btn)) { // It's a supported button\n                            $item = t.buildBtn(btn);\n                        }\n\n                        $btnGroup.append($item);\n                    } catch (c) {\n                    }\n                });\n                $btnPane.append($btnGroup);\n            });\n\n            t.$box.prepend($btnPane);\n        },\n\n\n        // Build a button and his action\n        buildBtn: function (btnName) { // btnName is name of the button\n            var t = this,\n                prefix = t.o.prefix,\n                btn = t.btnsDef[btnName],\n                isDropdown = btn.dropdown,\n                hasIcon = btn.hasIcon != null ? btn.hasIcon : true,\n                textDef = t.lang[btnName] || btnName,\n\n                $btn = $('<button/>', {\n                    type: 'button',\n                    class: prefix + btnName + '-button ' + (btn.class || '') + (!hasIcon ? ' ' + prefix + 'textual-button' : ''),\n                    html: t.hasSvg && hasIcon ?\n                      '<svg><use xlink:href=\"' + t.svgPath + '#' + prefix + (btn.ico || btnName).replace(/([A-Z]+)/g, '-$1').toLowerCase() + '\"/></svg>' :\n                      t.hideButtonTexts ? '' : (btn.text || btn.title || t.lang[btnName] || btnName),\n                    title: (btn.title || btn.text || textDef) + ((btn.key) ? ' (Ctrl + ' + btn.key + ')' : ''),\n                    tabindex: -1,\n                    mousedown: function () {\n                        if (!isDropdown || $('.' + btnName + '-' + prefix + 'dropdown', t.$box).is(':hidden')) {\n                            $('body', t.doc).trigger('mousedown');\n                        }\n\n                        if (t.$btnPane.hasClass(prefix + 'disable') && !$(this).hasClass(prefix + 'active') && !$(this).hasClass(prefix + 'not-disable')) {\n                            return false;\n                        }\n\n                        t.execCmd((isDropdown ? 'dropdown' : false) || btn.fn || btnName, btn.param || btnName, btn.forceCss || false);\n\n                        return false;\n                    }\n                });\n\n            if (isDropdown) {\n                $btn.addClass(prefix + 'open-dropdown');\n                var dropdownPrefix = prefix + 'dropdown',\n                    $dropdown = $('<div/>', { // the dropdown\n                        class: dropdownPrefix + '-' + btnName + ' ' + dropdownPrefix + ' ' + prefix + 'fixed-top',\n                        'data-dropdown': btnName\n                    });\n                $.each(isDropdown, function (i, def) {\n                    if (t.btnsDef[def] && t.isSupportedBtn(def)) {\n                        $dropdown.append(t.buildSubBtn(def));\n                    }\n                });\n                t.$box.append($dropdown.hide());\n            } else if (btn.key) {\n                t.keys[btn.key] = {\n                    fn: btn.fn || btnName,\n                    param: btn.param || btnName\n                };\n            }\n\n            if (!isDropdown) {\n                t.tagToButton[(btn.tag || btnName).toLowerCase()] = btnName;\n            }\n\n            return $btn;\n        },\n        // Build a button for dropdown menu\n        // @param n : name of the subbutton\n        buildSubBtn: function (btnName) {\n            var t = this,\n                prefix = t.o.prefix,\n                btn = t.btnsDef[btnName],\n                hasIcon = btn.hasIcon != null ? btn.hasIcon : true;\n\n            if (btn.key) {\n                t.keys[btn.key] = {\n                    fn: btn.fn || btnName,\n                    param: btn.param || btnName\n                };\n            }\n\n            t.tagToButton[(btn.tag || btnName).toLowerCase()] = btnName;\n\n            return $('<button/>', {\n                type: 'button',\n                class: prefix + btnName + '-dropdown-button' + (btn.ico ? ' ' + prefix + btn.ico + '-button' : ''),\n                html: t.hasSvg && hasIcon ? '<svg><use xlink:href=\"' + t.svgPath + '#' + prefix + (btn.ico || btnName).replace(/([A-Z]+)/g, '-$1').toLowerCase() + '\"/></svg>' + (btn.text || btn.title || t.lang[btnName] || btnName) : (btn.text || btn.title || t.lang[btnName] || btnName),\n                title: ((btn.key) ? ' (Ctrl + ' + btn.key + ')' : null),\n                style: btn.style || null,\n                mousedown: function () {\n                    $('body', t.doc).trigger('mousedown');\n\n                    t.execCmd(btn.fn || btnName, btn.param || btnName, btn.forceCss || false);\n\n                    return false;\n                }\n            });\n        },\n        // Check if button is supported\n        isSupportedBtn: function (b) {\n            try {\n                return this.btnsDef[b].isSupported();\n            } catch (c) {\n            }\n            return true;\n        },\n\n        // Build overlay for modal box\n        buildOverlay: function () {\n            var t = this;\n            t.$overlay = $('<div/>', {\n                class: t.o.prefix + 'overlay'\n            }).css({\n                top: t.$btnPane.outerHeight(),\n                height: (t.$ed.outerHeight() + 1) + 'px'\n            }).appendTo(t.$box);\n            return t.$overlay;\n        },\n        showOverlay: function () {\n            var t = this;\n            $(window).trigger('scroll');\n            t.$overlay.fadeIn(200);\n            t.$box.addClass(t.o.prefix + 'box-blur');\n        },\n        hideOverlay: function () {\n            var t = this;\n            t.$overlay.fadeOut(50);\n            t.$box.removeClass(t.o.prefix + 'box-blur');\n        },\n\n        // Management of fixed button pane\n        fixedBtnPaneEvents: function () {\n            var t = this,\n                fixedFullWidth = t.o.fixedFullWidth,\n                $box = t.$box;\n\n            if (!t.o.fixedBtnPane) {\n                return;\n            }\n\n            t.isFixed = false;\n\n            $(window)\n                .on('scroll.'+t.eventNamespace+' resize.'+t.eventNamespace, function () {\n                    if (!$box) {\n                        return;\n                    }\n\n                    t.syncCode();\n\n                    var scrollTop = $(window).scrollTop(),\n                        offset = $box.offset().top + 1,\n                        bp = t.$btnPane,\n                        oh = bp.outerHeight() - 2;\n\n                    if ((scrollTop - offset > 0) && ((scrollTop - offset - t.height) < 0)) {\n                        if (!t.isFixed) {\n                            t.isFixed = true;\n                            bp.css({\n                                position: 'fixed',\n                                top: 0,\n                                left: fixedFullWidth ? '0' : 'auto',\n                                zIndex: 7\n                            });\n                            $([t.$ta, t.$ed]).css({marginTop: bp.height()});\n                        }\n                        bp.css({\n                            width: fixedFullWidth ? '100%' : (($box.width() - 1) + 'px')\n                        });\n\n                        $('.' + t.o.prefix + 'fixed-top', $box).css({\n                            position: fixedFullWidth ? 'fixed' : 'absolute',\n                            top: fixedFullWidth ? oh : oh + (scrollTop - offset) + 'px',\n                            zIndex: 15\n                        });\n                    } else if (t.isFixed) {\n                        t.isFixed = false;\n                        bp.removeAttr('style');\n                        $([t.$ta, t.$ed]).css({marginTop: 0});\n                        $('.' + t.o.prefix + 'fixed-top', $box).css({\n                            position: 'absolute',\n                            top: oh\n                        });\n                    }\n                });\n        },\n\n        // Disable editor\n        toggleDisable: function (disable) {\n            var t = this,\n                prefix = t.o.prefix;\n\n            t.disabled = disable;\n\n            if (disable) {\n                t.$ta.attr('disabled', true);\n            } else {\n                t.$ta.removeAttr('disabled');\n            }\n            t.$box.toggleClass(prefix + 'disabled', disable);\n            t.$ed.attr('contenteditable', !disable);\n        },\n\n        // Destroy the editor\n        destroy: function () {\n            var t = this,\n                prefix = t.o.prefix,\n                height = t.height;\n\n            if (t.isTextarea) {\n                t.$box.after(\n                    t.$ta\n                        .css({height: height})\n                        .val(t.html())\n                        .removeClass(prefix + 'textarea')\n                        .show()\n                );\n            } else {\n                t.$box.after(\n                    t.$ed\n                        .css({height: height})\n                        .removeClass(prefix + 'editor')\n                        .removeAttr('contenteditable')\n                        .html(t.html())\n                        .show()\n                );\n            }\n\n            t.$ed.off('dblclick', 'img');\n\n            t.destroyPlugins();\n\n            t.$box.remove();\n            t.$c.removeData('trumbowyg');\n            $('body').removeClass(prefix + 'body-fullscreen');\n            t.$c.trigger('tbwclose');\n            $(window).off('scroll.'+t.eventNamespace+' resize.'+t.eventNamespace);\n        },\n\n\n        // Empty the editor\n        empty: function () {\n            this.$ta.val('');\n            this.syncCode(true);\n        },\n\n\n        // Function call when click on viewHTML button\n        toggle: function () {\n            var t = this,\n                prefix = t.o.prefix;\n            t.semanticCode(false, true);\n            setTimeout(function () {\n                t.doc.activeElement.blur();\n                t.$box.toggleClass(prefix + 'editor-hidden ' + prefix + 'editor-visible');\n                t.$btnPane.toggleClass(prefix + 'disable');\n                $('.' + prefix + 'viewHTML-button', t.$btnPane).toggleClass(prefix + 'active');\n                if (t.$box.hasClass(prefix + 'editor-visible')) {\n                    t.$ta.attr('tabindex', -1);\n                } else {\n                    t.$ta.removeAttr('tabindex');\n                }\n            }, 0);\n        },\n\n        // Open dropdown when click on a button which open that\n        dropdown: function (name) {\n            var t = this,\n                d = t.doc,\n                prefix = t.o.prefix,\n                $dropdown = $('[data-dropdown=' + name + ']', t.$box),\n                $btn = $('.' + prefix + name + '-button', t.$btnPane),\n                show = $dropdown.is(':hidden');\n\n            $('body', d).trigger('mousedown');\n\n            if (show) {\n                var o = $btn.offset().left;\n                $btn.addClass(prefix + 'active');\n\n                $dropdown.css({\n                    position: 'absolute',\n                    top: $btn.offset().top - t.$btnPane.offset().top + $btn.outerHeight(),\n                    left: (t.o.fixedFullWidth && t.isFixed) ? o + 'px' : (o - t.$btnPane.offset().left) + 'px'\n                }).show();\n\n                $(window).trigger('scroll');\n\n                $('body', d).on('mousedown.'+t.eventNamespace, function (e) {\n                    if (!$dropdown.is(e.target)) {\n                        $('.' + prefix + 'dropdown', d).hide();\n                        $('.' + prefix + 'active', d).removeClass(prefix + 'active');\n                        $('body', d).off('mousedown.'+t.eventNamespace);\n                    }\n                });\n            }\n        },\n\n\n        // HTML Code management\n        html: function (html) {\n            var t = this;\n            if (html != null) {\n                t.$ta.val(html);\n                t.syncCode(true);\n                return t;\n            }\n            return t.$ta.val();\n        },\n        syncTextarea: function () {\n            var t = this;\n            t.$ta.val(t.$ed.text().trim().length > 0 || t.$ed.find('hr,img,embed,iframe,input').length > 0 ? t.$ed.html() : '');\n        },\n        syncCode: function (force) {\n            var t = this;\n            if (!force && t.$ed.is(':visible')) {\n                t.syncTextarea();\n            } else {\n                // wrap the content in a div it's easier to get the innerhtml\n                var html = '<div>' + t.$ta.val() + '</div>';\n                //scrub the html before loading into the doc\n                html = $(t.o.tagsToRemove.join(','), html).remove().end().html();\n                t.$ed.html(html);\n            }\n\n            if (t.o.autogrow) {\n                t.height = t.$ed.height();\n                if (t.height !== t.$ta.css('height')) {\n                    t.$ta.css({height: t.height});\n                    t.$c.trigger('tbwresize');\n                }\n            }\n        },\n\n        // Analyse and update to semantic code\n        // @param force : force to sync code from textarea\n        // @param full  : wrap text nodes in <p>\n        // @param keepRange  : leave selection range as it is\n        semanticCode: function (force, full, keepRange) {\n            var t = this;\n            t.saveRange();\n            t.syncCode(force);\n\n            if (t.o.semantic) {\n                t.semanticTag('b', 'strong');\n                t.semanticTag('i', 'em');\n\n                if (full) {\n                    var inlineElementsSelector = t.o.inlineElementsSelector,\n                        blockElementsSelector = ':not(' + inlineElementsSelector + ')';\n\n                    // Wrap text nodes in span for easier processing\n                    t.$ed.contents().filter(function () {\n                        return this.nodeType === 3 && this.nodeValue.trim().length > 0;\n                    }).wrap('<span data-tbw/>');\n\n                    // Wrap groups of inline elements in paragraphs (recursive)\n                    var wrapInlinesInParagraphsFrom = function ($from) {\n                        if ($from.length !== 0) {\n                            var $finalParagraph = $from.nextUntil(blockElementsSelector).addBack().wrapAll('<p/>').parent(),\n                                $nextElement = $finalParagraph.nextAll(inlineElementsSelector).first();\n                            $finalParagraph.next('br').remove();\n                            wrapInlinesInParagraphsFrom($nextElement);\n                        }\n                    };\n                    wrapInlinesInParagraphsFrom(t.$ed.children(inlineElementsSelector).first());\n\n                    t.semanticTag('div', 'p', true);\n\n                    // Unwrap paragraphs content, containing nothing usefull\n                    t.$ed.find('p').filter(function () {\n                        // Don't remove currently being edited element\n                        if (t.range && this === t.range.startContainer) {\n                            return false;\n                        }\n                        return $(this).text().trim().length === 0 && $(this).children().not('br,span').length === 0;\n                    }).contents().unwrap();\n\n                    // Get rid of temporial span's\n                    $('[data-tbw]', t.$ed).contents().unwrap();\n\n                    // Remove empty <p>\n                    t.$ed.find('p:empty').remove();\n                }\n\n                if (!keepRange) {\n                    t.restoreRange();\n                }\n\n                t.syncTextarea();\n            }\n        },\n\n        semanticTag: function (oldTag, newTag, copyAttributes) {\n            $(oldTag, this.$ed).each(function () {\n                var $oldTag = $(this);\n                $oldTag.wrap('<' + newTag + '/>');\n                if (copyAttributes) {\n                    $.each($oldTag.prop('attributes'), function () {\n                        $oldTag.parent().attr(this.name, this.value);\n                    });\n                }\n                $oldTag.contents().unwrap();\n            });\n        },\n\n        // Function call when user click on \"Insert Link\"\n        createLink: function () {\n            var t = this,\n                documentSelection = t.doc.getSelection(),\n                node = documentSelection.focusNode,\n                url,\n                title,\n                target;\n\n            while (['A', 'DIV'].indexOf(node.nodeName) < 0) {\n                node = node.parentNode;\n            }\n\n            if (node && node.nodeName === 'A') {\n                var $a = $(node);\n                url = $a.attr('href');\n                title = $a.attr('title');\n                target = $a.attr('target');\n                var range = t.doc.createRange();\n                range.selectNode(node);\n                documentSelection.removeAllRanges();\n                documentSelection.addRange(range);\n            }\n\n            t.saveRange();\n\n            t.openModalInsert(t.lang.createLink, {\n                url: {\n                    label: 'URL',\n                    required: true,\n                    value: url\n                },\n                title: {\n                    label: t.lang.title,\n                    value: title\n                },\n                text: {\n                    label: t.lang.text,\n                    value: t.getRangeText()\n                },\n                target: {\n                    label: t.lang.target,\n                    value: target\n                }\n            }, function (v) { // v is value\n                var link = $(['<a href=\"', v.url, '\">', v.text, '</a>'].join(''));\n                if (v.title.length > 0) {\n                    link.attr('title', v.title);\n                }\n                if (v.target.length > 0) {\n                    link.attr('target', v.target);\n                }\n                t.range.deleteContents();\n                t.range.insertNode(link[0]);\n                return true;\n            });\n        },\n        unlink: function () {\n            var t = this,\n                documentSelection = t.doc.getSelection(),\n                node = documentSelection.focusNode;\n\n            if (documentSelection.isCollapsed) {\n                while (['A', 'DIV'].indexOf(node.nodeName) < 0) {\n                    node = node.parentNode;\n                }\n\n                if (node && node.nodeName === 'A') {\n                    var range = t.doc.createRange();\n                    range.selectNode(node);\n                    documentSelection.removeAllRanges();\n                    documentSelection.addRange(range);\n                }\n            }\n            t.execCmd('unlink', undefined, undefined, true);\n        },\n        insertImage: function () {\n            var t = this;\n            t.saveRange();\n            t.openModalInsert(t.lang.insertImage, {\n                url: {\n                    label: 'URL',\n                    required: true\n                },\n                alt: {\n                    label: t.lang.description,\n                    value: t.getRangeText()\n                }\n            }, function (v) { // v are values\n                t.execCmd('insertImage', v.url);\n                $('img[src=\"' + v.url + '\"]:not([alt])', t.$box).attr('alt', v.alt);\n                return true;\n            });\n        },\n        fullscreen: function () {\n            var t = this,\n                prefix = t.o.prefix,\n                fullscreenCssClass = prefix + 'fullscreen',\n                isFullscreen;\n\n            t.$box.toggleClass(fullscreenCssClass);\n            isFullscreen = t.$box.hasClass(fullscreenCssClass);\n            $('body').toggleClass(prefix + 'body-fullscreen', isFullscreen);\n            $(window).trigger('scroll');\n            t.$c.trigger('tbw' + (isFullscreen ? 'open' : 'close') + 'fullscreen');\n        },\n\n\n        /*\n         * Call method of trumbowyg if exist\n         * else try to call anonymous function\n         * and finaly native execCommand\n         */\n        execCmd: function (cmd, param, forceCss, skipTrumbowyg) {\n            var t = this;\n            skipTrumbowyg = !!skipTrumbowyg || '';\n\n            if (cmd !== 'dropdown') {\n                t.$ed.focus();\n            }\n\n            try {\n                t.doc.execCommand('styleWithCSS', false, forceCss || false);\n            } catch (c) {\n            }\n\n            try {\n                t[cmd + skipTrumbowyg](param);\n            } catch (c) {\n                try {\n                    cmd(param);\n                } catch (e2) {\n                    if (cmd === 'insertHorizontalRule') {\n                        param = undefined;\n                    } else if (cmd === 'formatBlock' && t.isIE) {\n                        param = '<' + param + '>';\n                    }\n\n                    t.doc.execCommand(cmd, false, param);\n\n                    t.syncCode();\n                    t.semanticCode(false, true);\n                }\n\n                if (cmd !== 'dropdown') {\n                    t.updateButtonPaneStatus();\n                    t.$c.trigger('tbwchange');\n                }\n            }\n        },\n\n\n        // Open a modal box\n        openModal: function (title, content) {\n            var t = this,\n                prefix = t.o.prefix;\n\n            // No open a modal box when exist other modal box\n            if ($('.' + prefix + 'modal-box', t.$box).length > 0) {\n                return false;\n            }\n\n            t.saveRange();\n            t.showOverlay();\n\n            // Disable all btnPane btns\n            t.$btnPane.addClass(prefix + 'disable');\n\n            // Build out of ModalBox, it's the mask for animations\n            var $modal = $('<div/>', {\n                class: prefix + 'modal ' + prefix + 'fixed-top'\n            }).css({\n                top: t.$btnPane.height()\n            }).appendTo(t.$box);\n\n            // Click on overlay close modal by cancelling them\n            t.$overlay.one('click', function () {\n                $modal.trigger('tbwcancel');\n                return false;\n            });\n\n            // Build the form\n            var $form = $('<form/>', {\n                action: '',\n                html: content\n            })\n                .on('submit', function () {\n                    $modal.trigger('tbwconfirm');\n                    return false;\n                })\n                .on('reset', function () {\n                    $modal.trigger('tbwcancel');\n                    return false;\n                });\n\n\n            // Build ModalBox and animate to show them\n            var $box = $('<div/>', {\n                class: prefix + 'modal-box',\n                html: $form\n            })\n                .css({\n                    top: '-' + t.$btnPane.outerHeight() + 'px',\n                    opacity: 0\n                })\n                .appendTo($modal)\n                .animate({\n                    top: 0,\n                    opacity: 1\n                }, 100);\n\n\n            // Append title\n            $('<span/>', {\n                text: title,\n                class: prefix + 'modal-title'\n            }).prependTo($box);\n\n            $modal.height($box.outerHeight() + 10);\n\n\n            // Focus in modal box\n            $('input:first', $box).focus();\n\n\n            // Append Confirm and Cancel buttons\n            t.buildModalBtn('submit', $box);\n            t.buildModalBtn('reset', $box);\n\n\n            $(window).trigger('scroll');\n\n            return $modal;\n        },\n        // @param n is name of modal\n        buildModalBtn: function (n, $modal) {\n            var t = this,\n                prefix = t.o.prefix;\n\n            return $('<button/>', {\n                class: prefix + 'modal-button ' + prefix + 'modal-' + n,\n                type: n,\n                text: t.lang[n] || n\n            }).appendTo($('form', $modal));\n        },\n        // close current modal box\n        closeModal: function () {\n            var t = this,\n                prefix = t.o.prefix;\n\n            t.$btnPane.removeClass(prefix + 'disable');\n            t.$overlay.off();\n\n            // Find the modal box\n            var $modalBox = $('.' + prefix + 'modal-box', t.$box);\n\n            $modalBox.animate({\n                top: '-' + $modalBox.height()\n            }, 100, function () {\n                $modalBox.parent().remove();\n                t.hideOverlay();\n            });\n\n            t.restoreRange();\n        },\n        // Preformated build and management modal\n        openModalInsert: function (title, fields, cmd) {\n            var t = this,\n                prefix = t.o.prefix,\n                lg = t.lang,\n                html = '',\n                CONFIRM_EVENT = 'tbwconfirm';\n\n            $.each(fields, function (fieldName, field) {\n                var l = field.label,\n                    n = field.name || fieldName,\n                    a = field.attributes || {};\n\n                var attr = Object.keys(a).map(function (prop) {\n                    return prop + '=\"' + a[prop] + '\"';\n                }).join(' ');\n\n                html += '<label><input type=\"' + (field.type || 'text') + '\" name=\"' + n + '\" value=\"' + (field.value || '').replace(/\"/g, '&quot;') + '\"' + attr + '><span class=\"' + prefix + 'input-infos\"><span>' +\n                    ((!l) ? (lg[fieldName] ? lg[fieldName] : fieldName) : (lg[l] ? lg[l] : l)) +\n                    '</span></span></label>';\n            });\n\n            return t.openModal(title, html)\n                .on(CONFIRM_EVENT, function () {\n                    var $form = $('form', $(this)),\n                        valid = true,\n                        values = {};\n\n                    $.each(fields, function (fieldName, field) {\n                        var $field = $('input[name=\"' + fieldName + '\"]', $form),\n                            inputType = $field.attr('type');\n\n                        if (inputType.toLowerCase() === 'checkbox') {\n                            values[fieldName] = $field.is(':checked');\n                        } else {\n                            values[fieldName] = $.trim($field.val());\n                        }\n                        // Validate value\n                        if (field.required && values[fieldName] === '') {\n                            valid = false;\n                            t.addErrorOnModalField($field, t.lang.required);\n                        } else if (field.pattern && !field.pattern.test(values[fieldName])) {\n                            valid = false;\n                            t.addErrorOnModalField($field, field.patternError);\n                        }\n                    });\n\n                    if (valid) {\n                        t.restoreRange();\n\n                        if (cmd(values, fields)) {\n                            t.syncCode();\n                            t.$c.trigger('tbwchange');\n                            t.closeModal();\n                            $(this).off(CONFIRM_EVENT);\n                        }\n                    }\n                })\n                .one('tbwcancel', function () {\n                    $(this).off(CONFIRM_EVENT);\n                    t.closeModal();\n                });\n        },\n        addErrorOnModalField: function ($field, err) {\n            var prefix = this.o.prefix,\n                $label = $field.parent();\n\n            $field\n                .on('change keyup', function () {\n                    $label.removeClass(prefix + 'input-error');\n                });\n\n            $label\n                .addClass(prefix + 'input-error')\n                .find('input+span')\n                .append(\n                    $('<span/>', {\n                        class: prefix + 'msg-error',\n                        text: err\n                    })\n                );\n        },\n\n\n        // Range management\n        saveRange: function () {\n            var t = this,\n                documentSelection = t.doc.getSelection();\n\n            t.range = null;\n\n            if (documentSelection.rangeCount) {\n                var savedRange = t.range = documentSelection.getRangeAt(0),\n                    range = t.doc.createRange(),\n                    rangeStart;\n                range.selectNodeContents(t.$ed[0]);\n                range.setEnd(savedRange.startContainer, savedRange.startOffset);\n                rangeStart = (range + '').length;\n                t.metaRange = {\n                    start: rangeStart,\n                    end: rangeStart + (savedRange + '').length\n                };\n            }\n        },\n        restoreRange: function () {\n            var t = this,\n                metaRange = t.metaRange,\n                savedRange = t.range,\n                documentSelection = t.doc.getSelection(),\n                range;\n\n            if (!savedRange) {\n                return;\n            }\n\n            if (metaRange && metaRange.start !== metaRange.end) { // Algorithm from http://jsfiddle.net/WeWy7/3/\n                var charIndex = 0,\n                    nodeStack = [t.$ed[0]],\n                    node,\n                    foundStart = false,\n                    stop = false;\n\n                range = t.doc.createRange();\n\n                while (!stop && (node = nodeStack.pop())) {\n                    if (node.nodeType === 3) {\n                        var nextCharIndex = charIndex + node.length;\n                        if (!foundStart && metaRange.start >= charIndex && metaRange.start <= nextCharIndex) {\n                            range.setStart(node, metaRange.start - charIndex);\n                            foundStart = true;\n                        }\n                        if (foundStart && metaRange.end >= charIndex && metaRange.end <= nextCharIndex) {\n                            range.setEnd(node, metaRange.end - charIndex);\n                            stop = true;\n                        }\n                        charIndex = nextCharIndex;\n                    } else {\n                        var cn = node.childNodes,\n                            i = cn.length;\n\n                        while (i > 0) {\n                            i -= 1;\n                            nodeStack.push(cn[i]);\n                        }\n                    }\n                }\n            }\n\n            documentSelection.removeAllRanges();\n            documentSelection.addRange(range || savedRange);\n        },\n        getRangeText: function () {\n            return this.range + '';\n        },\n\n        updateButtonPaneStatus: function () {\n            var t = this,\n                prefix = t.o.prefix,\n                tags = t.getTagsRecursive(t.doc.getSelection().focusNode),\n                activeClasses = prefix + 'active-button ' + prefix + 'active';\n\n            $('.' + prefix + 'active-button', t.$btnPane).removeClass(activeClasses);\n            $.each(tags, function (i, tag) {\n                var btnName = t.tagToButton[tag.toLowerCase()],\n                    $btn = $('.' + prefix + btnName + '-button', t.$btnPane);\n\n                if ($btn.length > 0) {\n                    $btn.addClass(activeClasses);\n                } else {\n                    try {\n                        $btn = $('.' + prefix + 'dropdown .' + prefix + btnName + '-dropdown-button', t.$box);\n                        var dropdownBtnName = $btn.parent().data('dropdown');\n                        $('.' + prefix + dropdownBtnName + '-button', t.$box).addClass(activeClasses);\n                    } catch (e) {\n                    }\n                }\n            });\n        },\n        getTagsRecursive: function (element, tags) {\n            var t = this;\n            tags = tags || (element && element.tagName ? [element.tagName] : []);\n\n            if (element && element.parentNode) {\n                element = element.parentNode;\n            } else {\n                return tags;\n            }\n\n            var tag = element.tagName;\n            if (tag === 'DIV') {\n                return tags;\n            }\n            if (tag === 'P' && element.style.textAlign !== '') {\n                tags.push(element.style.textAlign);\n            }\n\n            $.each(t.tagHandlers, function (i, tagHandler) {\n                tags = tags.concat(tagHandler(element, t));\n            });\n\n            tags.push(tag);\n\n            return t.getTagsRecursive(element, tags);\n        },\n\n        // Plugins\n        initPlugins: function () {\n            var t = this;\n            t.loadedPlugins = [];\n            $.each($.trumbowyg.plugins, function (name, plugin) {\n                if (!plugin.shouldInit || plugin.shouldInit(t)) {\n                    plugin.init(t);\n                    if (plugin.tagHandler) {\n                        t.tagHandlers.push(plugin.tagHandler);\n                    }\n                    t.loadedPlugins.push(plugin);\n                }\n            });\n        },\n        destroyPlugins: function () {\n            $.each(this.loadedPlugins, function (i, plugin) {\n                if (plugin.destroy) {\n                    plugin.destroy();\n                }\n            });\n        }\n    };\n})(navigator, window, document, jQuery);\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJidWlsZC92ZW5kb3JzL3RydW1ib3d5Zy90cnVtYm93eWcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLE9BQU8sU0FBUCxHQUFtQjtBQUNmLFdBQU87QUFDSCxZQUFJO0FBQ0Esc0JBQVUsV0FEVjs7QUFHQSxrQkFBTSxNQUhOO0FBSUEsa0JBQU0sTUFKTjs7QUFNQSx3QkFBWSxZQU5aO0FBT0EsZUFBRyxXQVBIO0FBUUEsd0JBQVksT0FSWjtBQVNBLGtCQUFNLE1BVE47QUFVQSxvQkFBUSxRQVZSOztBQVlBLGtCQUFNLE1BWk47QUFhQSxvQkFBUSxRQWJSO0FBY0EsMkJBQWUsUUFkZjtBQWVBLHVCQUFXLFdBZlg7O0FBaUJBLG9CQUFRLFFBakJSO0FBa0JBLGdCQUFJLFVBbEJKO0FBbUJBLGlCQUFLLFNBbkJMOztBQXFCQSx5QkFBYSxhQXJCYjtBQXNCQSx1QkFBVyxXQXRCWDs7QUF3QkEsMkJBQWUsZ0JBeEJmO0FBeUJBLHlCQUFhLGNBekJiOztBQTJCQSx5QkFBYSxjQTNCYjtBQTRCQSxrQkFBTSxNQTVCTjtBQTZCQSx3QkFBWSxhQTdCWjtBQThCQSxvQkFBUSxhQTlCUjs7QUFnQ0EseUJBQWEsWUFoQ2I7QUFpQ0EsMkJBQWUsY0FqQ2Y7QUFrQ0EsMEJBQWMsYUFsQ2Q7QUFtQ0EseUJBQWEsZUFuQ2I7O0FBcUNBLDRCQUFnQix3QkFyQ2hCO0FBc0NBLDBCQUFjLGVBdENkOztBQXdDQSx3QkFBWSxZQXhDWjs7QUEwQ0EsbUJBQU8sT0ExQ1A7O0FBNENBLG9CQUFRLFNBNUNSO0FBNkNBLG1CQUFPLFFBN0NQOztBQStDQSxzQkFBVSxVQS9DVjtBQWdEQSx5QkFBYSxhQWhEYjtBQWlEQSxtQkFBTyxPQWpEUDtBQWtEQSxrQkFBTSxNQWxETjtBQW1EQSxvQkFBUTtBQW5EUjtBQURELEtBRFE7O0FBeURmO0FBQ0EsYUFBUyxFQTFETTs7QUE0RGY7QUFD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QUFPLEVBQUUsU0FBRixDQUFZLE9BQW5CLEVBQTRCLFVBQVUsSUFBVixFQUFnQixNQUFoQixFQUF3QjtBQUNoRCxvQkFBSSxDQUFDLE9BQU8sVUFBUixJQUFzQixPQUFPLFVBQVAsQ0FBa0IsQ0FBbEIsQ0FBMUIsRUFBZ0Q7QUFDNUMsMkJBQU8sSUFBUCxDQUFZLENBQVo7QUFDQSx3QkFBSSxPQUFPLFVBQVgsRUFBdUI7QUFDbkIsMEJBQUUsV0FBRixDQUFjLElBQWQsQ0FBbUIsT0FBTyxVQUExQjtBQUNIO0FBQ0Qsc0JBQUUsYUFBRixDQUFnQixJQUFoQixDQUFxQixNQUFyQjtBQUNIO0FBQ0osYUFSRDtBQVNILFNBam5DaUI7QUFrbkNsQix3QkFBZ0IsMEJBQVk7QUFDeEIsY0FBRSxJQUFGLENBQU8sS0FBSyxhQUFaLEVBQTJCLFVBQVUsQ0FBVixFQUFhLE1BQWIsRUFBcUI7QUFDNUMsb0JBQUksT0FBTyxPQUFYLEVBQW9CO0FBQ2hCLDJCQUFPLE9BQVA7QUFDSDtBQUNKLGFBSkQ7QUFLSDtBQXhuQ2lCLEtBQXRCO0FBMG5DSCxDQXovQ0QsRUF5L0NHLFNBei9DSCxFQXkvQ2MsTUF6L0NkLEVBeS9Dc0IsUUF6L0N0QixFQXkvQ2dDLE1Bei9DaEMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwialF1ZXJ5LnRydW1ib3d5ZyA9IHtcbiAgICBsYW5nczoge1xuICAgICAgICBlbjogeyBcbiAgICAgICAgICAgIHZpZXdIVE1MOiAnVmlldyBIVE1MJyxcblxuICAgICAgICAgICAgdW5kbzogJ1VuZG8nLFxuICAgICAgICAgICAgcmVkbzogJ1JlZG8nLFxuXG4gICAgICAgICAgICBmb3JtYXR0aW5nOiAnRm9ybWF0dGluZycsXG4gICAgICAgICAgICBwOiAnUGFyYWdyYXBoJyxcbiAgICAgICAgICAgIGJsb2NrcXVvdGU6ICdRdW90ZScsXG4gICAgICAgICAgICBjb2RlOiAnQ29kZScsXG4gICAgICAgICAgICBoZWFkZXI6ICdIZWFkZXInLFxuXG4gICAgICAgICAgICBib2xkOiAnQm9sZCcsXG4gICAgICAgICAgICBpdGFsaWM6ICdJdGFsaWMnLFxuICAgICAgICAgICAgc3RyaWtldGhyb3VnaDogJ1N0cm9rZScsXG4gICAgICAgICAgICB1bmRlcmxpbmU6ICdVbmRlcmxpbmUnLFxuXG4gICAgICAgICAgICBzdHJvbmc6ICdTdHJvbmcnLFxuICAgICAgICAgICAgZW06ICdFbXBoYXNpcycsXG4gICAgICAgICAgICBkZWw6ICdEZWxldGVkJyxcblxuICAgICAgICAgICAgc3VwZXJzY3JpcHQ6ICdTdXBlcnNjcmlwdCcsXG4gICAgICAgICAgICBzdWJzY3JpcHQ6ICdTdWJzY3JpcHQnLFxuXG4gICAgICAgICAgICB1bm9yZGVyZWRMaXN0OiAnVW5vcmRlcmVkIGxpc3QnLFxuICAgICAgICAgICAgb3JkZXJlZExpc3Q6ICdPcmRlcmVkIGxpc3QnLFxuXG4gICAgICAgICAgICBpbnNlcnRJbWFnZTogJ0luc2VydCBJbWFnZScsXG4gICAgICAgICAgICBsaW5rOiAnTGluaycsXG4gICAgICAgICAgICBjcmVhdGVMaW5rOiAnSW5zZXJ0IGxpbmsnLFxuICAgICAgICAgICAgdW5saW5rOiAnUmVtb3ZlIGxpbmsnLFxuXG4gICAgICAgICAgICBqdXN0aWZ5TGVmdDogJ0FsaWduIExlZnQnLFxuICAgICAgICAgICAganVzdGlmeUNlbnRlcjogJ0FsaWduIENlbnRlcicsXG4gICAgICAgICAgICBqdXN0aWZ5UmlnaHQ6ICdBbGlnbiBSaWdodCcsXG4gICAgICAgICAgICBqdXN0aWZ5RnVsbDogJ0FsaWduIEp1c3RpZnknLFxuXG4gICAgICAgICAgICBob3Jpem9udGFsUnVsZTogJ0luc2VydCBob3Jpem9udGFsIHJ1bGUnLFxuICAgICAgICAgICAgcmVtb3ZlZm9ybWF0OiAnUmVtb3ZlIGZvcm1hdCcsXG5cbiAgICAgICAgICAgIGZ1bGxzY3JlZW46ICdGdWxsc2NyZWVuJyxcblxuICAgICAgICAgICAgY2xvc2U6ICdDbG9zZScsXG5cbiAgICAgICAgICAgIHN1Ym1pdDogJ0NvbmZpcm0nLFxuICAgICAgICAgICAgcmVzZXQ6ICdDYW5jZWwnLFxuXG4gICAgICAgICAgICByZXF1aXJlZDogJ1JlcXVpcmVkJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGVzY3JpcHRpb24nLFxuICAgICAgICAgICAgdGl0bGU6ICdUaXRsZScsXG4gICAgICAgICAgICB0ZXh0OiAnVGV4dCcsXG4gICAgICAgICAgICB0YXJnZXQ6ICdUYXJnZXQnXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gUGx1Z2luc1xuICAgIHBsdWdpbnM6IHt9LFxuXG4gICAgLy8gU1ZHIFBhdGggZ2xvYmFsbHlcbiAgICBzdmdQYXRoOiBudWxsLFxuXG4gICAgaGlkZUJ1dHRvblRleHRzOiBudWxsXG59O1xuXG5cbihmdW5jdGlvbiAobmF2aWdhdG9yLCB3aW5kb3csIGRvY3VtZW50LCAkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgJC5mbi50cnVtYm93eWcgPSBmdW5jdGlvbiAob3B0aW9ucywgcGFyYW1zKSB7XG4gICAgICAgIHZhciB0cnVtYm93eWdEYXRhTmFtZSA9ICd0cnVtYm93eWcnO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gT2JqZWN0KG9wdGlvbnMpIHx8ICFvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoISQodGhpcykuZGF0YSh0cnVtYm93eWdEYXRhTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5kYXRhKHRydW1ib3d5Z0RhdGFOYW1lLCBuZXcgVHJ1bWJvd3lnKHRoaXMsIG9wdGlvbnMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIHQgPSAkKHRoaXMpLmRhdGEodHJ1bWJvd3lnRGF0YU5hbWUpO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAob3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAvLyBFeGVjIGNvbW1hbmRcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZXhlY0NtZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdC5leGVjQ21kKHBhcmFtcy5jbWQsIHBhcmFtcy5wYXJhbSwgcGFyYW1zLmZvcmNlQ3NzKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBNb2RhbCBib3hcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnb3Blbk1vZGFsJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0Lm9wZW5Nb2RhbChwYXJhbXMudGl0bGUsIHBhcmFtcy5jb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2xvc2VNb2RhbCc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdC5jbG9zZU1vZGFsKCk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ29wZW5Nb2RhbEluc2VydCc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdC5vcGVuTW9kYWxJbnNlcnQocGFyYW1zLnRpdGxlLCBwYXJhbXMuZmllbGRzLCBwYXJhbXMuY2FsbGJhY2spO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJhbmdlXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NhdmVSYW5nZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdC5zYXZlUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZ2V0UmFuZ2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQucmFuZ2U7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2dldFJhbmdlVGV4dCc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdC5nZXRSYW5nZVRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVzdG9yZVJhbmdlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0LnJlc3RvcmVSYW5nZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuYWJsZS9kaXNhYmxlXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2VuYWJsZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdC50b2dnbGVEaXNhYmxlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGlzYWJsZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdC50b2dnbGVEaXNhYmxlKHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIERlc3Ryb3lcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGVzdHJveSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdC5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRW1wdHlcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZW1wdHknOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQuZW1wdHkoKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBIVE1MXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2h0bWwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQuaHRtbChwYXJhbXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGMpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLy8gQHBhcmFtOiBlZGl0b3JFbGVtIGlzIHRoZSBET00gZWxlbWVudFxuICAgIHZhciBUcnVtYm93eWcgPSBmdW5jdGlvbiAoZWRpdG9yRWxlbSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgdCA9IHRoaXMsXG4gICAgICAgICAgICB0cnVtYm93eWdJY29uc0lkID0gJ3RydW1ib3d5Zy1pY29ucyc7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBkb2N1bWVudCBvZiB0aGUgZWxlbWVudC4gSXQgdXNlIHRvIG1ha2VzIHRoZSBwbHVnaW5cbiAgICAgICAgLy8gY29tcGF0aWJsZSBvbiBpZnJhbWVzLlxuICAgICAgICB0LmRvYyA9IGVkaXRvckVsZW0ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudDtcblxuICAgICAgICAvLyBqUXVlcnkgb2JqZWN0IG9mIHRoZSBlZGl0b3JcbiAgICAgICAgdC4kdGEgPSAkKGVkaXRvckVsZW0pOyAvLyAkdGEgOiBUZXh0YXJlYVxuICAgICAgICB0LiRjID0gJChlZGl0b3JFbGVtKTsgLy8gJGMgOiBjcmVhdG9yXG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLy8gTG9jYWxpemF0aW9uIG1hbmFnZW1lbnRcbiAgICAgICAgaWYgKG9wdGlvbnMubGFuZyAhPSBudWxsIHx8ICQudHJ1bWJvd3lnLmxhbmdzW29wdGlvbnMubGFuZ10gIT0gbnVsbCkge1xuICAgICAgICAgICAgdC5sYW5nID0gJC5leHRlbmQodHJ1ZSwge30sICQudHJ1bWJvd3lnLmxhbmdzLmVuLCAkLnRydW1ib3d5Zy5sYW5nc1tvcHRpb25zLmxhbmddKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHQubGFuZyA9ICQudHJ1bWJvd3lnLmxhbmdzLmVuO1xuICAgICAgICB9XG5cbiAgICAgICAgdC5oaWRlQnV0dG9uVGV4dHMgPSAkLnRydW1ib3d5Zy5oaWRlQnV0dG9uVGV4dHMgIT0gbnVsbCA/ICQudHJ1bWJvd3lnLmhpZGVCdXR0b25UZXh0cyA6IG9wdGlvbnMuaGlkZUJ1dHRvblRleHRzO1xuXG4gICAgICAgIC8vIFNWRyBwYXRoXG4gICAgICAgIHZhciBzdmdQYXRoT3B0aW9uID0gJC50cnVtYm93eWcuc3ZnUGF0aCAhPSBudWxsID8gJC50cnVtYm93eWcuc3ZnUGF0aCA6IG9wdGlvbnMuc3ZnUGF0aDtcbiAgICAgICAgdC5oYXNTdmcgPSBzdmdQYXRoT3B0aW9uICE9PSBmYWxzZTtcbiAgICAgICAgdC5zdmdQYXRoID0gISF0LmRvYy5xdWVyeVNlbGVjdG9yKCdiYXNlJykgPyB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnIycpWzBdIDogJyc7XG4gICAgICAgIGlmICgkKCcjJyArIHRydW1ib3d5Z0ljb25zSWQsIHQuZG9jKS5sZW5ndGggPT09IDAgJiYgc3ZnUGF0aE9wdGlvbiAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmIChzdmdQYXRoT3B0aW9uID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGFja0xpbmVzID0gZS5zdGFjay5zcGxpdCgnXFxuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBzdGFja0xpbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YWNrTGluZXNbaV0ubWF0Y2goL2h0dHBbc10/OlxcL1xcLy8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdmdQYXRoT3B0aW9uID0gc3RhY2tMaW5lc1tOdW1iZXIoaSldLm1hdGNoKC8oKGh0dHBbc10/OlxcL1xcLy4rXFwvKShbXlxcL10rXFwuanMpKShcXD8uKik/Oi8pWzFdLnNwbGl0KCcvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdmdQYXRoT3B0aW9uLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ZnUGF0aE9wdGlvbiA9IHN2Z1BhdGhPcHRpb24uam9pbignLycpICsgJy91aS9pY29ucy5zdmcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBkaXYgPSB0LmRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGRpdi5pZCA9IHRydW1ib3d5Z0ljb25zSWQ7XG4gICAgICAgICAgICB0LmRvYy5ib2R5Lmluc2VydEJlZm9yZShkaXYsIHQuZG9jLmJvZHkuY2hpbGROb2Rlc1swXSk7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04JyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ3htbCcsXG4gICAgICAgICAgICAgICAgY3Jvc3NEb21haW4gOiB0cnVlLFxuICAgICAgICAgICAgICAgIHVybDogc3ZnUGF0aE9wdGlvbixcbiAgICAgICAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgICAgICAgIGJlZm9yZVNlbmQ6IG51bGwsXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IG51bGwsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IG5ldyBYTUxTZXJpYWxpemVyKCkuc2VyaWFsaXplVG9TdHJpbmcoZGF0YS5kb2N1bWVudEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgYnV0dG9uIGlzIGFzc29jaWF0ZWQgdG8gYSBlbXB0eSBvYmplY3RcbiAgICAgICAgICogZm4gYW5kIHRpdGxlIGF0dHJpYnV0cyBhcmUgZGVmaW5lZCBmcm9tIHRoZSBidXR0b24ga2V5IHZhbHVlXG4gICAgICAgICAqXG4gICAgICAgICAqIEZvciBleGFtcGxlXG4gICAgICAgICAqICAgICAgZm9vOiB7fVxuICAgICAgICAgKiBpcyBlcXVpdmFsZW50IHRvIDpcbiAgICAgICAgICogICAgICBmb286IHtcbiAgICAgICAgICAgICAqICAgICAgICAgIGZuOiAnZm9vJyxcbiAgICAgICAgICAgICAqICAgICAgICAgIHRpdGxlOiB0aGlzLmxhbmcuZm9vXG4gICAgICAgICAgICAgKiAgICAgIH1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBoID0gdC5sYW5nLmhlYWRlciwgLy8gSGVhZGVyIHRyYW5zbGF0aW9uXG4gICAgICAgICAgICBpc0JsaW5rRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh3aW5kb3cuY2hyb21lIHx8ICh3aW5kb3cuSW50bCAmJiBJbnRsLnY4QnJlYWtJdGVyYXRvcikpICYmICdDU1MnIGluIHdpbmRvdztcbiAgICAgICAgICAgIH07XG4gICAgICAgIHQuYnRuc0RlZiA9IHtcbiAgICAgICAgICAgIHZpZXdIVE1MOiB7XG4gICAgICAgICAgICAgICAgZm46ICd0b2dnbGUnXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB1bmRvOiB7XG4gICAgICAgICAgICAgICAgaXNTdXBwb3J0ZWQ6IGlzQmxpbmtGdW5jdGlvbixcbiAgICAgICAgICAgICAgICBrZXk6ICdaJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlZG86IHtcbiAgICAgICAgICAgICAgICBpc1N1cHBvcnRlZDogaXNCbGlua0Z1bmN0aW9uLFxuICAgICAgICAgICAgICAgIGtleTogJ1knXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBwOiB7XG4gICAgICAgICAgICAgICAgZm46ICdmb3JtYXRCbG9jaydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBibG9ja3F1b3RlOiB7XG4gICAgICAgICAgICAgICAgZm46ICdmb3JtYXRCbG9jaydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoMToge1xuICAgICAgICAgICAgICAgIGZuOiAnZm9ybWF0QmxvY2snLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBoICsgJyAxJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGgyOiB7XG4gICAgICAgICAgICAgICAgZm46ICdmb3JtYXRCbG9jaycsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGggKyAnIDInXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaDM6IHtcbiAgICAgICAgICAgICAgICBmbjogJ2Zvcm1hdEJsb2NrJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogaCArICcgMydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoNDoge1xuICAgICAgICAgICAgICAgIGZuOiAnZm9ybWF0QmxvY2snLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBoICsgJyA0J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1YnNjcmlwdDoge1xuICAgICAgICAgICAgICAgIHRhZzogJ3N1YidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdXBlcnNjcmlwdDoge1xuICAgICAgICAgICAgICAgIHRhZzogJ3N1cCdcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGJvbGQ6IHtcbiAgICAgICAgICAgICAgICBrZXk6ICdCJyxcbiAgICAgICAgICAgICAgICB0YWc6ICdiJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGl0YWxpYzoge1xuICAgICAgICAgICAgICAgIGtleTogJ0knLFxuICAgICAgICAgICAgICAgIHRhZzogJ2knXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdW5kZXJsaW5lOiB7XG4gICAgICAgICAgICAgICAgdGFnOiAndSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJpa2V0aHJvdWdoOiB7XG4gICAgICAgICAgICAgICAgdGFnOiAnc3RyaWtlJ1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgc3Ryb25nOiB7XG4gICAgICAgICAgICAgICAgZm46ICdib2xkJyxcbiAgICAgICAgICAgICAgICBrZXk6ICdCJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVtOiB7XG4gICAgICAgICAgICAgICAgZm46ICdpdGFsaWMnLFxuICAgICAgICAgICAgICAgIGtleTogJ0knXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVsOiB7XG4gICAgICAgICAgICAgICAgZm46ICdzdHJpa2V0aHJvdWdoJ1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgY3JlYXRlTGluazoge1xuICAgICAgICAgICAgICAgIGtleTogJ0snLFxuICAgICAgICAgICAgICAgIHRhZzogJ2EnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdW5saW5rOiB7fSxcblxuICAgICAgICAgICAgaW5zZXJ0SW1hZ2U6IHt9LFxuXG4gICAgICAgICAgICBqdXN0aWZ5TGVmdDoge1xuICAgICAgICAgICAgICAgIHRhZzogJ2xlZnQnLFxuICAgICAgICAgICAgICAgIGZvcmNlQ3NzOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAganVzdGlmeUNlbnRlcjoge1xuICAgICAgICAgICAgICAgIHRhZzogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgZm9yY2VDc3M6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBqdXN0aWZ5UmlnaHQ6IHtcbiAgICAgICAgICAgICAgICB0YWc6ICdyaWdodCcsXG4gICAgICAgICAgICAgICAgZm9yY2VDc3M6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBqdXN0aWZ5RnVsbDoge1xuICAgICAgICAgICAgICAgIHRhZzogJ2p1c3RpZnknLFxuICAgICAgICAgICAgICAgIGZvcmNlQ3NzOiB0cnVlXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB1bm9yZGVyZWRMaXN0OiB7XG4gICAgICAgICAgICAgICAgZm46ICdpbnNlcnRVbm9yZGVyZWRMaXN0JyxcbiAgICAgICAgICAgICAgICB0YWc6ICd1bCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcmRlcmVkTGlzdDoge1xuICAgICAgICAgICAgICAgIGZuOiAnaW5zZXJ0T3JkZXJlZExpc3QnLFxuICAgICAgICAgICAgICAgIHRhZzogJ29sJ1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaG9yaXpvbnRhbFJ1bGU6IHtcbiAgICAgICAgICAgICAgICBmbjogJ2luc2VydEhvcml6b250YWxSdWxlJ1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgcmVtb3ZlZm9ybWF0OiB7fSxcblxuICAgICAgICAgICAgZnVsbHNjcmVlbjoge1xuICAgICAgICAgICAgICAgIGNsYXNzOiAndHJ1bWJvd3lnLW5vdC1kaXNhYmxlJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsb3NlOiB7XG4gICAgICAgICAgICAgICAgZm46ICdkZXN0cm95JyxcbiAgICAgICAgICAgICAgICBjbGFzczogJ3RydW1ib3d5Zy1ub3QtZGlzYWJsZSdcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8vIERyb3Bkb3duc1xuICAgICAgICAgICAgZm9ybWF0dGluZzoge1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duOiBbJ3AnLCAnYmxvY2txdW90ZScsICdoMScsICdoMicsICdoMycsICdoNCddLFxuICAgICAgICAgICAgICAgIGljbzogJ3AnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGluazoge1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duOiBbJ2NyZWF0ZUxpbmsnLCAndW5saW5rJ11cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBEZWZhdWx0cyBPcHRpb25zXG4gICAgICAgIHQubyA9ICQuZXh0ZW5kKHRydWUsIHt9LCB7XG4gICAgICAgICAgICBsYW5nOiAnZW4nLFxuXG4gICAgICAgICAgICBmaXhlZEJ0blBhbmU6IGZhbHNlLFxuICAgICAgICAgICAgZml4ZWRGdWxsV2lkdGg6IGZhbHNlLFxuICAgICAgICAgICAgYXV0b2dyb3c6IGZhbHNlLFxuXG4gICAgICAgICAgICBwcmVmaXg6ICd0cnVtYm93eWctJyxcblxuICAgICAgICAgICAgc2VtYW50aWM6IHRydWUsXG4gICAgICAgICAgICByZXNldENzczogZmFsc2UsXG4gICAgICAgICAgICByZW1vdmVmb3JtYXRQYXN0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgdGFnc1RvUmVtb3ZlOiBbXSxcblxuICAgICAgICAgICAgYnRuc0dycHM6IHtcbiAgICAgICAgICAgICAgICBkZXNpZ246IFsnYm9sZCcsICdpdGFsaWMnLCAndW5kZXJsaW5lJywgJ3N0cmlrZXRocm91Z2gnXSxcbiAgICAgICAgICAgICAgICBzZW1hbnRpYzogWydzdHJvbmcnLCAnZW0nLCAnZGVsJ10sXG4gICAgICAgICAgICAgICAganVzdGlmeTogWydqdXN0aWZ5TGVmdCcsICdqdXN0aWZ5Q2VudGVyJywgJ2p1c3RpZnlSaWdodCcsICdqdXN0aWZ5RnVsbCddLFxuICAgICAgICAgICAgICAgIGxpc3RzOiBbJ3Vub3JkZXJlZExpc3QnLCAnb3JkZXJlZExpc3QnXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJ0bnM6IFtcbiAgICAgICAgICAgICAgICBbJ3ZpZXdIVE1MJ10sXG4gICAgICAgICAgICAgICAgWyd1bmRvJywgJ3JlZG8nXSxcbiAgICAgICAgICAgICAgICBbJ2Zvcm1hdHRpbmcnXSxcbiAgICAgICAgICAgICAgICAnYnRuR3JwLXNlbWFudGljJyxcbiAgICAgICAgICAgICAgICBbJ3N1cGVyc2NyaXB0JywgJ3N1YnNjcmlwdCddLFxuICAgICAgICAgICAgICAgIFsnbGluayddLFxuICAgICAgICAgICAgICAgIFsnaW5zZXJ0SW1hZ2UnXSxcbiAgICAgICAgICAgICAgICAnYnRuR3JwLWp1c3RpZnknLFxuICAgICAgICAgICAgICAgICdidG5HcnAtbGlzdHMnLFxuICAgICAgICAgICAgICAgIFsnaG9yaXpvbnRhbFJ1bGUnXSxcbiAgICAgICAgICAgICAgICBbJ3JlbW92ZWZvcm1hdCddLFxuICAgICAgICAgICAgICAgIFsnZnVsbHNjcmVlbiddXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgLy8gRm9yIGN1c3RvbSBidXR0b24gZGVmaW5pdGlvbnNcbiAgICAgICAgICAgIGJ0bnNEZWY6IHt9LFxuXG4gICAgICAgICAgICBpbmxpbmVFbGVtZW50c1NlbGVjdG9yOiAnYSxhYmJyLGFjcm9ueW0sYixjYXB0aW9uLGNpdGUsY29kZSxjb2wsZGZuLGRpcixkdCxkZCxlbSxmb250LGhyLGksa2JkLGxpLHEsc3BhbixzdHJpa2VvdXQsc3Ryb25nLHN1YixzdXAsdScsXG5cbiAgICAgICAgICAgIHBhc3RlSGFuZGxlcnM6IFtdLFxuXG4gICAgICAgICAgICBpbWdEYmxDbGlja0hhbmRsZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgJGltZyA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIHNyYyA9ICRpbWcuYXR0cignc3JjJyksXG4gICAgICAgICAgICAgICAgICAgIGJhc2U2NCA9ICcoQmFzZTY0KSc7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3JjLmluZGV4T2YoJ2RhdGE6aW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBzcmMgPSBiYXNlNjQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdC5vcGVuTW9kYWxJbnNlcnQodC5sYW5nLmluc2VydEltYWdlLCB7XG4gICAgICAgICAgICAgICAgICAgIHVybDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdVUkwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHNyYyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHQubGFuZy5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAkaW1nLmF0dHIoJ2FsdCcpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodi5zcmMgIT09IGJhc2U2NCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGltZy5hdHRyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM6IHYuc3JjXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAkaW1nLmF0dHIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWx0OiB2LmFsdFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgcGx1Z2luczoge31cbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgdC5kaXNhYmxlZCA9IHQuby5kaXNhYmxlZCB8fCAoZWRpdG9yRWxlbS5ub2RlTmFtZSA9PT0gJ1RFWFRBUkVBJyAmJiBlZGl0b3JFbGVtLmRpc2FibGVkKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5idG5zKSB7XG4gICAgICAgICAgICB0Lm8uYnRucyA9IG9wdGlvbnMuYnRucztcbiAgICAgICAgfSBlbHNlIGlmICghdC5vLnNlbWFudGljKSB7XG4gICAgICAgICAgICB0Lm8uYnRuc1s0XSA9ICdidG5HcnAtZGVzaWduJztcbiAgICAgICAgfVxuXG4gICAgICAgICQuZWFjaCh0Lm8uYnRuc0RlZiwgZnVuY3Rpb24gKGJ0bk5hbWUsIGJ0bkRlZikge1xuICAgICAgICAgICAgdC5hZGRCdG5EZWYoYnRuTmFtZSwgYnRuRGVmKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gcHV0IHRoaXMgaGVyZSBpbiB0aGUgZXZlbnQgaXQgd291bGQgYmUgbWVyZ2VkIGluIHdpdGggb3B0aW9uc1xuICAgICAgICB0LmV2ZW50TmFtZXNwYWNlID0gJ3RydW1ib3d5Zy1ldmVudCc7XG5cbiAgICAgICAgLy8gS2V5Ym9hcmQgc2hvcnRjdXRzIGFyZSBsb2FkIGluIHRoaXMgYXJyYXlcbiAgICAgICAgdC5rZXlzID0gW107XG5cbiAgICAgICAgLy8gVGFnIHRvIGJ1dHRvbiBkeW5hbWljYWxseSBoeWRyYXRlZFxuICAgICAgICB0LnRhZ1RvQnV0dG9uID0ge307XG4gICAgICAgIHQudGFnSGFuZGxlcnMgPSBbXTtcblxuICAgICAgICAvLyBBZG1pdCBtdWx0aXBsZSBwYXN0ZSBoYW5kbGVyc1xuICAgICAgICB0LnBhc3RlSGFuZGxlcnMgPSBbXS5jb25jYXQodC5vLnBhc3RlSGFuZGxlcnMpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGJyb3dzZXIgaXMgSUVcbiAgICAgICAgdC5pc0lFID0gKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignTVNJRScpICE9PSAtMSB8fCBuYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKCdUcmlkZW50LycpICE9PSAtMSk7XG5cbiAgICAgICAgdC5pbml0KCk7XG4gICAgfTtcblxuICAgIFRydW1ib3d5Zy5wcm90b3R5cGUgPSB7XG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0ID0gdGhpcztcbiAgICAgICAgICAgIHQuaGVpZ2h0ID0gdC4kdGEuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgIHQuaW5pdFBsdWdpbnMoKTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIGltYWdlIHJlc2l6ZSwgdHJ5LWNhdGNoIGZvciBvbGQgSUVcbiAgICAgICAgICAgICAgICB0LmRvYy5leGVjQ29tbWFuZCgnZW5hYmxlT2JqZWN0UmVzaXppbmcnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHQuZG9jLmV4ZWNDb21tYW5kKCdkZWZhdWx0UGFyYWdyYXBoU2VwYXJhdG9yJywgZmFsc2UsICdwJyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHQuYnVpbGRFZGl0b3IoKTtcbiAgICAgICAgICAgIHQuYnVpbGRCdG5QYW5lKCk7XG5cbiAgICAgICAgICAgIHQuZml4ZWRCdG5QYW5lRXZlbnRzKCk7XG5cbiAgICAgICAgICAgIHQuYnVpbGRPdmVybGF5KCk7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICh0LmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHQudG9nZ2xlRGlzYWJsZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdC4kYy50cmlnZ2VyKCd0Yndpbml0Jyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBhZGRCdG5EZWY6IGZ1bmN0aW9uIChidG5OYW1lLCBidG5EZWYpIHtcbiAgICAgICAgICAgIHRoaXMuYnRuc0RlZltidG5OYW1lXSA9IGJ0bkRlZjtcbiAgICAgICAgfSxcblxuICAgICAgICBidWlsZEVkaXRvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHByZWZpeCA9IHQuby5wcmVmaXgsXG4gICAgICAgICAgICAgICAgaHRtbCA9ICcnO1xuXG4gICAgICAgICAgICB0LiRib3ggPSAkKCc8ZGl2Lz4nLCB7XG4gICAgICAgICAgICAgICAgY2xhc3M6IHByZWZpeCArICdib3ggJyArIHByZWZpeCArICdlZGl0b3ItdmlzaWJsZSAnICsgcHJlZml4ICsgdC5vLmxhbmcgKyAnIHRydW1ib3d5ZydcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyAkdGEgPSBUZXh0YXJlYVxuICAgICAgICAgICAgLy8gJGVkID0gRWRpdG9yXG4gICAgICAgICAgICB0LmlzVGV4dGFyZWEgPSB0LiR0YS5pcygndGV4dGFyZWEnKTtcbiAgICAgICAgICAgIGlmICh0LmlzVGV4dGFyZWEpIHtcbiAgICAgICAgICAgICAgICBodG1sID0gdC4kdGEudmFsKCk7XG4gICAgICAgICAgICAgICAgdC4kZWQgPSAkKCc8ZGl2Lz4nKTtcbiAgICAgICAgICAgICAgICB0LiRib3hcbiAgICAgICAgICAgICAgICAgICAgLmluc2VydEFmdGVyKHQuJHRhKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHQuJGVkLCB0LiR0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHQuJGVkID0gdC4kdGE7XG4gICAgICAgICAgICAgICAgaHRtbCA9IHQuJGVkLmh0bWwoKTtcblxuICAgICAgICAgICAgICAgIHQuJHRhID0gJCgnPHRleHRhcmVhLz4nLCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHQuJHRhLmF0dHIoJ2lkJyksXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogdC5oZWlnaHRcbiAgICAgICAgICAgICAgICB9KS52YWwoaHRtbCk7XG5cbiAgICAgICAgICAgICAgICB0LiRib3hcbiAgICAgICAgICAgICAgICAgICAgLmluc2VydEFmdGVyKHQuJGVkKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKHQuJHRhLCB0LiRlZCk7XG4gICAgICAgICAgICAgICAgdC5zeW5jQ29kZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0LiR0YVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhwcmVmaXggKyAndGV4dGFyZWEnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCd0YWJpbmRleCcsIC0xKVxuICAgICAgICAgICAgO1xuXG4gICAgICAgICAgICB0LiRlZFxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhwcmVmaXggKyAnZWRpdG9yJylcbiAgICAgICAgICAgICAgICAuYXR0cih7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGlyOiB0LmxhbmcuX2RpciB8fCAnbHRyJ1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmh0bWwoaHRtbClcbiAgICAgICAgICAgIDtcblxuICAgICAgICAgICAgaWYgKHQuby50YWJpbmRleCkge1xuICAgICAgICAgICAgICAgIHQuJGVkLmF0dHIoJ3RhYmluZGV4JywgdC5vLnRhYmluZGV4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHQuJGMuaXMoJ1twbGFjZWhvbGRlcl0nKSkge1xuICAgICAgICAgICAgICAgIHQuJGVkLmF0dHIoJ3BsYWNlaG9sZGVyJywgdC4kYy5hdHRyKCdwbGFjZWhvbGRlcicpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHQuby5yZXNldENzcykge1xuICAgICAgICAgICAgICAgIHQuJGVkLmFkZENsYXNzKHByZWZpeCArICdyZXNldC1jc3MnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0Lm8uYXV0b2dyb3cpIHtcbiAgICAgICAgICAgICAgICB0LiR0YS5hZGQodC4kZWQpLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogdC5oZWlnaHRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdC5zZW1hbnRpY0NvZGUoKTtcblxuXG4gICAgICAgICAgICB2YXIgY3RybCA9IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbXBvc2l0aW9uID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgZGVib3VuY2VCdXR0b25QYW5lU3RhdHVzLFxuICAgICAgICAgICAgICAgIHVwZGF0ZUV2ZW50TmFtZSA9IHQuaXNJRSA/ICdrZXl1cCcgOiAnaW5wdXQnO1xuXG4gICAgICAgICAgICB0LiRlZFxuICAgICAgICAgICAgICAgIC5vbignZGJsY2xpY2snLCAnaW1nJywgdC5vLmltZ0RibENsaWNrSGFuZGxlcilcbiAgICAgICAgICAgICAgICAub24oJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5jdHJsS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHJsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSB0LmtleXNbU3RyaW5nLmZyb21DaGFyQ29kZShlLndoaWNoKS50b1VwcGVyQ2FzZSgpXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LmV4ZWNDbWQoa2V5LmZuLCBrZXkucGFyYW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm9uKCdjb21wb3NpdGlvbnN0YXJ0IGNvbXBvc2l0aW9udXBkYXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjb21wb3NpdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24odXBkYXRlRXZlbnROYW1lICsgJyBjb21wb3NpdGlvbmVuZCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoZS50eXBlID09PSAnY29tcG9zaXRpb25lbmQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb3NpdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoY29tcG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXlDb2RlID0gZS53aGljaDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5Q29kZSA+PSAzNyAmJiBrZXlDb2RlIDw9IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5jdHJsS2V5ICYmIChrZXlDb2RlID09PSA4OSB8fCBrZXlDb2RlID09PSA5MCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQuJGMudHJpZ2dlcigndGJ3Y2hhbmdlJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWN0cmwgJiYga2V5Q29kZSAhPT0gMTcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQuc2VtYW50aWNDb2RlKGZhbHNlLCBrZXlDb2RlID09PSAxMyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LiRjLnRyaWdnZXIoJ3Rid2NoYW5nZScpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlLndoaWNoID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5zZW1hbnRpY0NvZGUoZmFsc2UsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3RybCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm9uKCdtb3VzZXVwIGtleWRvd24ga2V5dXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChkZWJvdW5jZUJ1dHRvblBhbmVTdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICBkZWJvdW5jZUJ1dHRvblBhbmVTdGF0dXMgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQudXBkYXRlQnV0dG9uUGFuZVN0YXR1cygpO1xuICAgICAgICAgICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oJ2ZvY3VzIGJsdXInLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICB0LiRjLnRyaWdnZXIoJ3RidycgKyBlLnR5cGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS50eXBlID09PSAnYmx1cicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy4nICsgcHJlZml4ICsgJ2FjdGl2ZS1idXR0b24nLCB0LiRidG5QYW5lKS5yZW1vdmVDbGFzcyhwcmVmaXggKyAnYWN0aXZlLWJ1dHRvbiAnICsgcHJlZml4ICsgJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oJ2N1dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LnNlbWFudGljQ29kZShmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LiRjLnRyaWdnZXIoJ3Rid2NoYW5nZScpO1xuICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5vbigncGFzdGUnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodC5vLnJlbW92ZWZvcm1hdFBhc3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElFXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHQgPSB3aW5kb3cuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCdUZXh0Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8PSBJRTEwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuZG9jLnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLnBhc3RlSFRNTCh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElFIDExXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuZG9jLmdldFNlbGVjdGlvbigpLmdldFJhbmdlQXQoMCkuaW5zZXJ0Tm9kZSh0LmRvYy5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdCBJRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuZXhlY0NtZCgnaW5zZXJ0VGV4dCcsIChlLm9yaWdpbmFsRXZlbnQgfHwgZSkuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCd0ZXh0L3BsYWluJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FsbCBwYXN0ZUhhbmRsZXJzXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaCh0LnBhc3RlSGFuZGxlcnMsIGZ1bmN0aW9uIChpLCBwYXN0ZUhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3RlSGFuZGxlcihlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LnNlbWFudGljQ29kZShmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LiRjLnRyaWdnZXIoJ3Rid3Bhc3RlJywgZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdC4kdGEub24oJ2tleXVwIHBhc3RlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB0LiRjLnRyaWdnZXIoJ3Rid2NoYW5nZScpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHQuJGJveC5vbigna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUud2hpY2ggPT09IDI3ICYmICQoJy4nICsgcHJlZml4ICsgJ21vZGFsLWJveCcsIHQuJGJveCkubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHQuY2xvc2VNb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvLyBCdWlsZCBidXR0b24gcGFuZSwgdXNlIG8uYnRucyBvcHRpb25cbiAgICAgICAgYnVpbGRCdG5QYW5lOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgcHJlZml4ID0gdC5vLnByZWZpeDtcblxuICAgICAgICAgICAgdmFyICRidG5QYW5lID0gdC4kYnRuUGFuZSA9ICQoJzxkaXYvPicsIHtcbiAgICAgICAgICAgICAgICBjbGFzczogcHJlZml4ICsgJ2J1dHRvbi1wYW5lJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQuZWFjaCh0Lm8uYnRucywgZnVuY3Rpb24gKGksIGJ0bkdycHMpIHtcbiAgICAgICAgICAgICAgICAvLyBNYW5hZ21lbnQgb2YgZ3JvdXAgb2YgYnV0dG9uc1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiID0gYnRuR3Jwcy5zcGxpdCgnYnRuR3JwLScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYlsxXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidG5HcnBzID0gdC5vLmJ0bnNHcnBzW2JbMV1dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoYykge1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghJC5pc0FycmF5KGJ0bkdycHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ0bkdycHMgPSBbYnRuR3Jwc107XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyICRidG5Hcm91cCA9ICQoJzxkaXYvPicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHByZWZpeCArICdidXR0b24tZ3JvdXAgJyArICgoYnRuR3Jwcy5pbmRleE9mKCdmdWxsc2NyZWVuJykgPj0gMCkgPyBwcmVmaXggKyAncmlnaHQnIDogJycpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJC5lYWNoKGJ0bkdycHMsIGZ1bmN0aW9uIChpLCBidG4pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHsgLy8gUHJldmVudCBidWlsZEJ0biBlcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRpdGVtO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodC5pc1N1cHBvcnRlZEJ0bihidG4pKSB7IC8vIEl0J3MgYSBzdXBwb3J0ZWQgYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGl0ZW0gPSB0LmJ1aWxkQnRuKGJ0bik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICRidG5Hcm91cC5hcHBlbmQoJGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChjKSB7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkYnRuUGFuZS5hcHBlbmQoJGJ0bkdyb3VwKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0LiRib3gucHJlcGVuZCgkYnRuUGFuZSk7XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvLyBCdWlsZCBhIGJ1dHRvbiBhbmQgaGlzIGFjdGlvblxuICAgICAgICBidWlsZEJ0bjogZnVuY3Rpb24gKGJ0bk5hbWUpIHsgLy8gYnRuTmFtZSBpcyBuYW1lIG9mIHRoZSBidXR0b25cbiAgICAgICAgICAgIHZhciB0ID0gdGhpcyxcbiAgICAgICAgICAgICAgICBwcmVmaXggPSB0Lm8ucHJlZml4LFxuICAgICAgICAgICAgICAgIGJ0biA9IHQuYnRuc0RlZltidG5OYW1lXSxcbiAgICAgICAgICAgICAgICBpc0Ryb3Bkb3duID0gYnRuLmRyb3Bkb3duLFxuICAgICAgICAgICAgICAgIGhhc0ljb24gPSBidG4uaGFzSWNvbiAhPSBudWxsID8gYnRuLmhhc0ljb24gOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRleHREZWYgPSB0LmxhbmdbYnRuTmFtZV0gfHwgYnRuTmFtZSxcblxuICAgICAgICAgICAgICAgICRidG4gPSAkKCc8YnV0dG9uLz4nLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdidXR0b24nLFxuICAgICAgICAgICAgICAgICAgICBjbGFzczogcHJlZml4ICsgYnRuTmFtZSArICctYnV0dG9uICcgKyAoYnRuLmNsYXNzIHx8ICcnKSArICghaGFzSWNvbiA/ICcgJyArIHByZWZpeCArICd0ZXh0dWFsLWJ1dHRvbicgOiAnJyksXG4gICAgICAgICAgICAgICAgICAgIGh0bWw6IHQuaGFzU3ZnICYmIGhhc0ljb24gP1xuICAgICAgICAgICAgICAgICAgICAgICc8c3ZnPjx1c2UgeGxpbms6aHJlZj1cIicgKyB0LnN2Z1BhdGggKyAnIycgKyBwcmVmaXggKyAoYnRuLmljbyB8fCBidG5OYW1lKS5yZXBsYWNlKC8oW0EtWl0rKS9nLCAnLSQxJykudG9Mb3dlckNhc2UoKSArICdcIi8+PC9zdmc+JyA6XG4gICAgICAgICAgICAgICAgICAgICAgdC5oaWRlQnV0dG9uVGV4dHMgPyAnJyA6IChidG4udGV4dCB8fCBidG4udGl0bGUgfHwgdC5sYW5nW2J0bk5hbWVdIHx8IGJ0bk5hbWUpLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogKGJ0bi50aXRsZSB8fCBidG4udGV4dCB8fCB0ZXh0RGVmKSArICgoYnRuLmtleSkgPyAnIChDdHJsICsgJyArIGJ0bi5rZXkgKyAnKScgOiAnJyksXG4gICAgICAgICAgICAgICAgICAgIHRhYmluZGV4OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgbW91c2Vkb3duOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRHJvcGRvd24gfHwgJCgnLicgKyBidG5OYW1lICsgJy0nICsgcHJlZml4ICsgJ2Ryb3Bkb3duJywgdC4kYm94KS5pcygnOmhpZGRlbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnYm9keScsIHQuZG9jKS50cmlnZ2VyKCdtb3VzZWRvd24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQuJGJ0blBhbmUuaGFzQ2xhc3MocHJlZml4ICsgJ2Rpc2FibGUnKSAmJiAhJCh0aGlzKS5oYXNDbGFzcyhwcmVmaXggKyAnYWN0aXZlJykgJiYgISQodGhpcykuaGFzQ2xhc3MocHJlZml4ICsgJ25vdC1kaXNhYmxlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHQuZXhlY0NtZCgoaXNEcm9wZG93biA/ICdkcm9wZG93bicgOiBmYWxzZSkgfHwgYnRuLmZuIHx8IGJ0bk5hbWUsIGJ0bi5wYXJhbSB8fCBidG5OYW1lLCBidG4uZm9yY2VDc3MgfHwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGlzRHJvcGRvd24pIHtcbiAgICAgICAgICAgICAgICAkYnRuLmFkZENsYXNzKHByZWZpeCArICdvcGVuLWRyb3Bkb3duJyk7XG4gICAgICAgICAgICAgICAgdmFyIGRyb3Bkb3duUHJlZml4ID0gcHJlZml4ICsgJ2Ryb3Bkb3duJyxcbiAgICAgICAgICAgICAgICAgICAgJGRyb3Bkb3duID0gJCgnPGRpdi8+JywgeyAvLyB0aGUgZHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBkcm9wZG93blByZWZpeCArICctJyArIGJ0bk5hbWUgKyAnICcgKyBkcm9wZG93blByZWZpeCArICcgJyArIHByZWZpeCArICdmaXhlZC10b3AnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEtZHJvcGRvd24nOiBidG5OYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICQuZWFjaChpc0Ryb3Bkb3duLCBmdW5jdGlvbiAoaSwgZGVmKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0LmJ0bnNEZWZbZGVmXSAmJiB0LmlzU3VwcG9ydGVkQnRuKGRlZikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRkcm9wZG93bi5hcHBlbmQodC5idWlsZFN1YkJ0bihkZWYpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHQuJGJveC5hcHBlbmQoJGRyb3Bkb3duLmhpZGUoKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJ0bi5rZXkpIHtcbiAgICAgICAgICAgICAgICB0LmtleXNbYnRuLmtleV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGZuOiBidG4uZm4gfHwgYnRuTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgcGFyYW06IGJ0bi5wYXJhbSB8fCBidG5OYW1lXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFpc0Ryb3Bkb3duKSB7XG4gICAgICAgICAgICAgICAgdC50YWdUb0J1dHRvblsoYnRuLnRhZyB8fCBidG5OYW1lKS50b0xvd2VyQ2FzZSgpXSA9IGJ0bk5hbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAkYnRuO1xuICAgICAgICB9LFxuICAgICAgICAvLyBCdWlsZCBhIGJ1dHRvbiBmb3IgZHJvcGRvd24gbWVudVxuICAgICAgICAvLyBAcGFyYW0gbiA6IG5hbWUgb2YgdGhlIHN1YmJ1dHRvblxuICAgICAgICBidWlsZFN1YkJ0bjogZnVuY3Rpb24gKGJ0bk5hbWUpIHtcbiAgICAgICAgICAgIHZhciB0ID0gdGhpcyxcbiAgICAgICAgICAgICAgICBwcmVmaXggPSB0Lm8ucHJlZml4LFxuICAgICAgICAgICAgICAgIGJ0biA9IHQuYnRuc0RlZltidG5OYW1lXSxcbiAgICAgICAgICAgICAgICBoYXNJY29uID0gYnRuLmhhc0ljb24gIT0gbnVsbCA/IGJ0bi5oYXNJY29uIDogdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKGJ0bi5rZXkpIHtcbiAgICAgICAgICAgICAgICB0LmtleXNbYnRuLmtleV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGZuOiBidG4uZm4gfHwgYnRuTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgcGFyYW06IGJ0bi5wYXJhbSB8fCBidG5OYW1lXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdC50YWdUb0J1dHRvblsoYnRuLnRhZyB8fCBidG5OYW1lKS50b0xvd2VyQ2FzZSgpXSA9IGJ0bk5hbWU7XG5cbiAgICAgICAgICAgIHJldHVybiAkKCc8YnV0dG9uLz4nLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICAgICAgICAgICAgY2xhc3M6IHByZWZpeCArIGJ0bk5hbWUgKyAnLWRyb3Bkb3duLWJ1dHRvbicgKyAoYnRuLmljbyA/ICcgJyArIHByZWZpeCArIGJ0bi5pY28gKyAnLWJ1dHRvbicgOiAnJyksXG4gICAgICAgICAgICAgICAgaHRtbDogdC5oYXNTdmcgJiYgaGFzSWNvbiA/ICc8c3ZnPjx1c2UgeGxpbms6aHJlZj1cIicgKyB0LnN2Z1BhdGggKyAnIycgKyBwcmVmaXggKyAoYnRuLmljbyB8fCBidG5OYW1lKS5yZXBsYWNlKC8oW0EtWl0rKS9nLCAnLSQxJykudG9Mb3dlckNhc2UoKSArICdcIi8+PC9zdmc+JyArIChidG4udGV4dCB8fCBidG4udGl0bGUgfHwgdC5sYW5nW2J0bk5hbWVdIHx8IGJ0bk5hbWUpIDogKGJ0bi50ZXh0IHx8IGJ0bi50aXRsZSB8fCB0LmxhbmdbYnRuTmFtZV0gfHwgYnRuTmFtZSksXG4gICAgICAgICAgICAgICAgdGl0bGU6ICgoYnRuLmtleSkgPyAnIChDdHJsICsgJyArIGJ0bi5rZXkgKyAnKScgOiBudWxsKSxcbiAgICAgICAgICAgICAgICBzdHlsZTogYnRuLnN0eWxlIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgbW91c2Vkb3duOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJ2JvZHknLCB0LmRvYykudHJpZ2dlcignbW91c2Vkb3duJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdC5leGVjQ21kKGJ0bi5mbiB8fCBidG5OYW1lLCBidG4ucGFyYW0gfHwgYnRuTmFtZSwgYnRuLmZvcmNlQ3NzIHx8IGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIENoZWNrIGlmIGJ1dHRvbiBpcyBzdXBwb3J0ZWRcbiAgICAgICAgaXNTdXBwb3J0ZWRCdG46IGZ1bmN0aW9uIChiKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJ0bnNEZWZbYl0uaXNTdXBwb3J0ZWQoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGMpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIEJ1aWxkIG92ZXJsYXkgZm9yIG1vZGFsIGJveFxuICAgICAgICBidWlsZE92ZXJsYXk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0ID0gdGhpcztcbiAgICAgICAgICAgIHQuJG92ZXJsYXkgPSAkKCc8ZGl2Lz4nLCB7XG4gICAgICAgICAgICAgICAgY2xhc3M6IHQuby5wcmVmaXggKyAnb3ZlcmxheSdcbiAgICAgICAgICAgIH0pLmNzcyh7XG4gICAgICAgICAgICAgICAgdG9wOiB0LiRidG5QYW5lLm91dGVySGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAodC4kZWQub3V0ZXJIZWlnaHQoKSArIDEpICsgJ3B4J1xuICAgICAgICAgICAgfSkuYXBwZW5kVG8odC4kYm94KTtcbiAgICAgICAgICAgIHJldHVybiB0LiRvdmVybGF5O1xuICAgICAgICB9LFxuICAgICAgICBzaG93T3ZlcmxheTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHQgPSB0aGlzO1xuICAgICAgICAgICAgJCh3aW5kb3cpLnRyaWdnZXIoJ3Njcm9sbCcpO1xuICAgICAgICAgICAgdC4kb3ZlcmxheS5mYWRlSW4oMjAwKTtcbiAgICAgICAgICAgIHQuJGJveC5hZGRDbGFzcyh0Lm8ucHJlZml4ICsgJ2JveC1ibHVyJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGhpZGVPdmVybGF5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdCA9IHRoaXM7XG4gICAgICAgICAgICB0LiRvdmVybGF5LmZhZGVPdXQoNTApO1xuICAgICAgICAgICAgdC4kYm94LnJlbW92ZUNsYXNzKHQuby5wcmVmaXggKyAnYm94LWJsdXInKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBNYW5hZ2VtZW50IG9mIGZpeGVkIGJ1dHRvbiBwYW5lXG4gICAgICAgIGZpeGVkQnRuUGFuZUV2ZW50czogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGZpeGVkRnVsbFdpZHRoID0gdC5vLmZpeGVkRnVsbFdpZHRoLFxuICAgICAgICAgICAgICAgICRib3ggPSB0LiRib3g7XG5cbiAgICAgICAgICAgIGlmICghdC5vLmZpeGVkQnRuUGFuZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdC5pc0ZpeGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICQod2luZG93KVxuICAgICAgICAgICAgICAgIC5vbignc2Nyb2xsLicrdC5ldmVudE5hbWVzcGFjZSsnIHJlc2l6ZS4nK3QuZXZlbnROYW1lc3BhY2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkYm94KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0LnN5bmNDb2RlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFRvcCA9ICQod2luZG93KS5zY3JvbGxUb3AoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9ICRib3gub2Zmc2V0KCkudG9wICsgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJwID0gdC4kYnRuUGFuZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9oID0gYnAub3V0ZXJIZWlnaHQoKSAtIDI7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKChzY3JvbGxUb3AgLSBvZmZzZXQgPiAwKSAmJiAoKHNjcm9sbFRvcCAtIG9mZnNldCAtIHQuaGVpZ2h0KSA8IDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXQuaXNGaXhlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuaXNGaXhlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnAuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogZml4ZWRGdWxsV2lkdGggPyAnMCcgOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogN1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoW3QuJHRhLCB0LiRlZF0pLmNzcyh7bWFyZ2luVG9wOiBicC5oZWlnaHQoKX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnAuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZml4ZWRGdWxsV2lkdGggPyAnMTAwJScgOiAoKCRib3gud2lkdGgoKSAtIDEpICsgJ3B4JylcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuJyArIHQuby5wcmVmaXggKyAnZml4ZWQtdG9wJywgJGJveCkuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogZml4ZWRGdWxsV2lkdGggPyAnZml4ZWQnIDogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IGZpeGVkRnVsbFdpZHRoID8gb2ggOiBvaCArIChzY3JvbGxUb3AgLSBvZmZzZXQpICsgJ3B4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDE1XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0LmlzRml4ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQuaXNGaXhlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnAucmVtb3ZlQXR0cignc3R5bGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoW3QuJHRhLCB0LiRlZF0pLmNzcyh7bWFyZ2luVG9wOiAwfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuJyArIHQuby5wcmVmaXggKyAnZml4ZWQtdG9wJywgJGJveCkuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IG9oXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIERpc2FibGUgZWRpdG9yXG4gICAgICAgIHRvZ2dsZURpc2FibGU6IGZ1bmN0aW9uIChkaXNhYmxlKSB7XG4gICAgICAgICAgICB2YXIgdCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgcHJlZml4ID0gdC5vLnByZWZpeDtcblxuICAgICAgICAgICAgdC5kaXNhYmxlZCA9IGRpc2FibGU7XG5cbiAgICAgICAgICAgIGlmIChkaXNhYmxlKSB7XG4gICAgICAgICAgICAgICAgdC4kdGEuYXR0cignZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdC4kdGEucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHQuJGJveC50b2dnbGVDbGFzcyhwcmVmaXggKyAnZGlzYWJsZWQnLCBkaXNhYmxlKTtcbiAgICAgICAgICAgIHQuJGVkLmF0dHIoJ2NvbnRlbnRlZGl0YWJsZScsICFkaXNhYmxlKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBEZXN0cm95IHRoZSBlZGl0b3JcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHByZWZpeCA9IHQuby5wcmVmaXgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gdC5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGlmICh0LmlzVGV4dGFyZWEpIHtcbiAgICAgICAgICAgICAgICB0LiRib3guYWZ0ZXIoXG4gICAgICAgICAgICAgICAgICAgIHQuJHRhXG4gICAgICAgICAgICAgICAgICAgICAgICAuY3NzKHtoZWlnaHQ6IGhlaWdodH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudmFsKHQuaHRtbCgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHByZWZpeCArICd0ZXh0YXJlYScpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2hvdygpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdC4kYm94LmFmdGVyKFxuICAgICAgICAgICAgICAgICAgICB0LiRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgLmNzcyh7aGVpZ2h0OiBoZWlnaHR9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHByZWZpeCArICdlZGl0b3InKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ2NvbnRlbnRlZGl0YWJsZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAuaHRtbCh0Lmh0bWwoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zaG93KClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0LiRlZC5vZmYoJ2RibGNsaWNrJywgJ2ltZycpO1xuXG4gICAgICAgICAgICB0LmRlc3Ryb3lQbHVnaW5zKCk7XG5cbiAgICAgICAgICAgIHQuJGJveC5yZW1vdmUoKTtcbiAgICAgICAgICAgIHQuJGMucmVtb3ZlRGF0YSgndHJ1bWJvd3lnJyk7XG4gICAgICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MocHJlZml4ICsgJ2JvZHktZnVsbHNjcmVlbicpO1xuICAgICAgICAgICAgdC4kYy50cmlnZ2VyKCd0YndjbG9zZScpO1xuICAgICAgICAgICAgJCh3aW5kb3cpLm9mZignc2Nyb2xsLicrdC5ldmVudE5hbWVzcGFjZSsnIHJlc2l6ZS4nK3QuZXZlbnROYW1lc3BhY2UpO1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLy8gRW1wdHkgdGhlIGVkaXRvclxuICAgICAgICBlbXB0eTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy4kdGEudmFsKCcnKTtcbiAgICAgICAgICAgIHRoaXMuc3luY0NvZGUodHJ1ZSk7XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvLyBGdW5jdGlvbiBjYWxsIHdoZW4gY2xpY2sgb24gdmlld0hUTUwgYnV0dG9uXG4gICAgICAgIHRvZ2dsZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHByZWZpeCA9IHQuby5wcmVmaXg7XG4gICAgICAgICAgICB0LnNlbWFudGljQ29kZShmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0LmRvYy5hY3RpdmVFbGVtZW50LmJsdXIoKTtcbiAgICAgICAgICAgICAgICB0LiRib3gudG9nZ2xlQ2xhc3MocHJlZml4ICsgJ2VkaXRvci1oaWRkZW4gJyArIHByZWZpeCArICdlZGl0b3ItdmlzaWJsZScpO1xuICAgICAgICAgICAgICAgIHQuJGJ0blBhbmUudG9nZ2xlQ2xhc3MocHJlZml4ICsgJ2Rpc2FibGUnKTtcbiAgICAgICAgICAgICAgICAkKCcuJyArIHByZWZpeCArICd2aWV3SFRNTC1idXR0b24nLCB0LiRidG5QYW5lKS50b2dnbGVDbGFzcyhwcmVmaXggKyAnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgaWYgKHQuJGJveC5oYXNDbGFzcyhwcmVmaXggKyAnZWRpdG9yLXZpc2libGUnKSkge1xuICAgICAgICAgICAgICAgICAgICB0LiR0YS5hdHRyKCd0YWJpbmRleCcsIC0xKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0LiR0YS5yZW1vdmVBdHRyKCd0YWJpbmRleCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIE9wZW4gZHJvcGRvd24gd2hlbiBjbGljayBvbiBhIGJ1dHRvbiB3aGljaCBvcGVuIHRoYXRcbiAgICAgICAgZHJvcGRvd246IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICB2YXIgdCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgZCA9IHQuZG9jLFxuICAgICAgICAgICAgICAgIHByZWZpeCA9IHQuby5wcmVmaXgsXG4gICAgICAgICAgICAgICAgJGRyb3Bkb3duID0gJCgnW2RhdGEtZHJvcGRvd249JyArIG5hbWUgKyAnXScsIHQuJGJveCksXG4gICAgICAgICAgICAgICAgJGJ0biA9ICQoJy4nICsgcHJlZml4ICsgbmFtZSArICctYnV0dG9uJywgdC4kYnRuUGFuZSksXG4gICAgICAgICAgICAgICAgc2hvdyA9ICRkcm9wZG93bi5pcygnOmhpZGRlbicpO1xuXG4gICAgICAgICAgICAkKCdib2R5JywgZCkudHJpZ2dlcignbW91c2Vkb3duJyk7XG5cbiAgICAgICAgICAgIGlmIChzaG93KSB7XG4gICAgICAgICAgICAgICAgdmFyIG8gPSAkYnRuLm9mZnNldCgpLmxlZnQ7XG4gICAgICAgICAgICAgICAgJGJ0bi5hZGRDbGFzcyhwcmVmaXggKyAnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICAkZHJvcGRvd24uY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgICAgIHRvcDogJGJ0bi5vZmZzZXQoKS50b3AgLSB0LiRidG5QYW5lLm9mZnNldCgpLnRvcCArICRidG4ub3V0ZXJIZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogKHQuby5maXhlZEZ1bGxXaWR0aCAmJiB0LmlzRml4ZWQpID8gbyArICdweCcgOiAobyAtIHQuJGJ0blBhbmUub2Zmc2V0KCkubGVmdCkgKyAncHgnXG4gICAgICAgICAgICAgICAgfSkuc2hvdygpO1xuXG4gICAgICAgICAgICAgICAgJCh3aW5kb3cpLnRyaWdnZXIoJ3Njcm9sbCcpO1xuXG4gICAgICAgICAgICAgICAgJCgnYm9keScsIGQpLm9uKCdtb3VzZWRvd24uJyt0LmV2ZW50TmFtZXNwYWNlLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoISRkcm9wZG93bi5pcyhlLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy4nICsgcHJlZml4ICsgJ2Ryb3Bkb3duJywgZCkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLicgKyBwcmVmaXggKyAnYWN0aXZlJywgZCkucmVtb3ZlQ2xhc3MocHJlZml4ICsgJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnYm9keScsIGQpLm9mZignbW91c2Vkb3duLicrdC5ldmVudE5hbWVzcGFjZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8vIEhUTUwgQ29kZSBtYW5hZ2VtZW50XG4gICAgICAgIGh0bWw6IGZ1bmN0aW9uIChodG1sKSB7XG4gICAgICAgICAgICB2YXIgdCA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoaHRtbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdC4kdGEudmFsKGh0bWwpO1xuICAgICAgICAgICAgICAgIHQuc3luY0NvZGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdC4kdGEudmFsKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHN5bmNUZXh0YXJlYTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHQgPSB0aGlzO1xuICAgICAgICAgICAgdC4kdGEudmFsKHQuJGVkLnRleHQoKS50cmltKCkubGVuZ3RoID4gMCB8fCB0LiRlZC5maW5kKCdocixpbWcsZW1iZWQsaWZyYW1lLGlucHV0JykubGVuZ3RoID4gMCA/IHQuJGVkLmh0bWwoKSA6ICcnKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3luY0NvZGU6IGZ1bmN0aW9uIChmb3JjZSkge1xuICAgICAgICAgICAgdmFyIHQgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCFmb3JjZSAmJiB0LiRlZC5pcygnOnZpc2libGUnKSkge1xuICAgICAgICAgICAgICAgIHQuc3luY1RleHRhcmVhKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHdyYXAgdGhlIGNvbnRlbnQgaW4gYSBkaXYgaXQncyBlYXNpZXIgdG8gZ2V0IHRoZSBpbm5lcmh0bWxcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9ICc8ZGl2PicgKyB0LiR0YS52YWwoKSArICc8L2Rpdj4nO1xuICAgICAgICAgICAgICAgIC8vc2NydWIgdGhlIGh0bWwgYmVmb3JlIGxvYWRpbmcgaW50byB0aGUgZG9jXG4gICAgICAgICAgICAgICAgaHRtbCA9ICQodC5vLnRhZ3NUb1JlbW92ZS5qb2luKCcsJyksIGh0bWwpLnJlbW92ZSgpLmVuZCgpLmh0bWwoKTtcbiAgICAgICAgICAgICAgICB0LiRlZC5odG1sKGh0bWwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodC5vLmF1dG9ncm93KSB7XG4gICAgICAgICAgICAgICAgdC5oZWlnaHQgPSB0LiRlZC5oZWlnaHQoKTtcbiAgICAgICAgICAgICAgICBpZiAodC5oZWlnaHQgIT09IHQuJHRhLmNzcygnaGVpZ2h0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgdC4kdGEuY3NzKHtoZWlnaHQ6IHQuaGVpZ2h0fSk7XG4gICAgICAgICAgICAgICAgICAgIHQuJGMudHJpZ2dlcigndGJ3cmVzaXplJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIEFuYWx5c2UgYW5kIHVwZGF0ZSB0byBzZW1hbnRpYyBjb2RlXG4gICAgICAgIC8vIEBwYXJhbSBmb3JjZSA6IGZvcmNlIHRvIHN5bmMgY29kZSBmcm9tIHRleHRhcmVhXG4gICAgICAgIC8vIEBwYXJhbSBmdWxsICA6IHdyYXAgdGV4dCBub2RlcyBpbiA8cD5cbiAgICAgICAgLy8gQHBhcmFtIGtlZXBSYW5nZSAgOiBsZWF2ZSBzZWxlY3Rpb24gcmFuZ2UgYXMgaXQgaXNcbiAgICAgICAgc2VtYW50aWNDb2RlOiBmdW5jdGlvbiAoZm9yY2UsIGZ1bGwsIGtlZXBSYW5nZSkge1xuICAgICAgICAgICAgdmFyIHQgPSB0aGlzO1xuICAgICAgICAgICAgdC5zYXZlUmFuZ2UoKTtcbiAgICAgICAgICAgIHQuc3luY0NvZGUoZm9yY2UpO1xuXG4gICAgICAgICAgICBpZiAodC5vLnNlbWFudGljKSB7XG4gICAgICAgICAgICAgICAgdC5zZW1hbnRpY1RhZygnYicsICdzdHJvbmcnKTtcbiAgICAgICAgICAgICAgICB0LnNlbWFudGljVGFnKCdpJywgJ2VtJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5saW5lRWxlbWVudHNTZWxlY3RvciA9IHQuby5pbmxpbmVFbGVtZW50c1NlbGVjdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tFbGVtZW50c1NlbGVjdG9yID0gJzpub3QoJyArIGlubGluZUVsZW1lbnRzU2VsZWN0b3IgKyAnKSc7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gV3JhcCB0ZXh0IG5vZGVzIGluIHNwYW4gZm9yIGVhc2llciBwcm9jZXNzaW5nXG4gICAgICAgICAgICAgICAgICAgIHQuJGVkLmNvbnRlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm5vZGVUeXBlID09PSAzICYmIHRoaXMubm9kZVZhbHVlLnRyaW0oKS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgICAgICAgICB9KS53cmFwKCc8c3BhbiBkYXRhLXRidy8+Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gV3JhcCBncm91cHMgb2YgaW5saW5lIGVsZW1lbnRzIGluIHBhcmFncmFwaHMgKHJlY3Vyc2l2ZSlcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdyYXBJbmxpbmVzSW5QYXJhZ3JhcGhzRnJvbSA9IGZ1bmN0aW9uICgkZnJvbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRmcm9tLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkZmluYWxQYXJhZ3JhcGggPSAkZnJvbS5uZXh0VW50aWwoYmxvY2tFbGVtZW50c1NlbGVjdG9yKS5hZGRCYWNrKCkud3JhcEFsbCgnPHAvPicpLnBhcmVudCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbmV4dEVsZW1lbnQgPSAkZmluYWxQYXJhZ3JhcGgubmV4dEFsbChpbmxpbmVFbGVtZW50c1NlbGVjdG9yKS5maXJzdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRmaW5hbFBhcmFncmFwaC5uZXh0KCdicicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBJbmxpbmVzSW5QYXJhZ3JhcGhzRnJvbSgkbmV4dEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB3cmFwSW5saW5lc0luUGFyYWdyYXBoc0Zyb20odC4kZWQuY2hpbGRyZW4oaW5saW5lRWxlbWVudHNTZWxlY3RvcikuZmlyc3QoKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdC5zZW1hbnRpY1RhZygnZGl2JywgJ3AnLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBVbndyYXAgcGFyYWdyYXBocyBjb250ZW50LCBjb250YWluaW5nIG5vdGhpbmcgdXNlZnVsbFxuICAgICAgICAgICAgICAgICAgICB0LiRlZC5maW5kKCdwJykuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHJlbW92ZSBjdXJyZW50bHkgYmVpbmcgZWRpdGVkIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0LnJhbmdlICYmIHRoaXMgPT09IHQucmFuZ2Uuc3RhcnRDb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCh0aGlzKS50ZXh0KCkudHJpbSgpLmxlbmd0aCA9PT0gMCAmJiAkKHRoaXMpLmNoaWxkcmVuKCkubm90KCdicixzcGFuJykubGVuZ3RoID09PSAwO1xuICAgICAgICAgICAgICAgICAgICB9KS5jb250ZW50cygpLnVud3JhcCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCByaWQgb2YgdGVtcG9yaWFsIHNwYW4nc1xuICAgICAgICAgICAgICAgICAgICAkKCdbZGF0YS10YnddJywgdC4kZWQpLmNvbnRlbnRzKCkudW53cmFwKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGVtcHR5IDxwPlxuICAgICAgICAgICAgICAgICAgICB0LiRlZC5maW5kKCdwOmVtcHR5JykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFrZWVwUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdC5yZXN0b3JlUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0LnN5bmNUZXh0YXJlYSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNlbWFudGljVGFnOiBmdW5jdGlvbiAob2xkVGFnLCBuZXdUYWcsIGNvcHlBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAkKG9sZFRhZywgdGhpcy4kZWQpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciAkb2xkVGFnID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICAkb2xkVGFnLndyYXAoJzwnICsgbmV3VGFnICsgJy8+Jyk7XG4gICAgICAgICAgICAgICAgaWYgKGNvcHlBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICQuZWFjaCgkb2xkVGFnLnByb3AoJ2F0dHJpYnV0ZXMnKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJG9sZFRhZy5wYXJlbnQoKS5hdHRyKHRoaXMubmFtZSwgdGhpcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkb2xkVGFnLmNvbnRlbnRzKCkudW53cmFwKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBGdW5jdGlvbiBjYWxsIHdoZW4gdXNlciBjbGljayBvbiBcIkluc2VydCBMaW5rXCJcbiAgICAgICAgY3JlYXRlTGluazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50U2VsZWN0aW9uID0gdC5kb2MuZ2V0U2VsZWN0aW9uKCksXG4gICAgICAgICAgICAgICAgbm9kZSA9IGRvY3VtZW50U2VsZWN0aW9uLmZvY3VzTm9kZSxcbiAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICAgICAgdGFyZ2V0O1xuXG4gICAgICAgICAgICB3aGlsZSAoWydBJywgJ0RJViddLmluZGV4T2Yobm9kZS5ub2RlTmFtZSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS5ub2RlTmFtZSA9PT0gJ0EnKSB7XG4gICAgICAgICAgICAgICAgdmFyICRhID0gJChub2RlKTtcbiAgICAgICAgICAgICAgICB1cmwgPSAkYS5hdHRyKCdocmVmJyk7XG4gICAgICAgICAgICAgICAgdGl0bGUgPSAkYS5hdHRyKCd0aXRsZScpO1xuICAgICAgICAgICAgICAgIHRhcmdldCA9ICRhLmF0dHIoJ3RhcmdldCcpO1xuICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHQuZG9jLmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZShub2RlKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudFNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudFNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHQuc2F2ZVJhbmdlKCk7XG5cbiAgICAgICAgICAgIHQub3Blbk1vZGFsSW5zZXJ0KHQubGFuZy5jcmVhdGVMaW5rLCB7XG4gICAgICAgICAgICAgICAgdXJsOiB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnVVJMJyxcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB1cmxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0LmxhbmcudGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aXRsZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdC5sYW5nLnRleHQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0LmdldFJhbmdlVGV4dCgpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHQubGFuZy50YXJnZXQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0YXJnZXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAodikgeyAvLyB2IGlzIHZhbHVlXG4gICAgICAgICAgICAgICAgdmFyIGxpbmsgPSAkKFsnPGEgaHJlZj1cIicsIHYudXJsLCAnXCI+Jywgdi50ZXh0LCAnPC9hPiddLmpvaW4oJycpKTtcbiAgICAgICAgICAgICAgICBpZiAodi50aXRsZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmsuYXR0cigndGl0bGUnLCB2LnRpdGxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHYudGFyZ2V0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbGluay5hdHRyKCd0YXJnZXQnLCB2LnRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHQucmFuZ2UuZGVsZXRlQ29udGVudHMoKTtcbiAgICAgICAgICAgICAgICB0LnJhbmdlLmluc2VydE5vZGUobGlua1swXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5saW5rOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgZG9jdW1lbnRTZWxlY3Rpb24gPSB0LmRvYy5nZXRTZWxlY3Rpb24oKSxcbiAgICAgICAgICAgICAgICBub2RlID0gZG9jdW1lbnRTZWxlY3Rpb24uZm9jdXNOb2RlO1xuXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnRTZWxlY3Rpb24uaXNDb2xsYXBzZWQpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAoWydBJywgJ0RJViddLmluZGV4T2Yobm9kZS5ub2RlTmFtZSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS5ub2RlTmFtZSA9PT0gJ0EnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHQuZG9jLmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdE5vZGUobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50U2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudFNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdC5leGVjQ21kKCd1bmxpbmsnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGluc2VydEltYWdlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdCA9IHRoaXM7XG4gICAgICAgICAgICB0LnNhdmVSYW5nZSgpO1xuICAgICAgICAgICAgdC5vcGVuTW9kYWxJbnNlcnQodC5sYW5nLmluc2VydEltYWdlLCB7XG4gICAgICAgICAgICAgICAgdXJsOiB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnVVJMJyxcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFsdDoge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdC5sYW5nLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdC5nZXRSYW5nZVRleHQoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh2KSB7IC8vIHYgYXJlIHZhbHVlc1xuICAgICAgICAgICAgICAgIHQuZXhlY0NtZCgnaW5zZXJ0SW1hZ2UnLCB2LnVybCk7XG4gICAgICAgICAgICAgICAgJCgnaW1nW3NyYz1cIicgKyB2LnVybCArICdcIl06bm90KFthbHRdKScsIHQuJGJveCkuYXR0cignYWx0Jywgdi5hbHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bGxzY3JlZW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0ID0gdGhpcyxcbiAgICAgICAgICAgICAgICBwcmVmaXggPSB0Lm8ucHJlZml4LFxuICAgICAgICAgICAgICAgIGZ1bGxzY3JlZW5Dc3NDbGFzcyA9IHByZWZpeCArICdmdWxsc2NyZWVuJyxcbiAgICAgICAgICAgICAgICBpc0Z1bGxzY3JlZW47XG5cbiAgICAgICAgICAgIHQuJGJveC50b2dnbGVDbGFzcyhmdWxsc2NyZWVuQ3NzQ2xhc3MpO1xuICAgICAgICAgICAgaXNGdWxsc2NyZWVuID0gdC4kYm94Lmhhc0NsYXNzKGZ1bGxzY3JlZW5Dc3NDbGFzcyk7XG4gICAgICAgICAgICAkKCdib2R5JykudG9nZ2xlQ2xhc3MocHJlZml4ICsgJ2JvZHktZnVsbHNjcmVlbicsIGlzRnVsbHNjcmVlbik7XG4gICAgICAgICAgICAkKHdpbmRvdykudHJpZ2dlcignc2Nyb2xsJyk7XG4gICAgICAgICAgICB0LiRjLnRyaWdnZXIoJ3RidycgKyAoaXNGdWxsc2NyZWVuID8gJ29wZW4nIDogJ2Nsb3NlJykgKyAnZnVsbHNjcmVlbicpO1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLypcbiAgICAgICAgICogQ2FsbCBtZXRob2Qgb2YgdHJ1bWJvd3lnIGlmIGV4aXN0XG4gICAgICAgICAqIGVsc2UgdHJ5IHRvIGNhbGwgYW5vbnltb3VzIGZ1bmN0aW9uXG4gICAgICAgICAqIGFuZCBmaW5hbHkgbmF0aXZlIGV4ZWNDb21tYW5kXG4gICAgICAgICAqL1xuICAgICAgICBleGVjQ21kOiBmdW5jdGlvbiAoY21kLCBwYXJhbSwgZm9yY2VDc3MsIHNraXBUcnVtYm93eWcpIHtcbiAgICAgICAgICAgIHZhciB0ID0gdGhpcztcbiAgICAgICAgICAgIHNraXBUcnVtYm93eWcgPSAhIXNraXBUcnVtYm93eWcgfHwgJyc7XG5cbiAgICAgICAgICAgIGlmIChjbWQgIT09ICdkcm9wZG93bicpIHtcbiAgICAgICAgICAgICAgICB0LiRlZC5mb2N1cygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHQuZG9jLmV4ZWNDb21tYW5kKCdzdHlsZVdpdGhDU1MnLCBmYWxzZSwgZm9yY2VDc3MgfHwgZmFsc2UpO1xuICAgICAgICAgICAgfSBjYXRjaCAoYykge1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRbY21kICsgc2tpcFRydW1ib3d5Z10ocGFyYW0pO1xuICAgICAgICAgICAgfSBjYXRjaCAoYykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNtZChwYXJhbSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZTIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNtZCA9PT0gJ2luc2VydEhvcml6b250YWxSdWxlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY21kID09PSAnZm9ybWF0QmxvY2snICYmIHQuaXNJRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0gPSAnPCcgKyBwYXJhbSArICc+JztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHQuZG9jLmV4ZWNDb21tYW5kKGNtZCwgZmFsc2UsIHBhcmFtKTtcblxuICAgICAgICAgICAgICAgICAgICB0LnN5bmNDb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgIHQuc2VtYW50aWNDb2RlKGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY21kICE9PSAnZHJvcGRvd24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHQudXBkYXRlQnV0dG9uUGFuZVN0YXR1cygpO1xuICAgICAgICAgICAgICAgICAgICB0LiRjLnRyaWdnZXIoJ3Rid2NoYW5nZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8vIE9wZW4gYSBtb2RhbCBib3hcbiAgICAgICAgb3Blbk1vZGFsOiBmdW5jdGlvbiAodGl0bGUsIGNvbnRlbnQpIHtcbiAgICAgICAgICAgIHZhciB0ID0gdGhpcyxcbiAgICAgICAgICAgICAgICBwcmVmaXggPSB0Lm8ucHJlZml4O1xuXG4gICAgICAgICAgICAvLyBObyBvcGVuIGEgbW9kYWwgYm94IHdoZW4gZXhpc3Qgb3RoZXIgbW9kYWwgYm94XG4gICAgICAgICAgICBpZiAoJCgnLicgKyBwcmVmaXggKyAnbW9kYWwtYm94JywgdC4kYm94KS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0LnNhdmVSYW5nZSgpO1xuICAgICAgICAgICAgdC5zaG93T3ZlcmxheSgpO1xuXG4gICAgICAgICAgICAvLyBEaXNhYmxlIGFsbCBidG5QYW5lIGJ0bnNcbiAgICAgICAgICAgIHQuJGJ0blBhbmUuYWRkQ2xhc3MocHJlZml4ICsgJ2Rpc2FibGUnKTtcblxuICAgICAgICAgICAgLy8gQnVpbGQgb3V0IG9mIE1vZGFsQm94LCBpdCdzIHRoZSBtYXNrIGZvciBhbmltYXRpb25zXG4gICAgICAgICAgICB2YXIgJG1vZGFsID0gJCgnPGRpdi8+Jywge1xuICAgICAgICAgICAgICAgIGNsYXNzOiBwcmVmaXggKyAnbW9kYWwgJyArIHByZWZpeCArICdmaXhlZC10b3AnXG4gICAgICAgICAgICB9KS5jc3Moe1xuICAgICAgICAgICAgICAgIHRvcDogdC4kYnRuUGFuZS5oZWlnaHQoKVxuICAgICAgICAgICAgfSkuYXBwZW5kVG8odC4kYm94KTtcblxuICAgICAgICAgICAgLy8gQ2xpY2sgb24gb3ZlcmxheSBjbG9zZSBtb2RhbCBieSBjYW5jZWxsaW5nIHRoZW1cbiAgICAgICAgICAgIHQuJG92ZXJsYXkub25lKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkbW9kYWwudHJpZ2dlcigndGJ3Y2FuY2VsJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEJ1aWxkIHRoZSBmb3JtXG4gICAgICAgICAgICB2YXIgJGZvcm0gPSAkKCc8Zm9ybS8+Jywge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogJycsXG4gICAgICAgICAgICAgICAgaHRtbDogY29udGVudFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJG1vZGFsLnRyaWdnZXIoJ3Rid2NvbmZpcm0nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm9uKCdyZXNldCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJG1vZGFsLnRyaWdnZXIoJ3Rid2NhbmNlbCcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgLy8gQnVpbGQgTW9kYWxCb3ggYW5kIGFuaW1hdGUgdG8gc2hvdyB0aGVtXG4gICAgICAgICAgICB2YXIgJGJveCA9ICQoJzxkaXYvPicsIHtcbiAgICAgICAgICAgICAgICBjbGFzczogcHJlZml4ICsgJ21vZGFsLWJveCcsXG4gICAgICAgICAgICAgICAgaHRtbDogJGZvcm1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogJy0nICsgdC4kYnRuUGFuZS5vdXRlckhlaWdodCgpICsgJ3B4JyxcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKCRtb2RhbClcbiAgICAgICAgICAgICAgICAuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICAgICAgICAgIH0sIDEwMCk7XG5cblxuICAgICAgICAgICAgLy8gQXBwZW5kIHRpdGxlXG4gICAgICAgICAgICAkKCc8c3Bhbi8+Jywge1xuICAgICAgICAgICAgICAgIHRleHQ6IHRpdGxlLFxuICAgICAgICAgICAgICAgIGNsYXNzOiBwcmVmaXggKyAnbW9kYWwtdGl0bGUnXG4gICAgICAgICAgICB9KS5wcmVwZW5kVG8oJGJveCk7XG5cbiAgICAgICAgICAgICRtb2RhbC5oZWlnaHQoJGJveC5vdXRlckhlaWdodCgpICsgMTApO1xuXG5cbiAgICAgICAgICAgIC8vIEZvY3VzIGluIG1vZGFsIGJveFxuICAgICAgICAgICAgJCgnaW5wdXQ6Zmlyc3QnLCAkYm94KS5mb2N1cygpO1xuXG5cbiAgICAgICAgICAgIC8vIEFwcGVuZCBDb25maXJtIGFuZCBDYW5jZWwgYnV0dG9uc1xuICAgICAgICAgICAgdC5idWlsZE1vZGFsQnRuKCdzdWJtaXQnLCAkYm94KTtcbiAgICAgICAgICAgIHQuYnVpbGRNb2RhbEJ0bigncmVzZXQnLCAkYm94KTtcblxuXG4gICAgICAgICAgICAkKHdpbmRvdykudHJpZ2dlcignc2Nyb2xsJyk7XG5cbiAgICAgICAgICAgIHJldHVybiAkbW9kYWw7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIEBwYXJhbSBuIGlzIG5hbWUgb2YgbW9kYWxcbiAgICAgICAgYnVpbGRNb2RhbEJ0bjogZnVuY3Rpb24gKG4sICRtb2RhbCkge1xuICAgICAgICAgICAgdmFyIHQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHByZWZpeCA9IHQuby5wcmVmaXg7XG5cbiAgICAgICAgICAgIHJldHVybiAkKCc8YnV0dG9uLz4nLCB7XG4gICAgICAgICAgICAgICAgY2xhc3M6IHByZWZpeCArICdtb2RhbC1idXR0b24gJyArIHByZWZpeCArICdtb2RhbC0nICsgbixcbiAgICAgICAgICAgICAgICB0eXBlOiBuLFxuICAgICAgICAgICAgICAgIHRleHQ6IHQubGFuZ1tuXSB8fCBuXG4gICAgICAgICAgICB9KS5hcHBlbmRUbygkKCdmb3JtJywgJG1vZGFsKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIGNsb3NlIGN1cnJlbnQgbW9kYWwgYm94XG4gICAgICAgIGNsb3NlTW9kYWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0ID0gdGhpcyxcbiAgICAgICAgICAgICAgICBwcmVmaXggPSB0Lm8ucHJlZml4O1xuXG4gICAgICAgICAgICB0LiRidG5QYW5lLnJlbW92ZUNsYXNzKHByZWZpeCArICdkaXNhYmxlJyk7XG4gICAgICAgICAgICB0LiRvdmVybGF5Lm9mZigpO1xuXG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBtb2RhbCBib3hcbiAgICAgICAgICAgIHZhciAkbW9kYWxCb3ggPSAkKCcuJyArIHByZWZpeCArICdtb2RhbC1ib3gnLCB0LiRib3gpO1xuXG4gICAgICAgICAgICAkbW9kYWxCb3guYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgdG9wOiAnLScgKyAkbW9kYWxCb3guaGVpZ2h0KClcbiAgICAgICAgICAgIH0sIDEwMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRtb2RhbEJveC5wYXJlbnQoKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB0LmhpZGVPdmVybGF5KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdC5yZXN0b3JlUmFuZ2UoKTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gUHJlZm9ybWF0ZWQgYnVpbGQgYW5kIG1hbmFnZW1lbnQgbW9kYWxcbiAgICAgICAgb3Blbk1vZGFsSW5zZXJ0OiBmdW5jdGlvbiAodGl0bGUsIGZpZWxkcywgY21kKSB7XG4gICAgICAgICAgICB2YXIgdCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgcHJlZml4ID0gdC5vLnByZWZpeCxcbiAgICAgICAgICAgICAgICBsZyA9IHQubGFuZyxcbiAgICAgICAgICAgICAgICBodG1sID0gJycsXG4gICAgICAgICAgICAgICAgQ09ORklSTV9FVkVOVCA9ICd0Yndjb25maXJtJztcblxuICAgICAgICAgICAgJC5lYWNoKGZpZWxkcywgZnVuY3Rpb24gKGZpZWxkTmFtZSwgZmllbGQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbCA9IGZpZWxkLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICBuID0gZmllbGQubmFtZSB8fCBmaWVsZE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGEgPSBmaWVsZC5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gICAgICAgICAgICAgICAgdmFyIGF0dHIgPSBPYmplY3Qua2V5cyhhKS5tYXAoZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3AgKyAnPVwiJyArIGFbcHJvcF0gKyAnXCInO1xuICAgICAgICAgICAgICAgIH0pLmpvaW4oJyAnKTtcblxuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxsYWJlbD48aW5wdXQgdHlwZT1cIicgKyAoZmllbGQudHlwZSB8fCAndGV4dCcpICsgJ1wiIG5hbWU9XCInICsgbiArICdcIiB2YWx1ZT1cIicgKyAoZmllbGQudmFsdWUgfHwgJycpLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKSArICdcIicgKyBhdHRyICsgJz48c3BhbiBjbGFzcz1cIicgKyBwcmVmaXggKyAnaW5wdXQtaW5mb3NcIj48c3Bhbj4nICtcbiAgICAgICAgICAgICAgICAgICAgKCghbCkgPyAobGdbZmllbGROYW1lXSA/IGxnW2ZpZWxkTmFtZV0gOiBmaWVsZE5hbWUpIDogKGxnW2xdID8gbGdbbF0gOiBsKSkgK1xuICAgICAgICAgICAgICAgICAgICAnPC9zcGFuPjwvc3Bhbj48L2xhYmVsPic7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHQub3Blbk1vZGFsKHRpdGxlLCBodG1sKVxuICAgICAgICAgICAgICAgIC5vbihDT05GSVJNX0VWRU5ULCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkZm9ybSA9ICQoJ2Zvcm0nLCAkKHRoaXMpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcyA9IHt9O1xuXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChmaWVsZHMsIGZ1bmN0aW9uIChmaWVsZE5hbWUsIGZpZWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGZpZWxkID0gJCgnaW5wdXRbbmFtZT1cIicgKyBmaWVsZE5hbWUgKyAnXCJdJywgJGZvcm0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VHlwZSA9ICRmaWVsZC5hdHRyKCd0eXBlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dFR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tmaWVsZE5hbWVdID0gJGZpZWxkLmlzKCc6Y2hlY2tlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbZmllbGROYW1lXSA9ICQudHJpbSgkZmllbGQudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZC5yZXF1aXJlZCAmJiB2YWx1ZXNbZmllbGROYW1lXSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuYWRkRXJyb3JPbk1vZGFsRmllbGQoJGZpZWxkLCB0LmxhbmcucmVxdWlyZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmaWVsZC5wYXR0ZXJuICYmICFmaWVsZC5wYXR0ZXJuLnRlc3QodmFsdWVzW2ZpZWxkTmFtZV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LmFkZEVycm9yT25Nb2RhbEZpZWxkKCRmaWVsZCwgZmllbGQucGF0dGVybkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LnJlc3RvcmVSYW5nZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY21kKHZhbHVlcywgZmllbGRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuc3luY0NvZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LiRjLnRyaWdnZXIoJ3Rid2NoYW5nZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuY2xvc2VNb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykub2ZmKENPTkZJUk1fRVZFTlQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub25lKCd0YndjYW5jZWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykub2ZmKENPTkZJUk1fRVZFTlQpO1xuICAgICAgICAgICAgICAgICAgICB0LmNsb3NlTW9kYWwoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkRXJyb3JPbk1vZGFsRmllbGQ6IGZ1bmN0aW9uICgkZmllbGQsIGVycikge1xuICAgICAgICAgICAgdmFyIHByZWZpeCA9IHRoaXMuby5wcmVmaXgsXG4gICAgICAgICAgICAgICAgJGxhYmVsID0gJGZpZWxkLnBhcmVudCgpO1xuXG4gICAgICAgICAgICAkZmllbGRcbiAgICAgICAgICAgICAgICAub24oJ2NoYW5nZSBrZXl1cCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJGxhYmVsLnJlbW92ZUNsYXNzKHByZWZpeCArICdpbnB1dC1lcnJvcicpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkbGFiZWxcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MocHJlZml4ICsgJ2lucHV0LWVycm9yJylcbiAgICAgICAgICAgICAgICAuZmluZCgnaW5wdXQrc3BhbicpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgJCgnPHNwYW4vPicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBwcmVmaXggKyAnbXNnLWVycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGVyclxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvLyBSYW5nZSBtYW5hZ2VtZW50XG4gICAgICAgIHNhdmVSYW5nZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50U2VsZWN0aW9uID0gdC5kb2MuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgICAgICAgICAgIHQucmFuZ2UgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnRTZWxlY3Rpb24ucmFuZ2VDb3VudCkge1xuICAgICAgICAgICAgICAgIHZhciBzYXZlZFJhbmdlID0gdC5yYW5nZSA9IGRvY3VtZW50U2VsZWN0aW9uLmdldFJhbmdlQXQoMCksXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gdC5kb2MuY3JlYXRlUmFuZ2UoKSxcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VTdGFydDtcbiAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHModC4kZWRbMF0pO1xuICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZChzYXZlZFJhbmdlLnN0YXJ0Q29udGFpbmVyLCBzYXZlZFJhbmdlLnN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICByYW5nZVN0YXJ0ID0gKHJhbmdlICsgJycpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB0Lm1ldGFSYW5nZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHJhbmdlU3RhcnQsXG4gICAgICAgICAgICAgICAgICAgIGVuZDogcmFuZ2VTdGFydCArIChzYXZlZFJhbmdlICsgJycpLmxlbmd0aFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlc3RvcmVSYW5nZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIG1ldGFSYW5nZSA9IHQubWV0YVJhbmdlLFxuICAgICAgICAgICAgICAgIHNhdmVkUmFuZ2UgPSB0LnJhbmdlLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50U2VsZWN0aW9uID0gdC5kb2MuZ2V0U2VsZWN0aW9uKCksXG4gICAgICAgICAgICAgICAgcmFuZ2U7XG5cbiAgICAgICAgICAgIGlmICghc2F2ZWRSYW5nZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1ldGFSYW5nZSAmJiBtZXRhUmFuZ2Uuc3RhcnQgIT09IG1ldGFSYW5nZS5lbmQpIHsgLy8gQWxnb3JpdGhtIGZyb20gaHR0cDovL2pzZmlkZGxlLm5ldC9XZVd5Ny8zL1xuICAgICAgICAgICAgICAgIHZhciBjaGFySW5kZXggPSAwLFxuICAgICAgICAgICAgICAgICAgICBub2RlU3RhY2sgPSBbdC4kZWRbMF1dLFxuICAgICAgICAgICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgICAgICAgICBmb3VuZFN0YXJ0ID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIHJhbmdlID0gdC5kb2MuY3JlYXRlUmFuZ2UoKTtcblxuICAgICAgICAgICAgICAgIHdoaWxlICghc3RvcCAmJiAobm9kZSA9IG5vZGVTdGFjay5wb3AoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0Q2hhckluZGV4ID0gY2hhckluZGV4ICsgbm9kZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZvdW5kU3RhcnQgJiYgbWV0YVJhbmdlLnN0YXJ0ID49IGNoYXJJbmRleCAmJiBtZXRhUmFuZ2Uuc3RhcnQgPD0gbmV4dENoYXJJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KG5vZGUsIG1ldGFSYW5nZS5zdGFydCAtIGNoYXJJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRTdGFydCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmRTdGFydCAmJiBtZXRhUmFuZ2UuZW5kID49IGNoYXJJbmRleCAmJiBtZXRhUmFuZ2UuZW5kIDw9IG5leHRDaGFySW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQobm9kZSwgbWV0YVJhbmdlLmVuZCAtIGNoYXJJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFySW5kZXggPSBuZXh0Q2hhckluZGV4O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNuID0gbm9kZS5jaGlsZE5vZGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBjbi5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlU3RhY2sucHVzaChjbltpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRvY3VtZW50U2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICAgICAgZG9jdW1lbnRTZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UgfHwgc2F2ZWRSYW5nZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFJhbmdlVGV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmFuZ2UgKyAnJztcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVCdXR0b25QYW5lU3RhdHVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgcHJlZml4ID0gdC5vLnByZWZpeCxcbiAgICAgICAgICAgICAgICB0YWdzID0gdC5nZXRUYWdzUmVjdXJzaXZlKHQuZG9jLmdldFNlbGVjdGlvbigpLmZvY3VzTm9kZSksXG4gICAgICAgICAgICAgICAgYWN0aXZlQ2xhc3NlcyA9IHByZWZpeCArICdhY3RpdmUtYnV0dG9uICcgKyBwcmVmaXggKyAnYWN0aXZlJztcblxuICAgICAgICAgICAgJCgnLicgKyBwcmVmaXggKyAnYWN0aXZlLWJ1dHRvbicsIHQuJGJ0blBhbmUpLnJlbW92ZUNsYXNzKGFjdGl2ZUNsYXNzZXMpO1xuICAgICAgICAgICAgJC5lYWNoKHRhZ3MsIGZ1bmN0aW9uIChpLCB0YWcpIHtcbiAgICAgICAgICAgICAgICB2YXIgYnRuTmFtZSA9IHQudGFnVG9CdXR0b25bdGFnLnRvTG93ZXJDYXNlKCldLFxuICAgICAgICAgICAgICAgICAgICAkYnRuID0gJCgnLicgKyBwcmVmaXggKyBidG5OYW1lICsgJy1idXR0b24nLCB0LiRidG5QYW5lKTtcblxuICAgICAgICAgICAgICAgIGlmICgkYnRuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgJGJ0bi5hZGRDbGFzcyhhY3RpdmVDbGFzc2VzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGJ0biA9ICQoJy4nICsgcHJlZml4ICsgJ2Ryb3Bkb3duIC4nICsgcHJlZml4ICsgYnRuTmFtZSArICctZHJvcGRvd24tYnV0dG9uJywgdC4kYm94KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkcm9wZG93bkJ0bk5hbWUgPSAkYnRuLnBhcmVudCgpLmRhdGEoJ2Ryb3Bkb3duJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuJyArIHByZWZpeCArIGRyb3Bkb3duQnRuTmFtZSArICctYnV0dG9uJywgdC4kYm94KS5hZGRDbGFzcyhhY3RpdmVDbGFzc2VzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFRhZ3NSZWN1cnNpdmU6IGZ1bmN0aW9uIChlbGVtZW50LCB0YWdzKSB7XG4gICAgICAgICAgICB2YXIgdCA9IHRoaXM7XG4gICAgICAgICAgICB0YWdzID0gdGFncyB8fCAoZWxlbWVudCAmJiBlbGVtZW50LnRhZ05hbWUgPyBbZWxlbWVudC50YWdOYW1lXSA6IFtdKTtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhZ3M7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB0YWcgPSBlbGVtZW50LnRhZ05hbWU7XG4gICAgICAgICAgICBpZiAodGFnID09PSAnRElWJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0YWdzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRhZyA9PT0gJ1AnICYmIGVsZW1lbnQuc3R5bGUudGV4dEFsaWduICE9PSAnJykge1xuICAgICAgICAgICAgICAgIHRhZ3MucHVzaChlbGVtZW50LnN0eWxlLnRleHRBbGlnbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQuZWFjaCh0LnRhZ0hhbmRsZXJzLCBmdW5jdGlvbiAoaSwgdGFnSGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHRhZ3MgPSB0YWdzLmNvbmNhdCh0YWdIYW5kbGVyKGVsZW1lbnQsIHQpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0YWdzLnB1c2godGFnKTtcblxuICAgICAgICAgICAgcmV0dXJuIHQuZ2V0VGFnc1JlY3Vyc2l2ZShlbGVtZW50LCB0YWdzKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBQbHVnaW5zXG4gICAgICAgIGluaXRQbHVnaW5zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdCA9IHRoaXM7XG4gICAgICAgICAgICB0LmxvYWRlZFBsdWdpbnMgPSBbXTtcbiAgICAgICAgICAgICQuZWFjaCgkLnRydW1ib3d5Zy5wbHVnaW5zLCBmdW5jdGlvbiAobmFtZSwgcGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwbHVnaW4uc2hvdWxkSW5pdCB8fCBwbHVnaW4uc2hvdWxkSW5pdCh0KSkge1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4uaW5pdCh0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsdWdpbi50YWdIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LnRhZ0hhbmRsZXJzLnB1c2gocGx1Z2luLnRhZ0hhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHQubG9hZGVkUGx1Z2lucy5wdXNoKHBsdWdpbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlc3Ryb3lQbHVnaW5zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkLmVhY2godGhpcy5sb2FkZWRQbHVnaW5zLCBmdW5jdGlvbiAoaSwgcGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbi5kZXN0cm95KSB7XG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufSkobmF2aWdhdG9yLCB3aW5kb3csIGRvY3VtZW50LCBqUXVlcnkpO1xuIl19"}